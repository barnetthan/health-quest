(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Ho(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zm={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function aR(){if(E0)return au;E0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return au.Fragment=e,au.jsx=t,au.jsxs=t,au}var T0;function oR(){return T0||(T0=1,zm.exports=aR()),zm.exports}var S=oR(),Bm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function lR(){if(b0)return Ie;b0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function j(V,ne,he){this.props=V,this.context=ne,this.refs=$,this.updater=he||x}j.prototype.isReactComponent={},j.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=j.prototype;function ee(V,ne,he){this.props=V,this.context=ne,this.refs=$,this.updater=he||x}var Q=ee.prototype=new H;Q.constructor=ee,k(Q,j.prototype),Q.isPureReactComponent=!0;var re=Array.isArray,te={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function M(V,ne,he,ue,oe,Ee){return he=Ee.ref,{$$typeof:i,type:V,key:ne,ref:he!==void 0?he:null,props:Ee}}function I(V,ne){return M(V.type,ne,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function D(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return ne[he]})}var P=/\/+/g;function z(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):ne.toString(36)}function O(){}function nt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ze(V,ne,he,ue,oe){var Ee=typeof V;(Ee==="undefined"||Ee==="boolean")&&(V=null);var we=!1;if(V===null)we=!0;else switch(Ee){case"bigint":case"string":case"number":we=!0;break;case"object":switch(V.$$typeof){case i:case e:we=!0;break;case E:return we=V._init,Ze(we(V._payload),ne,he,ue,oe)}}if(we)return oe=oe(V),we=ue===""?"."+z(V,0):ue,re(oe)?(he="",we!=null&&(he=we.replace(P,"$&/")+"/"),Ze(oe,ne,he,"",function(Ke){return Ke})):oe!=null&&(R(oe)&&(oe=I(oe,he+(oe.key==null||V&&V.key===oe.key?"":(""+oe.key).replace(P,"$&/")+"/")+we)),ne.push(oe)),1;we=0;var Je=ue===""?".":ue+":";if(re(V))for(var De=0;De<V.length;De++)ue=V[De],Ee=Je+z(ue,De),we+=Ze(ue,ne,he,Ee,oe);else if(De=w(V),typeof De=="function")for(V=De.call(V),De=0;!(ue=V.next()).done;)ue=ue.value,Ee=Je+z(ue,De++),we+=Ze(ue,ne,he,Ee,oe);else if(Ee==="object"){if(typeof V.then=="function")return Ze(nt(V),ne,he,ue,oe);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function ae(V,ne,he){if(V==null)return V;var ue=[],oe=0;return Ze(V,ue,"","",function(Ee){return ne.call(he,Ee,oe++)}),ue}function ge(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var ce=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ve(){}return Ie.Children={map:ae,forEach:function(V,ne,he){ae(V,function(){ne.apply(this,arguments)},he)},count:function(V){var ne=0;return ae(V,function(){ne++}),ne},toArray:function(V){return ae(V,function(ne){return ne})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=j,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=ee,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cloneElement=function(V,ne,he){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=k({},V.props),oe=V.key,Ee=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Ee=void 0),ne.key!==void 0&&(oe=""+ne.key),ne)!se.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(ue[we]=ne[we]);var we=arguments.length-2;if(we===1)ue.children=he;else if(1<we){for(var Je=Array(we),De=0;De<we;De++)Je[De]=arguments[De+2];ue.children=Je}return M(V.type,oe,void 0,void 0,Ee,ue)},Ie.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ie.createElement=function(V,ne,he){var ue,oe={},Ee=null;if(ne!=null)for(ue in ne.key!==void 0&&(Ee=""+ne.key),ne)se.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(oe[ue]=ne[ue]);var we=arguments.length-2;if(we===1)oe.children=he;else if(1<we){for(var Je=Array(we),De=0;De<we;De++)Je[De]=arguments[De+2];oe.children=Je}if(V&&V.defaultProps)for(ue in we=V.defaultProps,we)oe[ue]===void 0&&(oe[ue]=we[ue]);return M(V,Ee,void 0,void 0,null,oe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:d,render:V}},Ie.isValidElement=R,Ie.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ge}},Ie.memo=function(V,ne){return{$$typeof:g,type:V,compare:ne===void 0?null:ne}},Ie.startTransition=function(V){var ne=te.T,he={};te.T=he;try{var ue=V(),oe=te.S;oe!==null&&oe(he,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ve,ce)}catch(Ee){ce(Ee)}finally{te.T=ne}},Ie.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ie.use=function(V){return te.H.use(V)},Ie.useActionState=function(V,ne,he){return te.H.useActionState(V,ne,he)},Ie.useCallback=function(V,ne){return te.H.useCallback(V,ne)},Ie.useContext=function(V){return te.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,ne){return te.H.useDeferredValue(V,ne)},Ie.useEffect=function(V,ne){return te.H.useEffect(V,ne)},Ie.useId=function(){return te.H.useId()},Ie.useImperativeHandle=function(V,ne,he){return te.H.useImperativeHandle(V,ne,he)},Ie.useInsertionEffect=function(V,ne){return te.H.useInsertionEffect(V,ne)},Ie.useLayoutEffect=function(V,ne){return te.H.useLayoutEffect(V,ne)},Ie.useMemo=function(V,ne){return te.H.useMemo(V,ne)},Ie.useOptimistic=function(V,ne){return te.H.useOptimistic(V,ne)},Ie.useReducer=function(V,ne,he){return te.H.useReducer(V,ne,he)},Ie.useRef=function(V){return te.H.useRef(V)},Ie.useState=function(V){return te.H.useState(V)},Ie.useSyncExternalStore=function(V,ne,he){return te.H.useSyncExternalStore(V,ne,he)},Ie.useTransition=function(){return te.H.useTransition()},Ie.version="19.0.0",Ie}var w0;function hf(){return w0||(w0=1,Bm.exports=lR()),Bm.exports}var C=hf();const gn=Ho(C);var Fm={exports:{}},ou={},qm={exports:{}},Hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function uR(){return A0||(A0=1,function(i){function e(ae,ge){var ce=ae.length;ae.push(ge);e:for(;0<ce;){var Ve=ce-1>>>1,V=ae[Ve];if(0<o(V,ge))ae[Ve]=ge,ae[ce]=V,ce=Ve;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var ge=ae[0],ce=ae.pop();if(ce!==ge){ae[0]=ce;e:for(var Ve=0,V=ae.length,ne=V>>>1;Ve<ne;){var he=2*(Ve+1)-1,ue=ae[he],oe=he+1,Ee=ae[oe];if(0>o(ue,ce))oe<V&&0>o(Ee,ue)?(ae[Ve]=Ee,ae[oe]=ce,Ve=oe):(ae[Ve]=ue,ae[he]=ce,Ve=he);else if(oe<V&&0>o(Ee,ce))ae[Ve]=Ee,ae[oe]=ce,Ve=oe;else break e}}return ge}function o(ae,ge){var ce=ae.sortIndex-ge.sortIndex;return ce!==0?ce:ae.id-ge.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,w=3,x=!1,k=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function Q(ae){for(var ge=t(g);ge!==null;){if(ge.callback===null)s(g);else if(ge.startTime<=ae)s(g),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(g)}}function re(ae){if($=!1,Q(ae),!k)if(t(p)!==null)k=!0,nt();else{var ge=t(g);ge!==null&&Ze(re,ge.startTime-ae)}}var te=!1,se=-1,M=5,I=-1;function R(){return!(i.unstable_now()-I<M)}function D(){if(te){var ae=i.unstable_now();I=ae;var ge=!0;try{e:{k=!1,$&&($=!1,H(se),se=-1),x=!0;var ce=w;try{t:{for(Q(ae),T=t(p);T!==null&&!(T.expirationTime>ae&&R());){var Ve=T.callback;if(typeof Ve=="function"){T.callback=null,w=T.priorityLevel;var V=Ve(T.expirationTime<=ae);if(ae=i.unstable_now(),typeof V=="function"){T.callback=V,Q(ae),ge=!0;break t}T===t(p)&&s(p),Q(ae)}else s(p);T=t(p)}if(T!==null)ge=!0;else{var ne=t(g);ne!==null&&Ze(re,ne.startTime-ae),ge=!1}}break e}finally{T=null,w=ce,x=!1}ge=void 0}}finally{ge?P():te=!1}}}var P;if(typeof ee=="function")P=function(){ee(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,O=z.port2;z.port1.onmessage=D,P=function(){O.postMessage(null)}}else P=function(){j(D,0)};function nt(){te||(te=!0,P())}function Ze(ae,ge){se=j(function(){ae(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ae){ae.callback=null},i.unstable_continueExecution=function(){k||x||(k=!0,nt())},i.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ae?Math.floor(1e3/ae):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var ge=3;break;default:ge=w}var ce=w;w=ge;try{return ae()}finally{w=ce}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ce=w;w=ae;try{return ge()}finally{w=ce}},i.unstable_scheduleCallback=function(ae,ge,ce){var Ve=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ve+ce:Ve):ce=Ve,ae){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ce+V,ae={id:E++,callback:ge,priorityLevel:ae,startTime:ce,expirationTime:V,sortIndex:-1},ce>Ve?(ae.sortIndex=ce,e(g,ae),t(p)===null&&ae===t(g)&&($?(H(se),se=-1):$=!0,Ze(re,ce-Ve))):(ae.sortIndex=V,e(p,ae),k||x||(k=!0,nt())),ae},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(ae){var ge=w;return function(){var ce=w;w=ge;try{return ae.apply(this,arguments)}finally{w=ce}}}}(Hm)),Hm}var S0;function cR(){return S0||(S0=1,qm.exports=uR()),qm.exports}var Gm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function hR(){if(R0)return an;R0=1;var i=hf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,E)},an.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},an.requestFormReset=function(p){s.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.0.0",an}var C0;function jT(){if(C0)return Gm.exports;C0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=hR(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function fR(){if(I0)return ou;I0=1;var i=cR(),e=hf(),t=jT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Provider";case w:return(n._context.displayName||"Context")+".Consumer";case k:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return r=n.displayName||null,r!==null?r:I(n.type)||"Memo";case ee:r=n._payload,n=n._init;try{return I(n(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,P,z;function O(n){if(P===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+z}var nt=!1;function Ze(n,r){if(!n||nt)return"";nt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Y){var G=Y}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(Y){G=Y}n.call(ie.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],b=m[1];if(_&&b){var N=_.split(`
`),U=b.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===U.length)for(u=N.length-1,f=U.length-1;1<=u&&0<=f&&N[u]!==U[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==U[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==U[f]){var X=`
`+N[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=f);break}}}finally{nt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function ae(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=Ze(n.type,!1),n;case 11:return n=Ze(n.type.render,!1),n;case 1:return n=Ze(n.type,!0),n;default:return""}}function ge(n){try{var r="";do r+=ae(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ce(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ve(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function V(n){if(ce(n)!==n)throw Error(s(188))}function ne(n){var r=n.alternate;if(!r){if(r=ce(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===u)return V(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,u=m;break}if(b===u){_=!0,u=f,a=m;break}b=b.sibling}if(!_){for(b=m.child;b;){if(b===a){_=!0,a=m,u=f;break}if(b===u){_=!0,u=m,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function he(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=he(n),r!==null)return r;n=n.sibling}return null}var ue=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},we=[],Je=-1;function De(n){return{current:n}}function Ke(n){0>Je||(n.current=we[Je],we[Je]=null,Je--)}function Oe(n,r){Je++,we[Je]=n.current,n.current=r}var lt=De(null),It=De(null),yt=De(null),zt=De(null);function Me(n,r){switch(Oe(yt,r),Oe(It,n),Oe(lt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Y_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=Y_(n),r=X_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ke(lt),Oe(lt,r)}function nn(){Ke(lt),Ke(It),Ke(yt)}function vn(n){n.memoizedState!==null&&Oe(zt,n);var r=lt.current,a=X_(r,n.type);r!==a&&(Oe(It,n),Oe(lt,a))}function ni(n){It.current===n&&(Ke(lt),Ke(It)),zt.current===n&&(Ke(zt),tu._currentValue=Ee)}var yi=Object.prototype.hasOwnProperty,Rn=i.unstable_scheduleCallback,ii=i.unstable_cancelCallback,Us=i.unstable_shouldYield,Gi=i.unstable_requestPaint,Nt=i.unstable_now,Vr=i.unstable_getCurrentPriorityLevel,_e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,_n=i.unstable_NormalPriority,$i=i.unstable_LowPriority,Pn=i.unstable_IdlePriority,il=i.log,vi=i.unstable_setDisableYieldValue,Pr=null,rn=null;function rl(n){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Pr,n,void 0,(n.current.flags&128)===128)}catch{}}function _i(n){if(typeof il=="function"&&vi(n),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Pr,n)}catch{}}var hn=Math.clz32?Math.clz32:Yu,sl=Math.log,Qu=Math.LN2;function Yu(n){return n>>>=0,n===0?32:31-(sl(n)/Qu|0)|0}var Ei=128,Lr=4194304;function ri(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ln(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?u=ri(a):(m&=b,m!==0?u=ri(m):n||(_=b&~_,_!==0&&(u=ri(_))))):(b=a&~f,b!==0?u=ri(b):m!==0?u=ri(m):n||(_=a&~_,_!==0&&(u=ri(_)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,_=r&-r,f>=_||f===32&&(_&4194176)!==0)?r:u}function Ur(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Va(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var n=Ei;return Ei<<=1,(Ei&4194176)===0&&(Ei=128),n}function jr(){var n=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),n}function Pa(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function vt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Xu(n,r,a,u,f,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,U=n.hiddenUpdates;for(a=_&~a;0<a;){var X=31-hn(a),ie=1<<X;b[X]=0,N[X]=-1;var G=U[X];if(G!==null)for(U[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}a&=~ie}u!==0&&zr(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~r))}function zr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-hn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Br(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-hn(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Wu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Zu(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:m0(n.type))}function Fr(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var Ti=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Ti,xt="__reactProps$"+Ti,Ki="__reactContainer$"+Ti,js="__reactEvents$"+Ti,La="__reactListeners$"+Ti,bi="__reactHandles$"+Ti,ol="__reactResources$"+Ti,qr="__reactMarker$"+Ti;function zs(n){delete n[Bt],delete n[xt],delete n[js],delete n[La],delete n[bi]}function si(n){var r=n[Bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ki]||a[Bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=J_(n);n!==null;){if(a=n[Bt])return a;n=J_(n)}return r}n=a,a=n.parentNode}return null}function Qi(n){if(n=n[Bt]||n[Ki]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Hr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Gr(n){var r=n[ol];return r||(r=n[ol]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(n){n[qr]=!0}var ll=new Set,Ua={};function Cn(n,r){En(n,r),En(n+"Capture",r)}function En(n,r){for(Ua[n]=r,n=0;n<r.length;n++)ll.add(r[n])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function Ju(n){return yi.call(cl,n)?!0:yi.call(ul,n)?!1:Hf.test(n)?cl[n]=!0:(ul[n]=!0,!1)}function $r(n,r,a){if(Ju(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Kr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Un(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ec(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Gf(n){var r=ec(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Bs(n){n._valueTracker||(n._valueTracker=Gf(n))}function hl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=ec(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function ja(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Yi=/[\n"\\]/g;function dt(n){return n.replace(Yi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Qr(n,r,a,u,f,m,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+fn(r)):n.value!==""+fn(r)&&(n.value=""+fn(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?za(n,_,fn(r)):a!=null?za(n,_,fn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+fn(b):n.removeAttribute("name")}function Fs(n,r,a,u,f,m,_,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+fn(a):"",r=r!=null?""+fn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function za(n,r,a){r==="number"&&ja(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function He(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+fn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function qs(n,r,a){if(r!=null&&(r=""+fn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+fn(a):""}function Yr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=fn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function jn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var $f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||$f.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function tc(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&fl(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&fl(n,m,r[m])}function dl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wi(n){return Qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var zn=null;function Ba(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xi=null,Wi=null;function Zi(n){var r=Qi(n);if(r&&(n=r.stateNode)){var a=n[xt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Qr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[xt]||null;if(!f)throw Error(s(90));Qr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&hl(u)}break e;case"textarea":qs(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&He(n,!!a.multiple,r,!1)}}}var ml=!1;function nc(n,r,a){if(ml)return n(r,a);ml=!0;try{var u=n(r);return u}finally{if(ml=!1,(Xi!==null||Wi!==null)&&(Kc(),Xi&&(r=Xi,n=Wi,Wi=Xi=null,Zi(r),n)))for(r=0;r<n.length;r++)Zi(n[r])}}function Hs(n,r){var a=n.stateNode;if(a===null)return null;var u=a[xt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!1;if(In)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{Bn=!1}var Ai=null,Xr=null,Ji=null;function pl(){if(Ji)return Ji;var n,r=Xr,a=r.length,u,f="value"in Ai?Ai.value:Ai.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(u=1;u<=_&&r[a-u]===f[m-u];u++);return Ji=f.slice(n,1<u?1-u:void 0)}function Si(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ri(){return!0}function gl(){return!1}function Ft(n){function r(a,u,f,m,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ri:gl,this.isPropagationStopped=gl,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),r}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Ft(Qe),$s=D({},Qe,{view:0,detail:0}),ic=Ft($s),qa,Ha,Ci,Ks=D({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ci&&(Ci&&n.type==="mousemove"?(qa=n.screenX-Ci.screenX,Ha=n.screenY-Ci.screenY):Ha=qa=0,Ci=n),qa)},movementY:function(n){return"movementY"in n?n.movementY:Ha}}),Fn=Ft(Ks),rc=D({},Ks,{dataTransfer:0}),Yf=Ft(rc),Qs=D({},$s,{relatedTarget:0}),Ga=Ft(Qs),yl=D({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=Ft(yl),sc=D({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ka=Ft(sc),Xf=D({},Qe,{data:0}),vl=Ft(Xf),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _l(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=oc[n])?!!r[n]:!1}function Xs(){return _l}var lc=D({},$s,{key:function(n){if(n.key){var r=Ys[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Si(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ac[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(n){return n.type==="keypress"?Si(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Si(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Qa=Ft(lc),uc=D({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=Ft(uc),er=D({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),cc=Ft(er),hc=D({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),fc=Ft(hc),dc=D({},Ks,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ya=Ft(dc),dn=D({},Qe,{newState:0,oldState:0}),mc=Ft(dn),pc=[9,13,27,32],Ii=In&&"CompositionEvent"in window,c=null;In&&"documentMode"in document&&(c=document.documentMode);var y=In&&"TextEvent"in window&&!c,v=In&&(!Ii||c&&8<c&&11>=c),A=" ",F=!1;function K(n,r){switch(n){case"keyup":return pc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function Dt(n,r){switch(n){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(F=!0,A);case"textInput":return n=r.data,n===A&&F?null:n;default:return null}}function Be(n,r){if(ze)return n==="compositionend"||!Ii&&K(n,r)?(n=pl(),Ji=Xr=Ai=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!qt[n.type]:r==="textarea"}function tr(n,r,a,u){Xi?Wi?Wi.push(u):Wi=[u]:Xi=u,r=Zc(r,"onChange"),0<r.length&&(a=new Fa("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var Qt=null,Ni=null;function Tl(n){H_(n,0)}function gc(n){var r=Hr(n);if(hl(r))return n}function _y(n,r){if(n==="change")return r}var Ey=!1;if(In){var Wf;if(In){var Zf="oninput"in document;if(!Zf){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),Zf=typeof Ty.oninput=="function"}Wf=Zf}else Wf=!1;Ey=Wf&&(!document.documentMode||9<document.documentMode)}function by(){Qt&&(Qt.detachEvent("onpropertychange",wy),Ni=Qt=null)}function wy(n){if(n.propertyName==="value"&&gc(Ni)){var r=[];tr(r,Ni,n,Ba(n)),nc(Tl,r)}}function PA(n,r,a){n==="focusin"?(by(),Qt=r,Ni=a,Qt.attachEvent("onpropertychange",wy)):n==="focusout"&&by()}function LA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gc(Ni)}function UA(n,r){if(n==="click")return gc(r)}function jA(n,r){if(n==="input"||n==="change")return gc(r)}function zA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Nn=typeof Object.is=="function"?Object.is:zA;function bl(n,r){if(Nn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!yi.call(r,f)||!Nn(n[f],r[f]))return!1}return!0}function Ay(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sy(n,r){var a=Ay(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ay(a)}}function Ry(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ry(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Cy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ja(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ja(n.document)}return r}function Jf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function BA(n,r){var a=Cy(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Ry(r.ownerDocument.documentElement,r)){if(u!==null&&Jf(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=Sy(r,m);var _=Sy(r,u);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var FA=In&&"documentMode"in document&&11>=document.documentMode,Xa=null,ed=null,wl=null,td=!1;function Iy(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;td||Xa==null||Xa!==ja(u)||(u=Xa,"selectionStart"in u&&Jf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wl&&bl(wl,u)||(wl=u,u=Zc(ed,"onSelect"),0<u.length&&(r=new Fa("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=Xa)))}function Ws(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Wa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},nd={},Ny={};In&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function Zs(n){if(nd[n])return nd[n];if(!Wa[n])return n;var r=Wa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ny)return nd[n]=r[a];return n}var xy=Zs("animationend"),Dy=Zs("animationiteration"),Oy=Zs("animationstart"),qA=Zs("transitionrun"),HA=Zs("transitionstart"),GA=Zs("transitioncancel"),My=Zs("transitionend"),ky=new Map,Vy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ai(n,r){ky.set(n,r),Cn(r,[n])}var qn=[],Za=0,id=0;function yc(){for(var n=Za,r=id=Za=0;r<n;){var a=qn[r];qn[r++]=null;var u=qn[r];qn[r++]=null;var f=qn[r];qn[r++]=null;var m=qn[r];if(qn[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&Py(a,f,m)}}function vc(n,r,a,u){qn[Za++]=n,qn[Za++]=r,qn[Za++]=a,qn[Za++]=u,id|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function rd(n,r,a,u){return vc(n,r,a,u),_c(n)}function Wr(n,r){return vc(n,null,null,r),_c(n)}function Py(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-hn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function _c(n){if(50<Ql)throw Ql=0,cm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ja={},Ly=new WeakMap;function Hn(n,r){if(typeof n=="object"&&n!==null){var a=Ly.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ge(r)},Ly.set(n,r),r)}return{value:n,source:r,stack:ge(r)}}var eo=[],to=0,Ec=null,Tc=0,Gn=[],$n=0,Js=null,nr=1,ir="";function ea(n,r){eo[to++]=Tc,eo[to++]=Ec,Ec=n,Tc=r}function Uy(n,r,a){Gn[$n++]=nr,Gn[$n++]=ir,Gn[$n++]=Js,Js=n;var u=nr;n=ir;var f=32-hn(u)-1;u&=~(1<<f),a+=1;var m=32-hn(r)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,nr=1<<32-hn(r)+f|a<<f|u,ir=m+n}else nr=1<<m|a<<f|u,ir=n}function sd(n){n.return!==null&&(ea(n,1),Uy(n,1,0))}function ad(n){for(;n===Ec;)Ec=eo[--to],eo[to]=null,Tc=eo[--to],eo[to]=null;for(;n===Js;)Js=Gn[--$n],Gn[$n]=null,ir=Gn[--$n],Gn[$n]=null,nr=Gn[--$n],Gn[$n]=null}var mn=null,Yt=null,Ge=!1,oi=null,xi=!1,od=Error(s(519));function ta(n){var r=Error(s(418,""));throw Rl(Hn(r,n)),od}function jy(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Bt]=n,r[xt]=u,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Xl.length;a++)je(Xl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Fs(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Bs(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Yr(r,u.value,u.defaultValue,u.children),Bs(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||Q_(r.textContent,a)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=Jc),r=!0):r=!1,r||ta(n)}function zy(n){for(mn=n.return;mn;)switch(mn.tag){case 3:case 27:xi=!0;return;case 5:case 13:xi=!1;return;default:mn=mn.return}}function Al(n){if(n!==mn)return!1;if(!Ge)return zy(n),Ge=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Cm(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Yt&&ta(n),zy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Yt=ui(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Yt=null}}else Yt=mn?ui(n.stateNode.nextSibling):null;return!0}function Sl(){Yt=mn=null,Ge=!1}function Rl(n){oi===null?oi=[n]:oi.push(n)}var Cl=Error(s(460)),By=Error(s(474)),ld={then:function(){}};function Fy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bc(){}function qy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(bc,bc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Cl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(bc,bc);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===Cl?Error(s(483)):n}throw Il=r,Cl}}var Il=null;function Hy(){if(Il===null)throw Error(s(459));var n=Il;return Il=null,n}var no=null,Nl=0;function wc(n){var r=Nl;return Nl+=1,no===null&&(no=[]),qy(no,n,r)}function xl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Ac(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Gy(n){var r=n._init;return r(n._payload)}function $y(n){function r(B,L){if(n){var q=B.deletions;q===null?(B.deletions=[L],B.flags|=16):q.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=us(B,L),B.index=0,B.sibling=null,B}function m(B,L,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<L?(B.flags|=33554434,L):q):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function _(B){return n&&B.alternate===null&&(B.flags|=33554434),B}function b(B,L,q,W){return L===null||L.tag!==6?(L=nm(q,B.mode,W),L.return=B,L):(L=f(L,q),L.return=B,L)}function N(B,L,q,W){var me=q.type;return me===p?X(B,L,q.props.children,W,q.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ee&&Gy(me)===L.type)?(L=f(L,q.props),xl(L,q),L.return=B,L):(L=Fc(q.type,q.key,q.props,null,B.mode,W),xl(L,q),L.return=B,L)}function U(B,L,q,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=im(q,B.mode,W),L.return=B,L):(L=f(L,q.children||[]),L.return=B,L)}function X(B,L,q,W,me){return L===null||L.tag!==7?(L=ha(q,B.mode,W,me),L.return=B,L):(L=f(L,q),L.return=B,L)}function ie(B,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=nm(""+L,B.mode,q),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return q=Fc(L.type,L.key,L.props,null,B.mode,q),xl(q,L),q.return=B,q;case d:return L=im(L,B.mode,q),L.return=B,L;case ee:var W=L._init;return L=W(L._payload),ie(B,L,q)}if(ue(L)||se(L))return L=ha(L,B.mode,q,null),L.return=B,L;if(typeof L.then=="function")return ie(B,wc(L),q);if(L.$$typeof===x)return ie(B,jc(B,L),q);Ac(B,L)}return null}function G(B,L,q,W){var me=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:b(B,L,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case h:return q.key===me?N(B,L,q,W):null;case d:return q.key===me?U(B,L,q,W):null;case ee:return me=q._init,q=me(q._payload),G(B,L,q,W)}if(ue(q)||se(q))return me!==null?null:X(B,L,q,W,null);if(typeof q.then=="function")return G(B,L,wc(q),W);if(q.$$typeof===x)return G(B,L,jc(B,q),W);Ac(B,q)}return null}function Y(B,L,q,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(q)||null,b(L,B,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return B=B.get(W.key===null?q:W.key)||null,N(L,B,W,me);case d:return B=B.get(W.key===null?q:W.key)||null,U(L,B,W,me);case ee:var ke=W._init;return W=ke(W._payload),Y(B,L,q,W,me)}if(ue(W)||se(W))return B=B.get(q)||null,X(L,B,W,me,null);if(typeof W.then=="function")return Y(B,L,q,wc(W),me);if(W.$$typeof===x)return Y(B,L,q,jc(L,W),me);Ac(L,W)}return null}function pe(B,L,q,W){for(var me=null,ke=null,ye=L,Te=L=0,$t=null;ye!==null&&Te<q.length;Te++){ye.index>Te?($t=ye,ye=null):$t=ye.sibling;var $e=G(B,ye,q[Te],W);if($e===null){ye===null&&(ye=$t);break}n&&ye&&$e.alternate===null&&r(B,ye),L=m($e,L,Te),ke===null?me=$e:ke.sibling=$e,ke=$e,ye=$t}if(Te===q.length)return a(B,ye),Ge&&ea(B,Te),me;if(ye===null){for(;Te<q.length;Te++)ye=ie(B,q[Te],W),ye!==null&&(L=m(ye,L,Te),ke===null?me=ye:ke.sibling=ye,ke=ye);return Ge&&ea(B,Te),me}for(ye=u(ye);Te<q.length;Te++)$t=Y(ye,B,Te,q[Te],W),$t!==null&&(n&&$t.alternate!==null&&ye.delete($t.key===null?Te:$t.key),L=m($t,L,Te),ke===null?me=$t:ke.sibling=$t,ke=$t);return n&&ye.forEach(function(gs){return r(B,gs)}),Ge&&ea(B,Te),me}function Re(B,L,q,W){if(q==null)throw Error(s(151));for(var me=null,ke=null,ye=L,Te=L=0,$t=null,$e=q.next();ye!==null&&!$e.done;Te++,$e=q.next()){ye.index>Te?($t=ye,ye=null):$t=ye.sibling;var gs=G(B,ye,$e.value,W);if(gs===null){ye===null&&(ye=$t);break}n&&ye&&gs.alternate===null&&r(B,ye),L=m(gs,L,Te),ke===null?me=gs:ke.sibling=gs,ke=gs,ye=$t}if($e.done)return a(B,ye),Ge&&ea(B,Te),me;if(ye===null){for(;!$e.done;Te++,$e=q.next())$e=ie(B,$e.value,W),$e!==null&&(L=m($e,L,Te),ke===null?me=$e:ke.sibling=$e,ke=$e);return Ge&&ea(B,Te),me}for(ye=u(ye);!$e.done;Te++,$e=q.next())$e=Y(ye,B,Te,$e.value,W),$e!==null&&(n&&$e.alternate!==null&&ye.delete($e.key===null?Te:$e.key),L=m($e,L,Te),ke===null?me=$e:ke.sibling=$e,ke=$e);return n&&ye.forEach(function(sR){return r(B,sR)}),Ge&&ea(B,Te),me}function gt(B,L,q,W){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case h:e:{for(var me=q.key;L!==null;){if(L.key===me){if(me=q.type,me===p){if(L.tag===7){a(B,L.sibling),W=f(L,q.props.children),W.return=B,B=W;break e}}else if(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ee&&Gy(me)===L.type){a(B,L.sibling),W=f(L,q.props),xl(W,q),W.return=B,B=W;break e}a(B,L);break}else r(B,L);L=L.sibling}q.type===p?(W=ha(q.props.children,B.mode,W,q.key),W.return=B,B=W):(W=Fc(q.type,q.key,q.props,null,B.mode,W),xl(W,q),W.return=B,B=W)}return _(B);case d:e:{for(me=q.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(B,L.sibling),W=f(L,q.children||[]),W.return=B,B=W;break e}else{a(B,L);break}else r(B,L);L=L.sibling}W=im(q,B.mode,W),W.return=B,B=W}return _(B);case ee:return me=q._init,q=me(q._payload),gt(B,L,q,W)}if(ue(q))return pe(B,L,q,W);if(se(q)){if(me=se(q),typeof me!="function")throw Error(s(150));return q=me.call(q),Re(B,L,q,W)}if(typeof q.then=="function")return gt(B,L,wc(q),W);if(q.$$typeof===x)return gt(B,L,jc(B,q),W);Ac(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(B,L.sibling),W=f(L,q),W.return=B,B=W):(a(B,L),W=nm(q,B.mode,W),W.return=B,B=W),_(B)):a(B,L)}return function(B,L,q,W){try{Nl=0;var me=gt(B,L,q,W);return no=null,me}catch(ye){if(ye===Cl)throw ye;var ke=Xn(29,ye,null,B.mode);return ke.lanes=W,ke.return=B,ke}finally{}}}var na=$y(!0),Ky=$y(!1),io=De(null),Sc=De(0);function Qy(n,r){n=mr,Oe(Sc,n),Oe(io,r),mr=n|r.baseLanes}function ud(){Oe(Sc,mr),Oe(io,io.current)}function cd(){mr=Sc.current,Ke(io),Ke(Sc)}var Kn=De(null),Di=null;function Zr(n){var r=n.alternate;Oe(Mt,Mt.current&1),Oe(Kn,n),Di===null&&(r===null||io.current!==null||r.memoizedState!==null)&&(Di=n)}function Yy(n){if(n.tag===22){if(Oe(Mt,Mt.current),Oe(Kn,n),Di===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Di=n)}}else Jr()}function Jr(){Oe(Mt,Mt.current),Oe(Kn,Kn.current)}function rr(n){Ke(Kn),Di===n&&(Di=null),Ke(Mt)}var Mt=De(0);function Rc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var $A=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},KA=i.unstable_scheduleCallback,QA=i.unstable_NormalPriority,kt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new $A,data:new Map,refCount:0}}function Dl(n){n.refCount--,n.refCount===0&&KA(QA,function(){n.controller.abort()})}var Ol=null,fd=0,ro=0,so=null;function YA(n,r){if(Ol===null){var a=Ol=[];fd=0,ro=vm(),so={status:"pending",value:void 0,then:function(u){a.push(u)}}}return fd++,r.then(Xy,Xy),r}function Xy(){if(--fd===0&&Ol!==null){so!==null&&(so.status="fulfilled");var n=Ol;Ol=null,ro=0,so=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function XA(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Wy=R.S;R.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&YA(n,r),Wy!==null&&Wy(n,r)};var ia=De(null);function dd(){var n=ia.current;return n!==null?n:it.pooledCache}function Cc(n,r){r===null?Oe(ia,ia.current):Oe(ia,r.pool)}function Zy(){var n=dd();return n===null?null:{parent:kt._currentValue,pool:n}}var es=0,Ne=null,Xe=null,wt=null,Ic=!1,ao=!1,ra=!1,Nc=0,Ml=0,oo=null,WA=0;function _t(){throw Error(s(321))}function md(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Nn(n[a],r[a]))return!1;return!0}function pd(n,r,a,u,f,m){return es=m,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=n===null||n.memoizedState===null?sa:ts,ra=!1,m=a(u,f),ra=!1,ao&&(m=ev(r,a,u,f)),Jy(n),m}function Jy(n){R.H=Oi;var r=Xe!==null&&Xe.next!==null;if(es=0,wt=Xe=Ne=null,Ic=!1,Ml=0,oo=null,r)throw Error(s(300));n===null||Ht||(n=n.dependencies,n!==null&&Uc(n)&&(Ht=!0))}function ev(n,r,a,u){Ne=n;var f=0;do{if(ao&&(oo=null),Ml=0,ao=!1,25<=f)throw Error(s(301));if(f+=1,wt=Xe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=aa,m=r(a,u)}while(ao);return m}function ZA(){var n=R.H,r=n.useState()[0];return r=typeof r.then=="function"?kl(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ne.flags|=1024),r}function gd(){var n=Nc!==0;return Nc=0,n}function yd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function vd(n){if(Ic){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ic=!1}es=0,wt=Xe=Ne=null,ao=!1,Ml=Nc=0,oo=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ne.memoizedState=wt=n:wt=wt.next=n,wt}function At(){if(Xe===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=wt===null?Ne.memoizedState:wt.next;if(r!==null)wt=r,Xe=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},wt===null?Ne.memoizedState=wt=n:wt=wt.next=n}return wt}var xc;xc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function kl(n){var r=Ml;return Ml+=1,oo===null&&(oo=[]),n=qy(oo,n,r),r=Ne,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?sa:ts),n}function Dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return kl(n);if(n.$$typeof===x)return sn(n)}throw Error(s(438,String(n)))}function _d(n){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=xc(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=re;return r.index++,a}function sr(n,r){return typeof r=="function"?r(n):r}function Oc(n){var r=At();return Ed(r,Xe,n)}function Ed(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var b=_=null,N=null,U=r,X=!1;do{var ie=U.lane&-536870913;if(ie!==U.lane?(Fe&ie)===ie:(es&ie)===ie){var G=U.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ie===ro&&(X=!0);else if((es&G)===G){U=U.next,G===ro&&(X=!0);continue}else ie={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=ie,_=m):N=N.next=ie,Ne.lanes|=G,cs|=G;ie=U.action,ra&&a(m,ie),m=U.hasEagerState?U.eagerState:a(m,ie)}else G={lane:ie,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(b=N=G,_=m):N=N.next=G,Ne.lanes|=ie,cs|=ie;U=U.next}while(U!==null&&U!==r);if(N===null?_=m:N.next=b,!Nn(m,n.memoizedState)&&(Ht=!0,X&&(a=so,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Td(n){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);Nn(m,r.memoizedState)||(Ht=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function tv(n,r,a){var u=Ne,f=At(),m=Ge;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Nn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,Ht=!0),f=f.queue,Ad(rv.bind(null,u,f,n),[n]),f.getSnapshot!==r||_||wt!==null&&wt.memoizedState.tag&1){if(u.flags|=2048,lo(9,iv.bind(null,u,f,a,r),{destroy:void 0},null),it===null)throw Error(s(349));m||(es&60)!==0||nv(u,r,a)}return a}function nv(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=xc(),Ne.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function iv(n,r,a,u){r.value=a,r.getSnapshot=u,sv(r)&&av(n)}function rv(n,r,a){return a(function(){sv(r)&&av(n)})}function sv(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Nn(n,a)}catch{return!0}}function av(n){var r=Wr(n,2);r!==null&&pn(r,n,2)}function bd(n){var r=Tn();if(typeof n=="function"){var a=n;if(n=a(),ra){_i(!0);try{a()}finally{_i(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},r}function ov(n,r,a,u){return n.baseState=a,Ed(n,Xe,typeof u=="function"?u:sr)}function JA(n,r,a,u,f){if(Vc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};R.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,lv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function lv(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=R.T,_={};R.T=_;try{var b=a(f,u),N=R.S;N!==null&&N(_,b),uv(n,r,b)}catch(U){wd(n,r,U)}finally{R.T=m}}else try{m=a(f,u),uv(n,r,m)}catch(U){wd(n,r,U)}}function uv(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){cv(n,r,u)},function(u){return wd(n,r,u)}):cv(n,r,a)}function cv(n,r,a){r.status="fulfilled",r.value=a,hv(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,lv(n,a)))}function wd(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,hv(r),r=r.next;while(r!==u)}n.action=null}function hv(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function fv(n,r){return r}function dv(n,r){if(Ge){var a=it.formState;if(a!==null){e:{var u=Ne;if(Ge){if(Yt){t:{for(var f=Yt,m=xi;f.nodeType!==8;){if(!m){f=null;break t}if(f=ui(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Yt=ui(f.nextSibling),u=f.data==="F!";break e}}ta(u)}u=!1}u&&(r=a[0])}}return a=Tn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:r},a.queue=u,a=Dv.bind(null,Ne,u),u.dispatch=a,u=bd(!1),m=Nd.bind(null,Ne,!1,u.queue),u=Tn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=JA.bind(null,Ne,f,m,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function mv(n){var r=At();return pv(r,Xe,n)}function pv(n,r,a){r=Ed(n,r,fv)[0],n=Oc(sr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?kl(r):r;var u=At(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(Ne.flags|=2048,lo(9,eS.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function eS(n,r){n.action=r}function gv(n){var r=At(),a=Xe;if(a!==null)return pv(r,a,n);At(),r=r.memoizedState,a=At();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function lo(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=Ne.updateQueue,r===null&&(r=xc(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function yv(){return At().memoizedState}function Mc(n,r,a,u){var f=Tn();Ne.flags|=n,f.memoizedState=lo(1|r,a,{destroy:void 0},u===void 0?null:u)}function kc(n,r,a,u){var f=At();u=u===void 0?null:u;var m=f.memoizedState.inst;Xe!==null&&u!==null&&md(u,Xe.memoizedState.deps)?f.memoizedState=lo(r,a,m,u):(Ne.flags|=n,f.memoizedState=lo(1|r,a,m,u))}function vv(n,r){Mc(8390656,8,n,r)}function Ad(n,r){kc(2048,8,n,r)}function _v(n,r){return kc(4,2,n,r)}function Ev(n,r){return kc(4,4,n,r)}function Tv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function bv(n,r,a){a=a!=null?a.concat([n]):null,kc(4,4,Tv.bind(null,r,n),a)}function Sd(){}function wv(n,r){var a=At();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&md(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function Av(n,r){var a=At();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&md(r,u[1]))return u[0];if(u=n(),ra){_i(!0);try{n()}finally{_i(!1)}}return a.memoizedState=[u,r],u}function Rd(n,r,a){return a===void 0||(es&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=R_(),Ne.lanes|=n,cs|=n,a)}function Sv(n,r,a,u){return Nn(a,r)?a:io.current!==null?(n=Rd(n,a,u),Nn(n,r)||(Ht=!0),n):(es&42)===0?(Ht=!0,n.memoizedState=a):(n=R_(),Ne.lanes|=n,cs|=n,r)}function Rv(n,r,a,u,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var _=R.T,b={};R.T=b,Nd(n,!1,r,a);try{var N=f(),U=R.S;if(U!==null&&U(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=XA(N,u);Vl(n,r,X,Mn(n))}else Vl(n,r,u,Mn(n))}catch(ie){Vl(n,r,{then:function(){},status:"rejected",reason:ie},Mn())}finally{oe.p=m,R.T=_}}function tS(){}function Cd(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=Cv(n).queue;Rv(n,f,r,Ee,a===null?tS:function(){return Iv(n),a(u)})}function Cv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:Ee},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Iv(n){var r=Cv(n).next.queue;Vl(n,r,{},Mn())}function Id(){return sn(tu)}function Nv(){return At().memoizedState}function xv(){return At().memoizedState}function nS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Mn();n=rs(a);var u=ss(r,n,a);u!==null&&(pn(u,r,a),Ul(u,r,a)),r={cache:hd()},n.payload=r;return}r=r.return}}function iS(n,r,a){var u=Mn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(n)?Ov(r,a):(a=rd(n,r,a,u),a!==null&&(pn(a,n,u),Mv(a,r,u)))}function Dv(n,r,a){var u=Mn();Vl(n,r,a,u)}function Vl(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(n))Ov(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,b=m(_,a);if(f.hasEagerState=!0,f.eagerState=b,Nn(b,_))return vc(n,r,f,0),it===null&&yc(),!1}catch{}finally{}if(a=rd(n,r,f,u),a!==null)return pn(a,n,u),Mv(a,r,u),!0}return!1}function Nd(n,r,a,u){if(u={lane:2,revertLane:vm(),action:u,hasEagerState:!1,eagerState:null,next:null},Vc(n)){if(r)throw Error(s(479))}else r=rd(n,a,u,2),r!==null&&pn(r,n,2)}function Vc(n){var r=n.alternate;return n===Ne||r!==null&&r===Ne}function Ov(n,r){ao=Ic=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Mv(n,r,a){if((a&4194176)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Br(n,a)}}var Oi={readContext:sn,use:Dc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};Oi.useCacheRefresh=_t,Oi.useMemoCache=_t,Oi.useHostTransitionStatus=_t,Oi.useFormState=_t,Oi.useActionState=_t,Oi.useOptimistic=_t;var sa={readContext:sn,use:Dc,useCallback:function(n,r){return Tn().memoizedState=[n,r===void 0?null:r],n},useContext:sn,useEffect:vv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Mc(4194308,4,Tv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Mc(4194308,4,n,r)},useInsertionEffect:function(n,r){Mc(4,2,n,r)},useMemo:function(n,r){var a=Tn();r=r===void 0?null:r;var u=n();if(ra){_i(!0);try{n()}finally{_i(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=Tn();if(a!==void 0){var f=a(r);if(ra){_i(!0);try{a(r)}finally{_i(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=iS.bind(null,Ne,n),[u.memoizedState,n]},useRef:function(n){var r=Tn();return n={current:n},r.memoizedState=n},useState:function(n){n=bd(n);var r=n.queue,a=Dv.bind(null,Ne,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Sd,useDeferredValue:function(n,r){var a=Tn();return Rd(a,n,r)},useTransition:function(){var n=bd(!1);return n=Rv.bind(null,Ne,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Ne,f=Tn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(Fe&60)!==0||nv(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,vv(rv.bind(null,u,m,n),[n]),u.flags|=2048,lo(9,iv.bind(null,u,m,a,r),{destroy:void 0},null),a},useId:function(){var n=Tn(),r=it.identifierPrefix;if(Ge){var a=ir,u=nr;a=(u&~(1<<32-hn(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=Nc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=WA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return Tn().memoizedState=nS.bind(null,Ne)}};sa.useMemoCache=_d,sa.useHostTransitionStatus=Id,sa.useFormState=dv,sa.useActionState=dv,sa.useOptimistic=function(n){var r=Tn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Nd.bind(null,Ne,!0,a),a.dispatch=r,[n,r]};var ts={readContext:sn,use:Dc,useCallback:wv,useContext:sn,useEffect:Ad,useImperativeHandle:bv,useInsertionEffect:_v,useLayoutEffect:Ev,useMemo:Av,useReducer:Oc,useRef:yv,useState:function(){return Oc(sr)},useDebugValue:Sd,useDeferredValue:function(n,r){var a=At();return Sv(a,Xe.memoizedState,n,r)},useTransition:function(){var n=Oc(sr)[0],r=At().memoizedState;return[typeof n=="boolean"?n:kl(n),r]},useSyncExternalStore:tv,useId:Nv};ts.useCacheRefresh=xv,ts.useMemoCache=_d,ts.useHostTransitionStatus=Id,ts.useFormState=mv,ts.useActionState=mv,ts.useOptimistic=function(n,r){var a=At();return ov(a,Xe,n,r)};var aa={readContext:sn,use:Dc,useCallback:wv,useContext:sn,useEffect:Ad,useImperativeHandle:bv,useInsertionEffect:_v,useLayoutEffect:Ev,useMemo:Av,useReducer:Td,useRef:yv,useState:function(){return Td(sr)},useDebugValue:Sd,useDeferredValue:function(n,r){var a=At();return Xe===null?Rd(a,n,r):Sv(a,Xe.memoizedState,n,r)},useTransition:function(){var n=Td(sr)[0],r=At().memoizedState;return[typeof n=="boolean"?n:kl(n),r]},useSyncExternalStore:tv,useId:Nv};aa.useCacheRefresh=xv,aa.useMemoCache=_d,aa.useHostTransitionStatus=Id,aa.useFormState=gv,aa.useActionState=gv,aa.useOptimistic=function(n,r){var a=At();return Xe!==null?ov(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])};function xd(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:D({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Dd={isMounted:function(n){return(n=n._reactInternals)?ce(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=Mn(),f=rs(u);f.payload=r,a!=null&&(f.callback=a),r=ss(n,f,u),r!==null&&(pn(r,n,u),Ul(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=Mn(),f=rs(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ss(n,f,u),r!==null&&(pn(r,n,u),Ul(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Mn(),u=rs(a);u.tag=2,r!=null&&(u.callback=r),r=ss(n,u,a),r!==null&&(pn(r,n,a),Ul(r,n,a))}};function kv(n,r,a,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):r.prototype&&r.prototype.isPureReactComponent?!bl(a,u)||!bl(f,m):!0}function Vv(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Dd.enqueueReplaceState(r,r.state,null)}function oa(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=D({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Pv(n){Pc(n)}function Lv(n){console.error(n)}function Uv(n){Pc(n)}function Lc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function jv(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Od(n,r,a){return a=rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Lc(n,r)},a}function zv(n){return n=rs(n),n.tag=3,n}function Bv(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){jv(r,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){jv(r,a,u),typeof f!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function rS(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Ll(r,a,f,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return Di===null?dm():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===ld?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),pm(n,u,f)),!1;case 22:return a.flags|=65536,u===ld?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),pm(n,u,f)),!1}throw Error(s(435,a.tag))}return pm(n,u,f),dm(),!1}if(Ge)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==od&&(n=Error(s(422),{cause:u}),Rl(Hn(n,a)))):(u!==od&&(r=Error(s(423),{cause:u}),Rl(Hn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Hn(u,a),f=Od(n.stateNode,u,f),Kd(n,f),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:u});if(m=Hn(m,a),$l===null?$l=[m]:$l.push(m),pt!==4&&(pt=2),r===null)return!0;u=Hn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Od(a.stateNode,u,n),Kd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hs===null||!hs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=zv(f),Bv(f,n,a,u),Kd(a,f),!1}a=a.return}while(a!==null);return!1}var Fv=Error(s(461)),Ht=!1;function Xt(n,r,a,u){r.child=n===null?Ky(r,null,a,u):na(r,n.child,a,u)}function qv(n,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var _={};for(var b in u)b!=="ref"&&(_[b]=u[b])}else _=u;return ua(r),u=pd(n,r,a,_,m,f),b=gd(),n!==null&&!Ht?(yd(n,r,f),ar(n,r,f)):(Ge&&b&&sd(r),r.flags|=1,Xt(n,r,u,f),r.child)}function Hv(n,r,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!tm(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,Gv(n,r,m,u,f)):(n=Fc(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Bd(n,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(_,u)&&n.ref===r.ref)return ar(n,r,f)}return r.flags|=1,n=us(m,u),n.ref=r.ref,n.return=r,r.child=n}function Gv(n,r,a,u,f){if(n!==null){var m=n.memoizedProps;if(bl(m,u)&&n.ref===r.ref)if(Ht=!1,r.pendingProps=u=m,Bd(n,f))(n.flags&131072)!==0&&(Ht=!0);else return r.lanes=n.lanes,ar(n,r,f)}return Md(n,r,a,u,f)}function $v(n,r,a){var u=r.pendingProps,f=u.children,m=(r.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(Pl(n,r),u.mode==="hidden"||m){if((r.flags&128)!==0){if(u=_!==null?_.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return Kv(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Cc(r,_!==null?_.cachePool:null),_!==null?Qy(r,_):ud(),Yy(r);else return r.lanes=r.childLanes=536870912,Kv(n,r,_!==null?_.baseLanes|a:a,a)}else _!==null?(Cc(r,_.cachePool),Qy(r,_),Jr(),r.memoizedState=null):(n!==null&&Cc(r,null),ud(),Jr());return Xt(n,r,f,a),r.child}function Kv(n,r,a,u){var f=dd();return f=f===null?null:{parent:kt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Cc(r,null),ud(),Yy(r),n!==null&&Ll(n,r,u,!0),null}function Pl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function Md(n,r,a,u,f){return ua(r),a=pd(n,r,a,u,void 0,f),u=gd(),n!==null&&!Ht?(yd(n,r,f),ar(n,r,f)):(Ge&&u&&sd(r),r.flags|=1,Xt(n,r,a,f),r.child)}function Qv(n,r,a,u,f,m){return ua(r),r.updateQueue=null,a=ev(r,u,a,f),Jy(n),u=gd(),n!==null&&!Ht?(yd(n,r,m),ar(n,r,m)):(Ge&&u&&sd(r),r.flags|=1,Xt(n,r,a,m),r.child)}function Yv(n,r,a,u,f){if(ua(r),r.stateNode===null){var m=Ja,_=a.contextType;typeof _=="object"&&_!==null&&(m=sn(_)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Dd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Gd(r),_=a.contextType,m.context=typeof _=="object"&&_!==null?sn(_):Ja,m.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(xd(r,a,_,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Dd.enqueueReplaceState(m,m.state,null),zl(r,u,m,f),jl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var b=r.memoizedProps,N=oa(a,b);m.props=N;var U=m.context,X=a.contextType;_=Ja,typeof X=="object"&&X!==null&&(_=sn(X));var ie=a.getDerivedStateFromProps;X=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||U!==_)&&Vv(r,m,u,_),is=!1;var G=r.memoizedState;m.state=G,zl(r,u,m,f),jl(),U=r.memoizedState,b||G!==U||is?(typeof ie=="function"&&(xd(r,a,ie,u),U=r.memoizedState),(N=is||kv(r,a,N,u,G,U,_))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=U),m.props=u,m.state=U,m.context=_,u=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,$d(n,r),_=r.memoizedProps,X=oa(a,_),m.props=X,ie=r.pendingProps,G=m.context,U=a.contextType,N=Ja,typeof U=="object"&&U!==null&&(N=sn(U)),b=a.getDerivedStateFromProps,(U=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ie||G!==N)&&Vv(r,m,u,N),is=!1,G=r.memoizedState,m.state=G,zl(r,u,m,f),jl();var Y=r.memoizedState;_!==ie||G!==Y||is||n!==null&&n.dependencies!==null&&Uc(n.dependencies)?(typeof b=="function"&&(xd(r,a,b,u),Y=r.memoizedState),(X=is||kv(r,a,X,u,G,Y,N)||n!==null&&n.dependencies!==null&&Uc(n.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),m.props=u,m.state=Y,m.context=N,u=X):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Pl(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=na(r,n.child,null,f),r.child=na(r,null,a,f)):Xt(n,r,a,f),r.memoizedState=m.state,n=r.child):n=ar(n,r,f),n}function Xv(n,r,a,u){return Sl(),r.flags|=256,Xt(n,r,a,u),r.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function Vd(n){return{baseLanes:n,cachePool:Zy()}}function Pd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Wn),n}function Wv(n,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(f?Zr(r):Jr(),Ge){var b=Yt,N;if(N=b){e:{for(N=b,b=xi;N.nodeType!==8;){if(!b){b=null;break e}if(N=ui(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(r.memoizedState={dehydrated:b,treeContext:Js!==null?{id:nr,overflow:ir}:null,retryLane:536870912},N=Xn(18,null,null,0),N.stateNode=b,N.return=r,r.child=N,mn=r,Yt=null,N=!0):N=!1}N||ta(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;rr(r)}return b=u.children,u=u.fallback,f?(Jr(),f=r.mode,b=Ud({mode:"hidden",children:b},f),u=ha(u,f,a,null),b.return=r,u.return=r,b.sibling=u,r.child=b,f=r.child,f.memoizedState=Vd(a),f.childLanes=Pd(n,_,a),r.memoizedState=kd,u):(Zr(r),Ld(r,b))}if(N=n.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(m)r.flags&256?(Zr(r),r.flags&=-257,r=jd(n,r,a)):r.memoizedState!==null?(Jr(),r.child=n.child,r.flags|=128,r=null):(Jr(),f=u.fallback,b=r.mode,u=Ud({mode:"visible",children:u.children},b),f=ha(f,b,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,na(r,n.child,null,a),u=r.child,u.memoizedState=Vd(a),u.childLanes=Pd(n,_,a),r.memoizedState=kd,r=f);else if(Zr(r),b.data==="$!"){if(_=b.nextSibling&&b.nextSibling.dataset,_)var U=_.dgst;_=U,u=Error(s(419)),u.stack="",u.digest=_,Rl({value:u,source:null,stack:null}),r=jd(n,r,a)}else if(Ht||Ll(n,r,a,!1),_=(a&n.childLanes)!==0,Ht||_){if(_=it,_!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|a))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,Wr(n,u),pn(_,n,u),Fv}b.data==="$?"||dm(),r=jd(n,r,a)}else b.data==="$?"?(r.flags|=128,r.child=n.child,r=_S.bind(null,n),b._reactRetry=r,r=null):(n=N.treeContext,Yt=ui(b.nextSibling),mn=r,Ge=!0,oi=null,xi=!1,n!==null&&(Gn[$n++]=nr,Gn[$n++]=ir,Gn[$n++]=Js,nr=n.id,ir=n.overflow,Js=r),r=Ld(r,u.children),r.flags|=4096);return r}return f?(Jr(),f=u.fallback,b=r.mode,N=n.child,U=N.sibling,u=us(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,U!==null?f=us(U,f):(f=ha(f,b,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,b=n.child.memoizedState,b===null?b=Vd(a):(N=b.cachePool,N!==null?(U=kt._currentValue,N=N.parent!==U?{parent:U,pool:U}:N):N=Zy(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=Pd(n,_,a),r.memoizedState=kd,u):(Zr(r),a=n.child,n=a.sibling,a=us(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function Ld(n,r){return r=Ud({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ud(n,r){return w_(n,r,0,null)}function jd(n,r,a){return na(r,n.child,null,a),n=Ld(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Zv(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),qd(n.return,r,a)}function zd(n,r,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function Jv(n,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(Xt(n,r,u.children,a),u=Mt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zv(n,a,r);else if(n.tag===19)Zv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Oe(Mt,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Rc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),zd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Rc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}zd(r,!0,a,null,m);break;case"together":zd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ar(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),cs|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Ll(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=us(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=us(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Bd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Uc(n)))}function sS(n,r,a){switch(r.tag){case 3:Me(r,r.stateNode.containerInfo),ns(r,kt,n.memoizedState.cache),Sl();break;case 27:case 5:vn(r);break;case 4:Me(r,r.stateNode.containerInfo);break;case 10:ns(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Zr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Wv(n,r,a):(Zr(r),n=ar(n,r,a),n!==null?n.sibling:null);Zr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Ll(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return Jv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Oe(Mt,Mt.current),u)break;return null;case 22:case 23:return r.lanes=0,$v(n,r,a);case 24:ns(r,kt,n.memoizedState.cache)}return ar(n,r,a)}function e_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ht=!0;else{if(!Bd(n,a)&&(r.flags&128)===0)return Ht=!1,sS(n,r,a);Ht=(n.flags&131072)!==0}else Ht=!1,Ge&&(r.flags&1048576)!==0&&Uy(r,Tc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")tm(u)?(n=oa(u,n),r.tag=1,r=Yv(null,r,u,n,a)):(r.tag=0,r=Md(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===k){r.tag=11,r=qv(null,r,u,n,a);break e}else if(f===H){r.tag=14,r=Hv(null,r,u,n,a);break e}}throw r=I(u)||u,Error(s(306,r,""))}}return r;case 0:return Md(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=oa(u,r.pendingProps),Yv(n,r,u,f,a);case 3:e:{if(Me(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,u=f.element,$d(n,r),zl(r,m,null,a);var _=r.memoizedState;if(m=_.cache,ns(r,kt,m),m!==f.cache&&Hd(r,[kt],a,!0),jl(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Xv(n,r,m,a);break e}else if(m!==u){u=Hn(Error(s(424)),r),Rl(u),r=Xv(n,r,m,a);break e}else for(Yt=ui(r.stateNode.containerInfo.firstChild),mn=r,Ge=!0,oi=null,xi=!0,a=Ky(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Sl(),m===u){r=ar(n,r,a);break e}Xt(n,r,m,a)}r=r.child}return r;case 26:return Pl(n,r),n===null?(a=i0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,u=eh(yt.current).createElement(a),u[Bt]=r,u[xt]=n,Wt(u,a,n),ut(u),r.stateNode=u):r.memoizedState=i0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return vn(r),n===null&&Ge&&(u=r.stateNode=e0(r.type,r.pendingProps,yt.current),mn=r,xi=!0,Yt=ui(u.firstChild)),u=r.pendingProps.children,n!==null||Ge?Xt(n,r,u,a):r.child=na(r,null,u,a),Pl(n,r),r.child;case 5:return n===null&&Ge&&((f=u=Yt)&&(u=VS(u,r.type,r.pendingProps,xi),u!==null?(r.stateNode=u,mn=r,Yt=ui(u.firstChild),xi=!1,f=!0):f=!1),f||ta(r)),vn(r),f=r.type,m=r.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,Cm(f,m)?u=null:_!==null&&Cm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=pd(n,r,ZA,null,null,a),tu._currentValue=f),Pl(n,r),Xt(n,r,u,a),r.child;case 6:return n===null&&Ge&&((n=a=Yt)&&(a=PS(a,r.pendingProps,xi),a!==null?(r.stateNode=a,mn=r,Yt=null,n=!0):n=!1),n||ta(r)),null;case 13:return Wv(n,r,a);case 4:return Me(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=na(r,null,u,a):Xt(n,r,u,a),r.child;case 11:return qv(n,r,r.type,r.pendingProps,a);case 7:return Xt(n,r,r.pendingProps,a),r.child;case 8:return Xt(n,r,r.pendingProps.children,a),r.child;case 12:return Xt(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ns(r,r.type,u.value),Xt(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ua(r),f=sn(f),u=u(f),r.flags|=1,Xt(n,r,u,a),r.child;case 14:return Hv(n,r,r.type,r.pendingProps,a);case 15:return Gv(n,r,r.type,r.pendingProps,a);case 19:return Jv(n,r,a);case 22:return $v(n,r,a);case 24:return ua(r),u=sn(kt),n===null?(f=dd(),f===null&&(f=it,m=hd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},Gd(r),ns(r,kt,f)):((n.lanes&a)!==0&&($d(n,r),zl(r,null,null,a),jl()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ns(r,kt,u)):(u=m.cache,ns(r,kt,u),u!==f.cache&&Hd(r,[kt],a,!0))),Xt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Fd=De(null),la=null,or=null;function ns(n,r,a){Oe(Fd,r._currentValue),r._currentValue=a}function lr(n){n._currentValue=Fd.current,Ke(Fd)}function qd(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Hd(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),qd(m.return,a,n),u||(_=null);break e}m=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),qd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ll(n,r,a,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;Nn(f.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(tu):n=[tu])}f=f.return}n!==null&&Hd(r,n,a,u),r.flags|=262144}function Uc(n){for(n=n.firstContext;n!==null;){if(!Nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ua(n){la=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return t_(la,n)}function jc(n,r){return la===null&&ua(n),t_(n,r)}function t_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(n===null)throw Error(s(308));or=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else or=or.next=r;return a}var is=!1;function Gd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function rs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ss(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ht&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=_c(n),Py(n,null,a),r}return vc(n,u,r,a),_c(n)}function Ul(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Br(n,a)}}function Kd(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Qd=!1;function jl(){if(Qd){var n=so;if(n!==null)throw n}}function zl(n,r,a,u){Qd=!1;var f=n.updateQueue;is=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,U=N.next;N.next=null,_===null?m=U:_.next=U,_=N;var X=n.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=U:b.next=U,X.lastBaseUpdate=N))}if(m!==null){var ie=f.baseState;_=0,X=U=N=null,b=m;do{var G=b.lane&-536870913,Y=G!==b.lane;if(Y?(Fe&G)===G:(u&G)===G){G!==0&&G===ro&&(Qd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=n,Re=b;G=r;var gt=a;switch(Re.tag){case 1:if(pe=Re.payload,typeof pe=="function"){ie=pe.call(gt,ie,G);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Re.payload,G=typeof pe=="function"?pe.call(gt,ie,G):pe,G==null)break e;ie=D({},ie,G);break e;case 2:is=!0}}G=b.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(U=X=Y,N=ie):X=X.next=Y,_|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(N=ie),f.baseState=N,f.firstBaseUpdate=U,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),cs|=_,n.lanes=_,n.memoizedState=ie}}function n_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function i_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)n_(a[n],r)}function Bl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,_=a.inst;u=m(),_.destroy=u}a=a.next}while(a!==f)}}catch(b){tt(r,r.return,b)}}function as(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var N=a;try{b()}catch(U){tt(f,N,U)}}}u=u.next}while(u!==m)}}catch(U){tt(r,r.return,U)}}function r_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{i_(r,a)}catch(u){tt(n,n.return,u)}}}function s_(n,r,a){a.props=oa(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){tt(n,r,u)}}function ca(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){tt(n,r,m)}}function xn(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,r,f)}else a.current=null}function a_(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function o_(n,r,a){try{var u=n.stateNode;xS(u,n.type,a,r),u[xt]=r}catch(f){tt(n,n.return,f)}}function l_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Yd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||l_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xd(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Jc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Xd(n,r,a),n=n.sibling;n!==null;)Xd(n,r,a),n=n.sibling}function zc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(zc(n,r,a),n=n.sibling;n!==null;)zc(n,r,a),n=n.sibling}var ur=!1,mt=!1,Wd=!1,u_=typeof WeakSet=="function"?WeakSet:Set,Gt=null,c_=!1;function aS(n,r){if(n=n.containerInfo,Sm=ah,n=Cy(n),Jf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,U=0,X=0,ie=n,G=null;t:for(;;){for(var Y;ie!==a||f!==0&&ie.nodeType!==3||(b=_+f),ie!==m||u!==0&&ie.nodeType!==3||(N=_+u),ie.nodeType===3&&(_+=ie.nodeValue.length),(Y=ie.firstChild)!==null;)G=ie,ie=Y;for(;;){if(ie===n)break t;if(G===a&&++U===f&&(b=_),G===m&&++X===u&&(N=_),(Y=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=Y}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:n,selectionRange:a},ah=!1,Gt=r;Gt!==null;)if(r=Gt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Gt=n;else for(;Gt!==null;){switch(r=Gt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var pe=oa(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(pe,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Re){tt(a,a.return,Re)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)xm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Gt=n;break}Gt=r.return}return pe=c_,c_=!1,pe}function h_(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:hr(n,a),u&4&&Bl(5,a);break;case 1:if(hr(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(b){tt(a,a.return,b)}else{var f=oa(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(a,a.return,b)}}u&64&&r_(a),u&512&&ca(a,a.return);break;case 3:if(hr(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{i_(u,n)}catch(b){tt(a,a.return,b)}}break;case 26:hr(n,a),u&512&&ca(a,a.return);break;case 27:case 5:hr(n,a),r===null&&u&4&&a_(a),u&512&&ca(a,a.return);break;case 12:hr(n,a);break;case 13:hr(n,a),u&4&&m_(n,a);break;case 22:if(f=a.memoizedState!==null||ur,!f){r=r!==null&&r.memoizedState!==null||mt;var m=ur,_=mt;ur=f,(mt=r)&&!_?os(n,a,(a.subtreeFlags&8772)!==0):hr(n,a),ur=m,mt=_}u&512&&(a.memoizedProps.mode==="manual"?ca(a,a.return):xn(a,a.return));break;default:hr(n,a)}}function f_(n){var r=n.alternate;r!==null&&(n.alternate=null,f_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&zs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var St=null,Dn=!1;function cr(n,r,a){for(a=a.child;a!==null;)d_(n,r,a),a=a.sibling}function d_(n,r,a){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Pr,a)}catch{}switch(a.tag){case 26:mt||xn(a,r),cr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||xn(a,r);var u=St,f=Dn;for(St=a.stateNode,cr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);zs(a),St=u,Dn=f;break;case 5:mt||xn(a,r);case 6:f=St;var m=Dn;if(St=null,cr(n,r,a),St=f,Dn=m,St!==null)if(Dn)try{n=St,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(_){tt(a,r,_)}else try{St.removeChild(a.stateNode)}catch(_){tt(a,r,_)}break;case 18:St!==null&&(Dn?(r=St,a=a.stateNode,r.nodeType===8?Nm(r.parentNode,a):r.nodeType===1&&Nm(r,a),su(r)):Nm(St,a.stateNode));break;case 4:u=St,f=Dn,St=a.stateNode.containerInfo,Dn=!0,cr(n,r,a),St=u,Dn=f;break;case 0:case 11:case 14:case 15:mt||as(2,a,r),mt||as(4,a,r),cr(n,r,a);break;case 1:mt||(xn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&s_(a,r,u)),cr(n,r,a);break;case 21:cr(n,r,a);break;case 22:mt||xn(a,r),mt=(u=mt)||a.memoizedState!==null,cr(n,r,a),mt=u;break;default:cr(n,r,a)}}function m_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{su(n)}catch(a){tt(r,r.return,a)}}function oS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new u_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new u_),r;default:throw Error(s(435,n.tag))}}function Zd(n,r){var a=oS(n);r.forEach(function(u){var f=ES.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Qn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:case 5:St=b.stateNode,Dn=!1;break e;case 3:St=b.stateNode.containerInfo,Dn=!0;break e;case 4:St=b.stateNode.containerInfo,Dn=!0;break e}b=b.return}if(St===null)throw Error(s(160));d_(m,_,f),St=null,Dn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)p_(r,n),r=r.sibling}var li=null;function p_(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Qn(r,n),Yn(n),u&4&&(as(3,n,n.return),Bl(3,n),as(5,n,n.return));break;case 1:Qn(r,n),Yn(n),u&512&&(mt||a===null||xn(a,a.return)),u&64&&ur&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=li;if(Qn(r,n),Yn(n),u&512&&(mt||a===null||xn(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[qr]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Wt(m,u,a),m[Bt]=n,ut(m),u=m;break e;case"link":var _=a0("link","href",f).get(u+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(m=_[b],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}m=f.createElement(u),Wt(m,u,a),f.head.appendChild(m);break;case"meta":if(_=a0("meta","content",f).get(u+(a.content||""))){for(b=0;b<_.length;b++)if(m=_[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}m=f.createElement(u),Wt(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Bt]=n,ut(m),u=m}n.stateNode=u}else o0(f,n.type,n.stateNode);else n.stateNode=s0(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?o0(f,n.type,n.stateNode):s0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&o_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var N=f.firstChild;N;){var U=N.nextSibling,X=N.nodeName;N[qr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=U}for(var ie=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Wt(f,ie,m),f[Bt]=n,f[xt]=m}catch(pe){tt(n,n.return,pe)}}case 5:if(Qn(r,n),Yn(n),u&512&&(mt||a===null||xn(a,a.return)),n.flags&32){f=n.stateNode;try{jn(f,"")}catch(pe){tt(n,n.return,pe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,o_(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Wd=!0);break;case 6:if(Qn(r,n),Yn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(pe){tt(n,n.return,pe)}}break;case 3:if(ih=null,f=li,li=th(r.containerInfo),Qn(r,n),li=f,Yn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{su(r.containerInfo)}catch(pe){tt(n,n.return,pe)}Wd&&(Wd=!1,g_(n));break;case 4:u=li,li=th(n.stateNode.containerInfo),Qn(r,n),Yn(n),li=u;break;case 12:Qn(r,n),Yn(n);break;case 13:Qn(r,n),Yn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(om=Nt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Zd(n,u)));break;case 22:if(u&512&&(mt||a===null||xn(a,a.return)),N=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,X=ur,ie=mt,ur=X||N,mt=ie||U,Qn(r,n),mt=ie,ur=X,Yn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=N?r._visibility&-2:r._visibility|1,N&&(r=ur||mt,a===null||U||r||uo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,N)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=U.stateNode,b=U.memoizedProps.style;var Y=b!=null&&b.hasOwnProperty("display")?b.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){tt(U,U.return,pe)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=N?"":U.memoizedProps}catch(pe){tt(U,U.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Zd(n,a))));break;case 19:Qn(r,n),Yn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Zd(n,u)));break;case 21:break;default:Qn(r,n),Yn(n)}}function Yn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(l_(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Yd(n);zc(n,m,f);break;case 5:var _=u.stateNode;u.flags&32&&(jn(_,""),u.flags&=-33);var b=Yd(n);zc(n,b,_);break;case 3:case 4:var N=u.stateNode.containerInfo,U=Yd(n);Xd(n,U,N);break;default:throw Error(s(161))}}}catch(X){tt(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function g_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;g_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function hr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)h_(n,r.alternate,r),r=r.sibling}function uo(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:as(4,r,r.return),uo(r);break;case 1:xn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&s_(r,r.return,a),uo(r);break;case 26:case 27:case 5:xn(r,r.return),uo(r);break;case 22:xn(r,r.return),r.memoizedState===null&&uo(r);break;default:uo(r)}n=n.sibling}}function os(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:os(f,m,a),Bl(4,m);break;case 1:if(os(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){tt(u,u.return,U)}if(u=m,f=u.updateQueue,f!==null){var b=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)n_(N[f],b)}catch(U){tt(u,u.return,U)}}a&&_&64&&r_(m),ca(m,m.return);break;case 26:case 27:case 5:os(f,m,a),a&&u===null&&_&4&&a_(m),ca(m,m.return);break;case 12:os(f,m,a);break;case 13:os(f,m,a),a&&_&4&&m_(f,m);break;case 22:m.memoizedState===null&&os(f,m,a),ca(m,m.return);break;default:os(f,m,a)}r=r.sibling}}function Jd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Dl(a))}function em(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Dl(n))}function ls(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)y_(n,r,a,u),r=r.sibling}function y_(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ls(n,r,a,u),f&2048&&Bl(9,r);break;case 3:ls(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Dl(n)));break;case 12:if(f&2048){ls(n,r,a,u),n=r.stateNode;try{var m=r.memoizedProps,_=m.id,b=m.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){tt(r,r.return,N)}}else ls(n,r,a,u);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?ls(n,r,a,u):Fl(n,r):m._visibility&4?ls(n,r,a,u):(m._visibility|=4,co(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Jd(r.alternate,r);break;case 24:ls(n,r,a,u),f&2048&&em(r.alternate,r);break;default:ls(n,r,a,u)}}function co(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,_=r,b=a,N=u,U=_.flags;switch(_.tag){case 0:case 11:case 15:co(m,_,b,N,f),Bl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&4?co(m,_,b,N,f):Fl(m,_):(X._visibility|=4,co(m,_,b,N,f)),f&&U&2048&&Jd(_.alternate,_);break;case 24:co(m,_,b,N,f),f&&U&2048&&em(_.alternate,_);break;default:co(m,_,b,N,f)}r=r.sibling}}function Fl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Fl(a,u),f&2048&&Jd(u.alternate,u);break;case 24:Fl(a,u),f&2048&&em(u.alternate,u);break;default:Fl(a,u)}r=r.sibling}}var ql=8192;function ho(n){if(n.subtreeFlags&ql)for(n=n.child;n!==null;)v_(n),n=n.sibling}function v_(n){switch(n.tag){case 26:ho(n),n.flags&ql&&n.memoizedState!==null&&YS(li,n.memoizedState,n.memoizedProps);break;case 5:ho(n);break;case 3:case 4:var r=li;li=th(n.stateNode.containerInfo),ho(n),li=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=ql,ql=16777216,ho(n),ql=r):ho(n));break;default:ho(n)}}function __(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Hl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Gt=u,T_(u,n)}__(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)E_(n),n=n.sibling}function E_(n){switch(n.tag){case 0:case 11:case 15:Hl(n),n.flags&2048&&as(9,n,n.return);break;case 3:Hl(n);break;case 12:Hl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Bc(n)):Hl(n);break;default:Hl(n)}}function Bc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Gt=u,T_(u,n)}__(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:as(8,r,r.return),Bc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Bc(r));break;default:Bc(r)}n=n.sibling}}function T_(n,r){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:as(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Gt=u;else e:for(a=n;Gt!==null;){u=Gt;var f=u.sibling,m=u.return;if(f_(u),u===a){Gt=null;break e}if(f!==null){f.return=m,Gt=f;break e}Gt=m}}}function lS(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(n,r,a,u){return new lS(n,r,a,u)}function tm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function us(n,r){var a=n.alternate;return a===null?(a=Xn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function b_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Fc(n,r,a,u,f,m){var _=0;if(u=n,typeof n=="function")tm(n)&&(_=1);else if(typeof n=="string")_=KS(n,a,lt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ha(a.children,f,m,r);case g:_=8,f|=24;break;case E:return n=Xn(12,a,r,f|2),n.elementType=E,n.lanes=m,n;case $:return n=Xn(13,a,r,f),n.elementType=$,n.lanes=m,n;case j:return n=Xn(19,a,r,f),n.elementType=j,n.lanes=m,n;case Q:return w_(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case x:_=10;break e;case w:_=9;break e;case k:_=11;break e;case H:_=14;break e;case ee:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Xn(_,a,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function ha(n,r,a,u){return n=Xn(7,n,u,r),n.lanes=a,n}function w_(n,r,a,u){n=Xn(22,n,u,r),n.elementType=Q,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Wr(m,2);_!==null&&(f._pendingVisibility|=2,pn(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Wr(m,2);_!==null&&(f._pendingVisibility&=-3,pn(_,m,2))}}};return n.stateNode=f,n}function nm(n,r,a){return n=Xn(6,n,null,r),n.lanes=a,n}function im(n,r,a){return r=Xn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function fr(n){n.flags|=4}function A_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!l0(r)){if(r=Kn.current,r!==null&&((Fe&4194176)===Fe?Di!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Di))throw Il=ld,By;n.flags|=8192}}function qc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?jr():536870912,n.lanes|=r,mo|=r)}function Gl(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ct(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function uS(n,r,a){var u=r.pendingProps;switch(ad(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),lr(kt),nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Al(r)?fr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,oi!==null&&(hm(oi),oi=null))),ct(r),null;case 26:return a=r.memoizedState,n===null?(fr(r),a!==null?(ct(r),A_(r,a)):(ct(r),r.flags&=-16777217)):a?a!==n.memoizedState?(fr(r),ct(r),A_(r,a)):(ct(r),r.flags&=-16777217):(n.memoizedProps!==u&&fr(r),ct(r),r.flags&=-16777217),null;case 27:ni(r),a=yt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&fr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}n=lt.current,Al(r)?jy(r):(n=e0(f,u,a),r.stateNode=n,fr(r))}return ct(r),null;case 5:if(ni(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&fr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(n=lt.current,Al(r))jy(r);else{switch(f=eh(yt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Bt]=r,n[xt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Wt(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&fr(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&fr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=yt.current,Al(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=mn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Bt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Q_(n.nodeValue,a)),n||ta(r)}else n=eh(n).createTextNode(u),n[Bt]=r,r.stateNode=n}return ct(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Al(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Bt]=r}else Sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else oi!==null&&(hm(oi),oi=null),f=!0;if(!f)return r.flags&256?(rr(r),r):(rr(r),null)}if(rr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),qc(r,r.updateQueue),ct(r),null;case 4:return nn(),n===null&&bm(r.stateNode.containerInfo),ct(r),null;case 10:return lr(r.type),ct(r),null;case 19:if(Ke(Mt),f=r.memoizedState,f===null)return ct(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)Gl(f,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Rc(n),m!==null){for(r.flags|=128,Gl(f,!1),n=m.updateQueue,r.updateQueue=n,qc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)b_(a,n),a=a.sibling;return Oe(Mt,Mt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Nt()>Hc&&(r.flags|=128,u=!0,Gl(f,!1),r.lanes=4194304)}else{if(!u)if(n=Rc(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,qc(r,n),Gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return ct(r),null}else 2*Nt()-f.renderingStartTime>Hc&&a!==536870912&&(r.flags|=128,u=!0,Gl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Nt(),r.sibling=null,n=Mt.current,Oe(Mt,u?n&1|2:n&1),r):(ct(r),null);case 22:case 23:return rr(r),cd(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&qc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&Ke(ia),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(kt),ct(r),null;case 25:return null}throw Error(s(156,r.tag))}function cS(n,r){switch(ad(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return lr(kt),nn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ni(r),null;case 13:if(rr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Sl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ke(Mt),null;case 4:return nn(),null;case 10:return lr(r.type),null;case 22:case 23:return rr(r),cd(),n!==null&&Ke(ia),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return lr(kt),null;case 25:return null;default:return null}}function S_(n,r){switch(ad(r),r.tag){case 3:lr(kt),nn();break;case 26:case 27:case 5:ni(r);break;case 4:nn();break;case 13:rr(r);break;case 19:Ke(Mt);break;case 10:lr(r.type);break;case 22:case 23:rr(r),cd(),n!==null&&Ke(ia);break;case 24:lr(kt)}}var hS={getCacheForType:function(n){var r=sn(kt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},fS=typeof WeakMap=="function"?WeakMap:Map,ht=0,it=null,Pe=null,Fe=0,rt=0,On=null,dr=!1,fo=!1,rm=!1,mr=0,pt=0,cs=0,fa=0,sm=0,Wn=0,mo=0,$l=null,Mi=null,am=!1,om=0,Hc=1/0,Gc=null,hs=null,$c=!1,da=null,Kl=0,lm=0,um=null,Ql=0,cm=null;function Mn(){if((ht&2)!==0&&Fe!==0)return Fe&-Fe;if(R.T!==null){var n=ro;return n!==0?n:vm()}return Zu()}function R_(){Wn===0&&(Wn=(Fe&536870912)===0||Ge?al():536870912);var n=Kn.current;return n!==null&&(n.flags|=32),Wn}function pn(n,r,a){(n===it&&rt===2||n.cancelPendingCommit!==null)&&(po(n,0),pr(n,Fe,Wn,!1)),vt(n,a),((ht&2)===0||n!==it)&&(n===it&&((ht&2)===0&&(fa|=a),pt===4&&pr(n,Fe,Wn,!1)),ki(n))}function C_(n,r,a){if((ht&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Ur(n,r),f=u?pS(n,r):mm(n,r,!0),m=u;do{if(f===0){fo&&!u&&pr(n,r,0,!1);break}else if(f===6)pr(n,r,0,!dr);else{if(a=n.current.alternate,m&&!dS(a)){f=mm(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=n;f=$l;var N=b.current.memoizedState.isDehydrated;if(N&&(po(b,_).flags|=256),_=mm(b,_,!1),_!==2){if(rm&&!N){b.errorRecoveryDisabledLanes|=m,fa|=m,f=4;break e}m=Mi,Mi=f,m!==null&&hm(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){po(n,0),pr(n,r,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){pr(u,r,Wn,!dr);break e}break;case 2:Mi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(m=om+300-Nt(),10<m)){if(pr(u,r,Wn,!dr),Ln(u,0)!==0)break e;u.timeoutHandle=W_(I_.bind(null,u,a,Mi,Gc,am,r,Wn,fa,mo,dr,2,-0,0),m);break e}I_(u,a,Mi,Gc,am,r,Wn,fa,mo,dr,0,-0,0)}}break}while(!0);ki(n)}function hm(n){Mi===null?Mi=n:Mi.push.apply(Mi,n)}function I_(n,r,a,u,f,m,_,b,N,U,X,ie,G){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:QS},v_(r),r=XS(),r!==null)){n.cancelPendingCommit=r(V_.bind(null,n,a,u,f,_,b,N,1,ie,G)),pr(n,m,_,!U);return}V_(n,a,u,f,_,b,N,X,ie,G)}function dS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!Nn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pr(n,r,a,u){r&=~sm,r&=~fa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-hn(f),_=1<<m;u[m]=-1,f&=~_}a!==0&&zr(n,a,r)}function Kc(){return(ht&6)===0?(Yl(0),!1):!0}function fm(){if(Pe!==null){if(rt===0)var n=Pe.return;else n=Pe,or=la=null,vd(n),no=null,Nl=0,n=Pe;for(;n!==null;)S_(n.alternate,n),n=n.return;Pe=null}}function po(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,OS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),fm(),it=n,Pe=a=us(n.current,null),Fe=r,rt=0,On=null,dr=!1,fo=Ur(n,r),rm=!1,mo=Wn=sm=fa=cs=pt=0,Mi=$l=null,am=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-hn(u),m=1<<f;r|=n[f],u&=~m}return mr=r,yc(),a}function N_(n,r){Ne=null,R.H=Oi,r===Cl?(r=Hy(),rt=3):r===By?(r=Hy(),rt=4):rt=r===Fv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,On=r,Pe===null&&(pt=1,Lc(n,Hn(r,n.current)))}function x_(){var n=R.H;return R.H=Oi,n===null?Oi:n}function D_(){var n=R.A;return R.A=hS,n}function dm(){pt=4,dr||(Fe&4194176)!==Fe&&Kn.current!==null||(fo=!0),(cs&134217727)===0&&(fa&134217727)===0||it===null||pr(it,Fe,Wn,!1)}function mm(n,r,a){var u=ht;ht|=2;var f=x_(),m=D_();(it!==n||Fe!==r)&&(Gc=null,po(n,r)),r=!1;var _=pt;e:do try{if(rt!==0&&Pe!==null){var b=Pe,N=On;switch(rt){case 8:fm(),_=6;break e;case 3:case 2:case 6:Kn.current===null&&(r=!0);var U=rt;if(rt=0,On=null,go(n,b,N,U),a&&fo){_=0;break e}break;default:U=rt,rt=0,On=null,go(n,b,N,U)}}mS(),_=pt;break}catch(X){N_(n,X)}while(!0);return r&&n.shellSuspendCounter++,or=la=null,ht=u,R.H=f,R.A=m,Pe===null&&(it=null,Fe=0,yc()),_}function mS(){for(;Pe!==null;)O_(Pe)}function pS(n,r){var a=ht;ht|=2;var u=x_(),f=D_();it!==n||Fe!==r?(Gc=null,Hc=Nt()+500,po(n,r)):fo=Ur(n,r);e:do try{if(rt!==0&&Pe!==null){r=Pe;var m=On;t:switch(rt){case 1:rt=0,On=null,go(n,r,m,1);break;case 2:if(Fy(m)){rt=0,On=null,M_(r);break}r=function(){rt===2&&it===n&&(rt=7),ki(n)},m.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Fy(m)?(rt=0,On=null,M_(r)):(rt=0,On=null,go(n,r,m,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var b=Pe;if(!_||l0(_)){rt=0,On=null;var N=b.sibling;if(N!==null)Pe=N;else{var U=b.return;U!==null?(Pe=U,Qc(U)):Pe=null}break t}}rt=0,On=null,go(n,r,m,5);break;case 6:rt=0,On=null,go(n,r,m,6);break;case 8:fm(),pt=6;break e;default:throw Error(s(462))}}gS();break}catch(X){N_(n,X)}while(!0);return or=la=null,R.H=u,R.A=f,ht=a,Pe!==null?0:(it=null,Fe=0,yc(),pt)}function gS(){for(;Pe!==null&&!Us();)O_(Pe)}function O_(n){var r=e_(n.alternate,n,mr);n.memoizedProps=n.pendingProps,r===null?Qc(n):Pe=r}function M_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Qv(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=Qv(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:vd(r);default:S_(a,r),r=Pe=b_(r,mr),r=e_(a,r,mr)}n.memoizedProps=n.pendingProps,r===null?Qc(n):Pe=r}function go(n,r,a,u){or=la=null,vd(r),no=null,Nl=0;var f=r.return;try{if(rS(n,f,r,a,Fe)){pt=1,Lc(n,Hn(a,n.current)),Pe=null;return}}catch(m){if(f!==null)throw Pe=f,m;pt=1,Lc(n,Hn(a,n.current)),Pe=null;return}r.flags&32768?(Ge||u===1?n=!0:fo||(Fe&536870912)!==0?n=!1:(dr=n=!0,(u===2||u===3||u===6)&&(u=Kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),k_(r,n)):Qc(r)}function Qc(n){var r=n;do{if((r.flags&32768)!==0){k_(r,dr);return}n=r.return;var a=uS(r.alternate,r,mr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=n}while(r!==null);pt===0&&(pt=5)}function k_(n,r){do{var a=cS(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);pt=6,Pe=null}function V_(n,r,a,u,f,m,_,b,N,U){var X=R.T,ie=oe.p;try{oe.p=2,R.T=null,yS(n,r,a,u,ie,f,m,_,b,N,U)}finally{R.T=X,oe.p=ie}}function yS(n,r,a,u,f,m,_,b){do yo();while(da!==null);if((ht&6)!==0)throw Error(s(327));var N=n.finishedWork;if(u=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=N.lanes|N.childLanes;if(U|=id,Xu(n,u,U,m,_,b),n===it&&(Pe=it=null,Fe=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||$c||($c=!0,lm=U,um=a,TS(_n,function(){return yo(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=R.T,R.T=null,m=oe.p,oe.p=2,_=ht,ht|=4,aS(n,N),p_(N,n),BA(Rm,n.containerInfo),ah=!!Sm,Rm=Sm=null,n.current=N,h_(n,N.alternate,N),Gi(),ht=_,oe.p=m,R.T=a):n.current=N,$c?($c=!1,da=n,Kl=u):P_(n,U),U=n.pendingLanes,U===0&&(hs=null),rl(N.stateNode),ki(n),r!==null)for(f=n.onRecoverableError,N=0;N<r.length;N++)U=r[N],f(U.value,{componentStack:U.stack});return(Kl&3)!==0&&yo(),U=n.pendingLanes,(u&4194218)!==0&&(U&42)!==0?n===cm?Ql++:(Ql=0,cm=n):Ql=0,Yl(0),null}function P_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Dl(r)))}function yo(){if(da!==null){var n=da,r=lm;lm=0;var a=Wu(Kl),u=R.T,f=oe.p;try{if(oe.p=32>a?32:a,R.T=null,da===null)var m=!1;else{a=um,um=null;var _=da,b=Kl;if(da=null,Kl=0,(ht&6)!==0)throw Error(s(331));var N=ht;if(ht|=4,E_(_.current),y_(_,_.current,b,a),ht=N,Yl(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Pr,_)}catch{}m=!0}return m}finally{oe.p=f,R.T=u,P_(n,r)}}return!1}function L_(n,r,a){r=Hn(a,r),r=Od(n.stateNode,r,2),n=ss(n,r,2),n!==null&&(vt(n,2),ki(n))}function tt(n,r,a){if(n.tag===3)L_(n,n,a);else for(;r!==null;){if(r.tag===3){L_(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){n=Hn(a,n),a=zv(2),u=ss(r,a,2),u!==null&&(Bv(a,u,r,n),vt(u,2),ki(u));break}}r=r.return}}function pm(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new fS;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(rm=!0,f.add(a),n=vS.bind(null,n,r,a),r.then(n,n))}function vS(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,it===n&&(Fe&a)===a&&(pt===4||pt===3&&(Fe&62914560)===Fe&&300>Nt()-om?(ht&2)===0&&po(n,0):sm|=a,mo===Fe&&(mo=0)),ki(n)}function U_(n,r){r===0&&(r=jr()),n=Wr(n,r),n!==null&&(vt(n,r),ki(n))}function _S(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),U_(n,a)}function ES(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),U_(n,a)}function TS(n,r){return Rn(n,r)}var Yc=null,vo=null,gm=!1,Xc=!1,ym=!1,ma=0;function ki(n){n!==vo&&n.next===null&&(vo===null?Yc=vo=n:vo=vo.next=n),Xc=!0,gm||(gm=!0,wS(bS))}function Yl(n,r){if(!ym&&Xc){ym=!0;do for(var a=!1,u=Yc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-hn(42|n)+1)-1,m&=f&~(_&~b),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,B_(u,m))}else m=Fe,m=Ln(u,u===it?m:0),(m&3)===0||Ur(u,m)||(a=!0,B_(u,m));u=u.next}while(a);ym=!1}}function bS(){Xc=gm=!1;var n=0;ma!==0&&(DS()&&(n=ma),ma=0);for(var r=Nt(),a=null,u=Yc;u!==null;){var f=u.next,m=j_(u,r);m===0?(u.next=null,a===null?Yc=f:a.next=f,f===null&&(vo=a)):(a=u,(n!==0||(m&3)!==0)&&(Xc=!0)),u=f}Yl(n)}function j_(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-hn(m),b=1<<_,N=f[_];N===-1?((b&a)===0||(b&u)!==0)&&(f[_]=Va(b,r)):N<=r&&(n.expiredLanes|=b),m&=~b}if(r=it,a=Fe,a=Ln(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&rt===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ii(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ur(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&ii(u),Wu(a)){case 2:case 8:a=et;break;case 32:a=_n;break;case 268435456:a=Pn;break;default:a=_n}return u=z_.bind(null,n),a=Rn(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&ii(u),n.callbackPriority=2,n.callbackNode=null,2}function z_(n,r){var a=n.callbackNode;if(yo()&&n.callbackNode!==a)return null;var u=Fe;return u=Ln(n,n===it?u:0),u===0?null:(C_(n,u,r),j_(n,Nt()),n.callbackNode!=null&&n.callbackNode===a?z_.bind(null,n):null)}function B_(n,r){if(yo())return null;C_(n,r,!0)}function wS(n){MS(function(){(ht&6)!==0?Rn(_e,n):n()})}function vm(){return ma===0&&(ma=al()),ma}function F_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wi(""+n)}function q_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function AS(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=F_((f[xt]||null).action),_=u.submitter;_&&(r=(r=_[xt]||null)?F_(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var b=new Fa("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var N=_?q_(f,_):new FormData(f);Cd(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(b.preventDefault(),N=_?q_(f,_):new FormData(f),Cd(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var _m=0;_m<Vy.length;_m++){var Em=Vy[_m],SS=Em.toLowerCase(),RS=Em[0].toUpperCase()+Em.slice(1);ai(SS,"on"+RS)}ai(xy,"onAnimationEnd"),ai(Dy,"onAnimationIteration"),ai(Oy,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(qA,"onTransitionRun"),ai(HA,"onTransitionStart"),ai(GA,"onTransitionCancel"),ai(My,"onTransitionEnd"),En("onMouseEnter",["mouseout","mouseover"]),En("onMouseLeave",["mouseout","mouseover"]),En("onPointerEnter",["pointerout","pointerover"]),En("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function H_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var _=u.length-1;0<=_;_--){var b=u[_],N=b.instance,U=b.currentTarget;if(b=b.listener,N!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=U;try{m(f)}catch(X){Pc(X)}f.currentTarget=null,m=N}else for(_=0;_<u.length;_++){if(b=u[_],N=b.instance,U=b.currentTarget,b=b.listener,N!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=U;try{m(f)}catch(X){Pc(X)}f.currentTarget=null,m=N}}}}function je(n,r){var a=r[js];a===void 0&&(a=r[js]=new Set);var u=n+"__bubble";a.has(u)||(G_(r,n,2,!1),a.add(u))}function Tm(n,r,a){var u=0;r&&(u|=4),G_(a,n,u,r)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function bm(n){if(!n[Wc]){n[Wc]=!0,ll.forEach(function(a){a!=="selectionchange"&&(CS.has(a)||Tm(a,!1,n),Tm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Wc]||(r[Wc]=!0,Tm("selectionchange",!1,r))}}function G_(n,r,a,u){switch(m0(r)){case 2:var f=JS;break;case 8:f=eR;break;default:f=Vm}a=f.bind(null,r,a,n),f=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function wm(n,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var b=u.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;_=_.return}for(;b!==null;){if(_=si(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=m=_;continue e}b=b.parentNode}}u=u.return}nc(function(){var U=m,X=Ba(a),ie=[];e:{var G=ky.get(n);if(G!==void 0){var Y=Fa,pe=n;switch(n){case"keypress":if(Si(a)===0)break e;case"keydown":case"keyup":Y=Qa;break;case"focusin":pe="focus",Y=Ga;break;case"focusout":pe="blur",Y=Ga;break;case"beforeblur":case"afterblur":Y=Ga;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=cc;break;case xy:case Dy:case Oy:Y=$a;break;case My:Y=fc;break;case"scroll":case"scrollend":Y=ic;break;case"wheel":Y=Ya;break;case"copy":case"cut":case"paste":Y=Ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=El;break;case"toggle":case"beforetoggle":Y=mc}var Re=(r&4)!==0,gt=!Re&&(n==="scroll"||n==="scrollend"),B=Re?G!==null?G+"Capture":null:G;Re=[];for(var L=U,q;L!==null;){var W=L;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||B===null||(W=Hs(L,B),W!=null&&Re.push(Wl(L,W,q))),gt)break;L=L.return}0<Re.length&&(G=new Y(G,pe,null,a,X),ie.push({event:G,listeners:Re}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==zn&&(pe=a.relatedTarget||a.fromElement)&&(si(pe)||pe[Ki]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(pe=a.relatedTarget||a.toElement,Y=U,pe=pe?si(pe):null,pe!==null&&(gt=ce(pe),Re=pe.tag,pe!==gt||Re!==5&&Re!==27&&Re!==6)&&(pe=null)):(Y=null,pe=U),Y!==pe)){if(Re=Fn,W="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Re=El,W="onPointerLeave",B="onPointerEnter",L="pointer"),gt=Y==null?G:Hr(Y),q=pe==null?G:Hr(pe),G=new Re(W,L+"leave",Y,a,X),G.target=gt,G.relatedTarget=q,W=null,si(X)===U&&(Re=new Re(B,L+"enter",pe,a,X),Re.target=q,Re.relatedTarget=gt,W=Re),gt=W,Y&&pe)t:{for(Re=Y,B=pe,L=0,q=Re;q;q=_o(q))L++;for(q=0,W=B;W;W=_o(W))q++;for(;0<L-q;)Re=_o(Re),L--;for(;0<q-L;)B=_o(B),q--;for(;L--;){if(Re===B||B!==null&&Re===B.alternate)break t;Re=_o(Re),B=_o(B)}Re=null}else Re=null;Y!==null&&$_(ie,G,Y,Re,!1),pe!==null&&gt!==null&&$_(ie,gt,pe,Re,!0)}}e:{if(G=U?Hr(U):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var me=_y;else if(Ot(G))if(Ey)me=jA;else{me=LA;var ke=PA}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&dl(U.elementType)&&(me=_y):me=UA;if(me&&(me=me(n,U))){tr(ie,me,a,X);break e}ke&&ke(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&za(G,"number",G.value)}switch(ke=U?Hr(U):window,n){case"focusin":(Ot(ke)||ke.contentEditable==="true")&&(Xa=ke,ed=U,wl=null);break;case"focusout":wl=ed=Xa=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,Iy(ie,a,X);break;case"selectionchange":if(FA)break;case"keydown":case"keyup":Iy(ie,a,X)}var ye;if(Ii)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ze?K(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(ze||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ze&&(ye=pl()):(Ai=X,Xr="value"in Ai?Ai.value:Ai.textContent,ze=!0)),ke=Zc(U,Te),0<ke.length&&(Te=new vl(Te,n,null,a,X),ie.push({event:Te,listeners:ke}),ye?Te.data=ye:(ye=le(a),ye!==null&&(Te.data=ye)))),(ye=y?Dt(n,a):Be(n,a))&&(Te=Zc(U,"onBeforeInput"),0<Te.length&&(ke=new vl("onBeforeInput","beforeinput",null,a,X),ie.push({event:ke,listeners:Te}),ke.data=ye)),AS(ie,n,U,a,X)}H_(ie,r)})}function Wl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Zc(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Hs(n,a),f!=null&&u.unshift(Wl(n,f,m)),f=Hs(n,r),f!=null&&u.push(Wl(n,f,m))),n=n.return}return u}function _o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $_(n,r,a,u,f){for(var m=r._reactName,_=[];a!==null&&a!==u;){var b=a,N=b.alternate,U=b.stateNode;if(b=b.tag,N!==null&&N===u)break;b!==5&&b!==26&&b!==27||U===null||(N=U,f?(U=Hs(a,m),U!=null&&_.unshift(Wl(a,U,N))):f||(U=Hs(a,m),U!=null&&_.push(Wl(a,U,N)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var IS=/\r\n?/g,NS=/\u0000|\uFFFD/g;function K_(n){return(typeof n=="string"?n:""+n).replace(IS,`
`).replace(NS,"")}function Q_(n,r){return r=K_(r),K_(n)===r}function Jc(){}function We(n,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||jn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&jn(n,""+u);break;case"className":Kr(n,"class",u);break;case"tabIndex":Kr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(n,a,u);break;case"style":tc(n,u,m);break;case"data":if(r!=="object"){Kr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=wi(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=wi(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Jc);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=wi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":je("beforetoggle",n),je("toggle",n),$r(n,"popover",u);break;case"xlinkActuate":Un(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Un(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Un(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Un(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Un(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Un(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Un(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Un(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Un(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$r(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kf.get(a)||a,$r(n,a,u))}}function Am(n,r,a,u,f,m){switch(a){case"style":tc(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?jn(n,u):(typeof u=="number"||typeof u=="bigint")&&jn(n,""+u);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[xt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):$r(n,a,u)}}}function Wt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,m,_,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),u&&We(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var b=m=_=f=null,N=null,U=null;for(u in a)if(a.hasOwnProperty(u)){var X=a[u];if(X!=null)switch(u){case"name":f=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":U=X;break;case"value":m=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(n,r,u,X,a,null)}}Fs(n,m,b,N,U,_,f,!1),Bs(n);return;case"select":je("invalid",n),u=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":_=b;break;case"multiple":u=b;default:We(n,r,f,b,a,null)}r=m,a=_,n.multiple=!!u,r!=null?He(n,!!u,r,!1):a!=null&&He(n,!!u,a,!0);return;case"textarea":je("invalid",n),m=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":u=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(n,r,_,b,a,null)}Yr(n,u,f,m),Bs(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,r,N,u,a,null)}return;case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(u=0;u<Xl.length;u++)je(Xl[u],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(u=a[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,U,u,a,null)}return;default:if(dl(r)){for(X in a)a.hasOwnProperty(X)&&(u=a[X],u!==void 0&&Am(n,r,X,u,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(u=a[b],u!=null&&We(n,r,b,u,a,null))}function xS(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,b=null,N=null,U=null,X=null;for(Y in a){var ie=a[Y];if(a.hasOwnProperty(Y)&&ie!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ie;default:u.hasOwnProperty(Y)||We(n,r,Y,null,u,ie)}}for(var G in u){var Y=u[G];if(ie=a[G],u.hasOwnProperty(G)&&(Y!=null||ie!=null))switch(G){case"type":m=Y;break;case"name":f=Y;break;case"checked":U=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ie&&We(n,r,G,Y,u,ie)}}Qr(n,_,b,N,U,X,m,f);return;case"select":Y=_=b=G=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Y=N;default:u.hasOwnProperty(m)||We(n,r,m,null,u,N)}for(f in u)if(m=u[f],N=a[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":G=m;break;case"defaultValue":b=m;break;case"multiple":_=m;default:m!==N&&We(n,r,f,m,u,N)}r=b,a=_,u=Y,G!=null?He(n,!!a,G,!1):!!u!=!!a&&(r!=null?He(n,!!a,r,!0):He(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(n,r,b,null,u,f)}for(_ in u)if(f=u[_],m=a[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,r,_,f,u,m)}qs(n,G,Y);return;case"option":for(var pe in a)if(G=a[pe],a.hasOwnProperty(pe)&&G!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:We(n,r,pe,null,u,G)}for(N in u)if(G=u[N],Y=a[N],u.hasOwnProperty(N)&&G!==Y&&(G!=null||Y!=null))switch(N){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(n,r,N,G,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)G=a[Re],a.hasOwnProperty(Re)&&G!=null&&!u.hasOwnProperty(Re)&&We(n,r,Re,null,u,G);for(U in u)if(G=u[U],Y=a[U],u.hasOwnProperty(U)&&G!==Y&&(G!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:We(n,r,U,G,u,Y)}return;default:if(dl(r)){for(var gt in a)G=a[gt],a.hasOwnProperty(gt)&&G!==void 0&&!u.hasOwnProperty(gt)&&Am(n,r,gt,void 0,u,G);for(X in u)G=u[X],Y=a[X],!u.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||Am(n,r,X,G,u,Y);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!u.hasOwnProperty(B)&&We(n,r,B,null,u,G);for(ie in u)G=u[ie],Y=a[ie],!u.hasOwnProperty(ie)||G===Y||G==null&&Y==null||We(n,r,ie,G,u,Y)}var Sm=null,Rm=null;function eh(n){return n.nodeType===9?n:n.ownerDocument}function Y_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Cm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Im=null;function DS(){var n=window.event;return n&&n.type==="popstate"?n===Im?!1:(Im=n,!0):(Im=null,!1)}var W_=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(n){return Z_.resolve(null).then(n).catch(kS)}:W_;function kS(n){setTimeout(function(){throw n})}function Nm(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),su(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);su(r)}function xm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xm(a),zs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function VS(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[qr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ui(n.nextSibling),n===null)break}return null}function PS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ui(n.nextSibling),n===null))return null;return n}function ui(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function J_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function e0(n,r,a){switch(r=eh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Zn=new Map,t0=new Set;function th(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var gr=oe.d;oe.d={f:LS,r:US,D:jS,C:zS,L:BS,m:FS,X:HS,S:qS,M:GS};function LS(){var n=gr.f(),r=Kc();return n||r}function US(n){var r=Qi(n);r!==null&&r.tag===5&&r.type==="form"?Iv(r):gr.r(n)}var Eo=typeof document>"u"?null:document;function n0(n,r,a){var u=Eo;if(u&&typeof r=="string"&&r){var f=dt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),t0.has(f)||(t0.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Wt(r,"link",n),ut(r),u.head.appendChild(r)))}}function jS(n){gr.D(n),n0("dns-prefetch",n,null)}function zS(n,r){gr.C(n,r),n0("preconnect",n,r)}function BS(n,r,a){gr.L(n,r,a);var u=Eo;if(u&&n&&r){var f='link[rel="preload"][as="'+dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dt(a.imageSizes)+'"]')):f+='[href="'+dt(n)+'"]';var m=f;switch(r){case"style":m=To(n);break;case"script":m=bo(n)}Zn.has(m)||(n=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Zn.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Zl(m))||r==="script"&&u.querySelector(Jl(m))||(r=u.createElement("link"),Wt(r,"link",n),ut(r),u.head.appendChild(r)))}}function FS(n,r){gr.m(n,r);var a=Eo;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+dt(u)+'"][href="'+dt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=bo(n)}if(!Zn.has(m)&&(n=D({rel:"modulepreload",href:n},r),Zn.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(m)))return}u=a.createElement("link"),Wt(u,"link",n),ut(u),a.head.appendChild(u)}}}function qS(n,r,a){gr.S(n,r,a);var u=Eo;if(u&&n){var f=Gr(u).hoistableStyles,m=To(n);r=r||"default";var _=f.get(m);if(!_){var b={loading:0,preload:null};if(_=u.querySelector(Zl(m)))b.loading=5;else{n=D({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Zn.get(m))&&Dm(n,a);var N=_=u.createElement("link");ut(N),Wt(N,"link",n),N._p=new Promise(function(U,X){N.onload=U,N.onerror=X}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,nh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(m,_)}}}function HS(n,r){gr.X(n,r);var a=Eo;if(a&&n){var u=Gr(a).hoistableScripts,f=bo(n),m=u.get(f);m||(m=a.querySelector(Jl(f)),m||(n=D({src:n,async:!0},r),(r=Zn.get(f))&&Om(n,r),m=a.createElement("script"),ut(m),Wt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function GS(n,r){gr.M(n,r);var a=Eo;if(a&&n){var u=Gr(a).hoistableScripts,f=bo(n),m=u.get(f);m||(m=a.querySelector(Jl(f)),m||(n=D({src:n,async:!0,type:"module"},r),(r=Zn.get(f))&&Om(n,r),m=a.createElement("script"),ut(m),Wt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function i0(n,r,a,u){var f=(f=yt.current)?th(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=To(a.href),a=Gr(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=To(a.href);var m=Gr(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(Zl(n)))&&!m._p&&(_.instance=m,_.state.loading=5),Zn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(n,a),m||$S(f,n,a,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bo(a),a=Gr(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function To(n){return'href="'+dt(n)+'"'}function Zl(n){return'link[rel="stylesheet"]['+n+"]"}function r0(n){return D({},n,{"data-precedence":n.precedence,precedence:null})}function $S(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Wt(r,"link",a),ut(r),n.head.appendChild(r))}function bo(n){return'[src="'+dt(n)+'"]'}function Jl(n){return"script[async]"+n}function s0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+dt(a.href)+'"]');if(u)return r.instance=u,ut(u),u;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ut(u),Wt(u,"style",f),nh(u,a.precedence,n),r.instance=u;case"stylesheet":f=To(a.href);var m=n.querySelector(Zl(f));if(m)return r.state.loading|=4,r.instance=m,ut(m),m;u=r0(a),(f=Zn.get(f))&&Dm(u,f),m=(n.ownerDocument||n).createElement("link"),ut(m);var _=m;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Wt(m,"link",u),r.state.loading|=4,nh(m,a.precedence,n),r.instance=m;case"script":return m=bo(a.src),(f=n.querySelector(Jl(m)))?(r.instance=f,ut(f),f):(u=a,(f=Zn.get(m))&&(u=D({},a),Om(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),ut(f),Wt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,nh(u,a.precedence,n));return r.instance}function nh(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var b=u[_];if(b.dataset.precedence===r)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var ih=null;function a0(n,r,a){if(ih===null){var u=new Map,f=ih=new Map;f.set(a,u)}else f=ih,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[qr]||m[Bt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=n+_;var b=u.get(_);b?b.push(m):u.set(_,[m])}}return u}function o0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function KS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function l0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var eu=null;function QS(){}function YS(n,r,a){if(eu===null)throw Error(s(475));var u=eu;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=To(a.href),m=n.querySelector(Zl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=rh.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,ut(m);return}m=n.ownerDocument||n,a=r0(a),(f=Zn.get(f))&&Dm(a,f),m=m.createElement("link"),ut(m);var _=m;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Wt(m,"link",a),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=rh.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function XS(){if(eu===null)throw Error(s(475));var n=eu;return n.stylesheets&&n.count===0&&Mm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&Mm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function rh(){if(this.count--,this.count===0){if(this.stylesheets)Mm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var sh=null;function Mm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,sh=new Map,r.forEach(WS,n),sh=null,rh.call(n))}function WS(n,r){if(!(r.state.loading&4)){var a=sh.get(n);if(a)var u=a.get(null);else{a=new Map,sh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||u,m===u&&a.set(null,f),a.set(_,f),this.count++,u=rh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var tu={$$typeof:x,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function ZS(n,r,a,u,f,m,_,b){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function u0(n,r,a,u,f,m,_,b,N,U,X,ie){return n=new ZS(n,r,a,_,b,N,U,ie),r=1,m===!0&&(r|=24),m=Xn(3,null,null,r),n.current=m,m.stateNode=n,r=hd(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},Gd(m),n}function c0(n){return n?(n=Ja,n):Ja}function h0(n,r,a,u,f,m){f=c0(f),u.context===null?u.context=f:u.pendingContext=f,u=rs(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=ss(n,u,r),a!==null&&(pn(a,n,r),Ul(a,n,r))}function f0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function km(n,r){f0(n,r),(n=n.alternate)&&f0(n,r)}function d0(n){if(n.tag===13){var r=Wr(n,67108864);r!==null&&pn(r,n,67108864),km(n,67108864)}}var ah=!0;function JS(n,r,a,u){var f=R.T;R.T=null;var m=oe.p;try{oe.p=2,Vm(n,r,a,u)}finally{oe.p=m,R.T=f}}function eR(n,r,a,u){var f=R.T;R.T=null;var m=oe.p;try{oe.p=8,Vm(n,r,a,u)}finally{oe.p=m,R.T=f}}function Vm(n,r,a,u){if(ah){var f=Pm(u);if(f===null)wm(n,r,u,oh,a),p0(n,u);else if(nR(f,n,r,a,u))u.stopPropagation();else if(p0(n,u),r&4&&-1<tR.indexOf(n)){for(;f!==null;){var m=Qi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=ri(m.pendingLanes);if(_!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-hn(_);b.entanglements[1]|=N,_&=~N}ki(m),(ht&6)===0&&(Hc=Nt()+500,Yl(0))}}break;case 13:b=Wr(m,2),b!==null&&pn(b,m,2),Kc(),km(m,2)}if(m=Pm(u),m===null&&wm(n,r,u,oh,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else wm(n,r,u,null,a)}}function Pm(n){return n=Ba(n),Lm(n)}var oh=null;function Lm(n){if(oh=null,n=si(n),n!==null){var r=ce(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Ve(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return oh=n,null}function m0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vr()){case _e:return 2;case et:return 8;case _n:case $i:return 32;case Pn:return 268435456;default:return 32}default:return 32}}var Um=!1,fs=null,ds=null,ms=null,nu=new Map,iu=new Map,ps=[],tR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p0(n,r){switch(n){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":nu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(r.pointerId)}}function ru(n,r,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Qi(r),r!==null&&d0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function nR(n,r,a,u,f){switch(r){case"focusin":return fs=ru(fs,n,r,a,u,f),!0;case"dragenter":return ds=ru(ds,n,r,a,u,f),!0;case"mouseover":return ms=ru(ms,n,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return nu.set(m,ru(nu.get(m)||null,n,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,iu.set(m,ru(iu.get(m)||null,n,r,a,u,f)),!0}return!1}function g0(n){var r=si(n.target);if(r!==null){var a=ce(r);if(a!==null){if(r=a.tag,r===13){if(r=Ve(a),r!==null){n.blockedOn=r,Fr(n.priority,function(){if(a.tag===13){var u=Mn(),f=Wr(a,u);f!==null&&pn(f,a,u),km(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Pm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);zn=u,a.target.dispatchEvent(u),zn=null}else return r=Qi(a),r!==null&&d0(r),n.blockedOn=a,!1;r.shift()}return!0}function y0(n,r,a){lh(n)&&a.delete(r)}function iR(){Um=!1,fs!==null&&lh(fs)&&(fs=null),ds!==null&&lh(ds)&&(ds=null),ms!==null&&lh(ms)&&(ms=null),nu.forEach(y0),iu.forEach(y0)}function uh(n,r){n.blockedOn===r&&(n.blockedOn=null,Um||(Um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,iR)))}var ch=null;function v0(n){ch!==n&&(ch=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ch===n&&(ch=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Lm(u||a)===null)continue;break}var m=Qi(a);m!==null&&(n.splice(r,3),r-=3,Cd(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function su(n){function r(N){return uh(N,n)}fs!==null&&uh(fs,n),ds!==null&&uh(ds,n),ms!==null&&uh(ms,n),nu.forEach(r),iu.forEach(r);for(var a=0;a<ps.length;a++){var u=ps[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)g0(a),a.blockedOn===null&&ps.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],_=f[xt]||null;if(typeof m=="function")_||v0(a);else if(_){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[xt]||null)b=_.formAction;else if(Lm(f)!==null)continue}else b=_.action;typeof b=="function"?a[u+1]=b:(a.splice(u,3),u-=3),v0(a)}}}function jm(n){this._internalRoot=n}hh.prototype.render=jm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Mn();h0(a,u,n,r,null,null)},hh.prototype.unmount=jm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&yo(),h0(n.current,2,null,n,null,null),Kc(),r[Ki]=null}};function hh(n){this._internalRoot=n}hh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Zu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ps.length&&r!==0&&r<ps[a].priority;a++);ps.splice(a,0,n),a===0&&g0(n)}};var _0=e.version;if(_0!=="19.0.0")throw Error(s(527,_0,"19.0.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ne(r),n=n!==null?he(n):null,n=n===null?null:n.stateNode,n};var rR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:si,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Pr=fh.inject(rR),rn=fh}catch{}}return ou.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=Pv,m=Lv,_=Uv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=u0(n,1,!1,null,null,a,u,f,m,_,b,null),n[Ki]=r.current,bm(n.nodeType===8?n.parentNode:n),new jm(r)},ou.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=Pv,_=Lv,b=Uv,N=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=u0(n,1,!0,r,a??null,u,f,m,_,b,N,U),r.context=c0(null),a=r.current,u=Mn(),f=rs(u),f.callback=null,ss(a,f,u),r.current.lanes=u,vt(r,u),ki(r),n[Ki]=r.current,bm(n),new hh(r)},ou.version="19.0.0",ou}var N0;function dR(){if(N0)return Fm.exports;N0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fm.exports=fR(),Fm.exports}var mR=dR();const pR=Ho(mR);var lu={},x0;function gR(){if(x0)return lu;x0=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.parse=h,lu.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,x){const k=new l,$=w.length;if($<2)return k;const j=(x==null?void 0:x.decode)||E;let H=0;do{const ee=w.indexOf("=",H);if(ee===-1)break;const Q=w.indexOf(";",H),re=Q===-1?$:Q;if(ee>re){H=w.lastIndexOf(";",ee-1)+1;continue}const te=d(w,H,ee),se=p(w,ee,te),M=w.slice(te,se);if(k[M]===void 0){let I=d(w,ee+1,re),R=p(w,re,I);const D=j(w.slice(I,R));k[M]=D}H=re+1}while(H<$);return k}function d(w,x,k){do{const $=w.charCodeAt(x);if($!==32&&$!==9)return x}while(++x<k);return k}function p(w,x,k){for(;x>k;){const $=w.charCodeAt(--x);if($!==32&&$!==9)return x+1}return k}function g(w,x,k){const $=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=$(x);if(!e.test(j))throw new TypeError(`argument val is invalid: ${x}`);let H=w+"="+j;if(!k)return H;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);H+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);H+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);H+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);H+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(H+="; HttpOnly"),k.secure&&(H+="; Secure"),k.partitioned&&(H+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return H}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return lu}gR();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D0="popstate";function yR(i={}){function e(s,o){let{pathname:l,search:h,hash:d}=s.location;return Ep("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:wu(o)}return _R(e,t,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function di(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vR(){return Math.random().toString(36).substring(2,10)}function O0(i,e){return{usr:i.state,key:i.key,idx:e}}function Ep(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:t,key:e&&e.key||s||vR()}}function wu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Go(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function _R(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let j=E(),H=j==null?null:j-g;g=j,p&&p({action:d,location:$.location,delta:H})}function w(j,H){d="PUSH";let ee=Ep($.location,j,H);g=E()+1;let Q=O0(ee,g),re=$.createHref(ee);try{h.pushState(Q,"",re)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(re)}l&&p&&p({action:d,location:$.location,delta:1})}function x(j,H){d="REPLACE";let ee=Ep($.location,j,H);g=E();let Q=O0(ee,g),re=$.createHref(ee);h.replaceState(Q,"",re),l&&p&&p({action:d,location:$.location,delta:0})}function k(j){let H=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof j=="string"?j:wu(j);return ee=ee.replace(/ $/,"%20"),ot(H,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,H)}let $={get action(){return d},get location(){return i(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(D0,T),p=j,()=>{o.removeEventListener(D0,T),p=null}},createHref(j){return e(o,j)},createURL:k,encodeLocation(j){let H=k(j);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:x,go(j){return h.go(j)}};return $}function zT(i,e,t="/"){return ER(i,e,t,!1)}function ER(i,e,t,s){let o=typeof e=="string"?Go(e):e,l=Sr(o.pathname||"/",t);if(l==null)return null;let h=BT(i);TR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=OR(l);d=xR(h[p],g,s)}return d}function BT(i,e=[],t=[],s=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Tr([s,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(ot(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),BT(l.children,e,E,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:IR(g,l.index),routesMeta:E})};return i.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of FT(l.path))o(l,h,p)}),e}function FT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=FT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function TR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:NR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var bR=/^:[\w-]+$/,wR=3,AR=2,SR=1,RR=10,CR=-2,M0=i=>i==="*";function IR(i,e){let t=i.split("/"),s=t.length;return t.some(M0)&&(s+=CR),e&&(s+=AR),t.filter(o=>!M0(o)).reduce((o,l)=>o+(bR.test(l)?wR:l===""?SR:RR),s)}function NR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function xR(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Tr([l,T.pathname]),pathnameBase:PR(Tr([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Tr([l,T.pathnameBase]))}return h}function Vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=DR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let k=d[w]||"";h=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const x=d[w];return T&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:i}}function DR(i,e=!1,t=!0){di(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function OR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Sr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function MR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Go(i):i;return{pathname:t?t.startsWith("/")?t:kR(t,e):e,search:LR(s),hash:UR(o)}}function kR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $m(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tg(i){let e=VR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function ng(i,e,t,s=!1){let o;typeof i=="string"?o=Go(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),$m("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),$m("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),$m("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=MR(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Tr=i=>i.join("/").replace(/\/\/+/g,"/"),PR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),LR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,UR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function jR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qT=["POST","PUT","PATCH","DELETE"];new Set(qT);var zR=["GET",...qT];new Set(zR);var $o=C.createContext(null);$o.displayName="DataRouter";var ff=C.createContext(null);ff.displayName="DataRouterState";var HT=C.createContext({isTransitioning:!1});HT.displayName="ViewTransition";var BR=C.createContext(new Map);BR.displayName="Fetchers";var FR=C.createContext(null);FR.displayName="Await";var gi=C.createContext(null);gi.displayName="Navigation";var ku=C.createContext(null);ku.displayName="Location";var qi=C.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var ig=C.createContext(null);ig.displayName="RouteError";function qR(i,{relative:e}={}){ot(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=C.useContext(gi),{hash:o,pathname:l,search:h}=Vu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Tr([t,l])),s.createHref({pathname:d,search:h,hash:o})}function Ko(){return C.useContext(ku)!=null}function Mr(){return ot(Ko(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(ku).location}var GT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(i){C.useContext(gi).static||C.useLayoutEffect(i)}function Na(){let{isDataRoute:i}=C.useContext(qi);return i?n2():HR()}function HR(){ot(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let i=C.useContext($o),{basename:e,navigator:t}=C.useContext(gi),{matches:s}=C.useContext(qi),{pathname:o}=Mr(),l=JSON.stringify(tg(s)),h=C.useRef(!1);return $T(()=>{h.current=!0}),C.useCallback((p,g={})=>{if(di(h.current,GT),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=ng(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Tr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,o,i])}C.createContext(null);function Vu(i,{relative:e}={}){let{matches:t}=C.useContext(qi),{pathname:s}=Mr(),o=JSON.stringify(tg(t));return C.useMemo(()=>ng(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function GR(i,e){return KT(i,e)}function KT(i,e,t,s){var ee;ot(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=C.useContext(gi),{matches:h}=C.useContext(qi),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let Q=T&&T.path||"";QT(g,!T||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let w=Mr(),x;if(e){let Q=typeof e=="string"?Go(e):e;ot(E==="/"||((ee=Q.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),x=Q}else x=w;let k=x.pathname||"/",$=k;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");$="/"+k.replace(/^\//,"").split("/").slice(Q.length).join("/")}let j=!l&&t&&t.matches&&t.matches.length>0?t.matches:zT(i,{pathname:$});di(T||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),di(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=XR(j&&j.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:Tr([E,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:Tr([E,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,t,s);return e&&H?C.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},H):H}function $R(){let i=t2(),e=jR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:o},t):null,h)}var KR=C.createElement($R,null),QR=class extends C.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?C.createElement(qi.Provider,{value:this.props.routeContext},C.createElement(ig.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YR({routeContext:i,match:e,children:t}){let s=C.useContext($o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(qi.Provider,{value:i},t)}function XR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:T}=t,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,w=!1,x=null,k=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||KR,h&&(d<0&&E===0?(QT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):d===E&&(w=!0,k=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),j=()=>{let H;return T?H=x:w?H=k:g.route.Component?H=C.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,C.createElement(YR,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?C.createElement(QR,{location:t.location,revalidation:t.revalidation,component:x,error:T,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function rg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WR(i){let e=C.useContext($o);return ot(e,rg(i)),e}function ZR(i){let e=C.useContext(ff);return ot(e,rg(i)),e}function JR(i){let e=C.useContext(qi);return ot(e,rg(i)),e}function sg(i){let e=JR(i),t=e.matches[e.matches.length-1];return ot(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function e2(){return sg("useRouteId")}function t2(){var s;let i=C.useContext(ig),e=ZR("useRouteError"),t=sg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function n2(){let{router:i}=WR("useNavigate"),e=sg("useNavigate"),t=C.useRef(!1);return $T(()=>{t.current=!0}),C.useCallback(async(o,l={})=>{di(t.current,GT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var k0={};function QT(i,e,t){!e&&!k0[i]&&(k0[i]=!0,di(!1,t))}C.memo(i2);function i2({routes:i,future:e,state:t}){return KT(i,void 0,t,e)}function r2({to:i,replace:e,state:t,relative:s}){ot(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=C.useContext(gi);di(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(qi),{pathname:h}=Mr(),d=Na(),p=ng(i,tg(l),h,s==="path"),g=JSON.stringify(p);return C.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function hu(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s2({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ot(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Go(t));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=t,x=C.useMemo(()=>{let k=Sr(p,h);return k==null?null:{location:{pathname:k,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return di(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:C.createElement(gi.Provider,{value:d},C.createElement(ku.Provider,{children:e,value:x}))}function a2({children:i,location:e}){return GR(Tp(i),e)}function Tp(i,e=[]){let t=[];return C.Children.forEach(i,(s,o)=>{if(!C.isValidElement(s))return;let l=[...e,o];if(s.type===C.Fragment){t.push.apply(t,Tp(s.props.children,l));return}ot(s.type===hu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Tp(s.props.children,l)),t.push(h)}),t}var wh="get",Ah="application/x-www-form-urlencoded";function df(i){return i!=null&&typeof i.tagName=="string"}function o2(i){return df(i)&&i.tagName.toLowerCase()==="button"}function l2(i){return df(i)&&i.tagName.toLowerCase()==="form"}function u2(i){return df(i)&&i.tagName.toLowerCase()==="input"}function c2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function h2(i,e){return i.button===0&&(!e||e==="_self")&&!c2(i)}var dh=null;function f2(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var d2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(i){return i!=null&&!d2.has(i)?(di(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):i}function m2(i,e){let t,s,o,l,h;if(l2(i)){let d=i.getAttribute("action");s=d?Sr(d,e):null,t=i.getAttribute("method")||wh,o=Km(i.getAttribute("enctype"))||Ah,l=new FormData(i)}else if(o2(i)||u2(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?Sr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||wh,o=Km(i.getAttribute("formenctype"))||Km(d.getAttribute("enctype"))||Ah,l=new FormData(d,i),!f2()){let{name:g,type:E,value:T}=i;if(E==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(df(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wh,s=null,o=Ah,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function ag(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function p2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function y2(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await p2(l,t);return h.links?h.links():[]}return[]}));return T2(s.flat(1).filter(g2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V0(i,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function v2(i,e,{includeHydrateFallback:t}={}){return _2(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function _2(i){return[...new Set(i)]}function E2(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function T2(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(E2(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function b2(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Sr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function YT(){let i=C.useContext($o);return ag(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function w2(){let i=C.useContext(ff);return ag(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var og=C.createContext(void 0);og.displayName="FrameworkContext";function XT(){let i=C.useContext(og);return ag(i,"You must render this element inside a <HydratedRouter> element"),i}function A2(i,e){let t=C.useContext(og),[s,o]=C.useState(!1),[l,h]=C.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=C.useRef(null);C.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=H=>{H.forEach(ee=>{h(ee.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[i]),C.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let x=()=>{o(!0)},k=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:uu(d,x),onBlur:uu(p,k),onMouseEnter:uu(g,x),onMouseLeave:uu(E,k),onTouchStart:uu(T,x)}]:[!1,w,{}]}function uu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function S2({page:i,...e}){let{router:t}=YT(),s=C.useMemo(()=>zT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?C.createElement(C2,{page:i,matches:s,...e}):null}function R2(i){let{manifest:e,routeModules:t}=XT(),[s,o]=C.useState([]);return C.useEffect(()=>{let l=!1;return y2(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function C2({page:i,matches:e,...t}){let s=Mr(),{manifest:o,routeModules:l}=XT(),{basename:h}=YT(),{loaderData:d,matches:p}=w2(),g=C.useMemo(()=>V0(i,e,p,o,s,"data"),[i,e,p,o,s]),E=C.useMemo(()=>V0(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=C.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,$=!1;if(e.forEach(H=>{var Q;let ee=o.routes[H.route.id];!ee||!ee.hasLoader||(!g.some(re=>re.route.id===H.route.id)&&H.route.id in d&&((Q=l[H.route.id])!=null&&Q.shouldRevalidate)||ee.hasClientLoader?$=!0:k.add(H.route.id))}),k.size===0)return[];let j=b2(i,h);return $&&k.size>0&&j.searchParams.set("_routes",e.filter(H=>k.has(H.route.id)).map(H=>H.route.id).join(",")),[j.pathname+j.search]},[h,d,s,o,g,e,i,l]),w=C.useMemo(()=>v2(E,o),[E,o]),x=R2(E);return C.createElement(C.Fragment,null,T.map(k=>C.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),w.map(k=>C.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),x.map(({key:k,link:$})=>C.createElement("link",{key:k,...$})))}function I2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WT&&(window.__reactRouterVersion="7.5.0")}catch{}function N2({basename:i,children:e,window:t}){let s=C.useRef();s.current==null&&(s.current=yR({window:t,v5Compat:!0}));let o=s.current,[l,h]=C.useState({action:o.action,location:o.location}),d=C.useCallback(p=>{C.startTransition(()=>h(p))},[h]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.createElement(s2,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JT=C.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},x){let{basename:k}=C.useContext(gi),$=typeof g=="string"&&ZT.test(g),j,H=!1;if(typeof g=="string"&&$&&(j=g,WT))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=Sr(D.pathname,k);D.origin===R.origin&&P!=null?g=P+D.search+D.hash:H=!0}catch{di(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=qR(g,{relative:o}),[Q,re,te]=A2(s,w),se=M2(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function M(R){e&&e(R),R.defaultPrevented||se(R)}let I=C.createElement("a",{...w,...te,href:j||ee,onClick:H||l?e:M,ref:I2(x,re),target:p,"data-discover":!$&&t==="render"?"true":void 0});return Q&&!$?C.createElement(C.Fragment,null,I,C.createElement(S2,{page:ee})):I});JT.displayName="Link";var x2=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},E){let T=Vu(h,{relative:g.relative}),w=Mr(),x=C.useContext(ff),{navigator:k,basename:$}=C.useContext(gi),j=x!=null&&U2(T)&&d===!0,H=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,ee=w.pathname,Q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&$&&(Q=Sr(Q,$)||Q);const re=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let te=ee===H||!o&&ee.startsWith(H)&&ee.charAt(re)==="/",se=Q!=null&&(Q===H||!o&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),M={isActive:te,isPending:se,isTransitioning:j},I=te?e:void 0,R;typeof s=="function"?R=s(M):R=[s,te?"active":null,se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return C.createElement(JT,{...g,"aria-current":I,className:R,ref:E,style:D,to:h,viewTransition:d},typeof p=="function"?p(M):p)});x2.displayName="NavLink";var D2=C.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=wh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},x)=>{let k=P2(),$=L2(d,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&ZT.test(d),ee=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let re=Q.nativeEvent.submitter,te=(re==null?void 0:re.getAttribute("formmethod"))||h;k(re||Q.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:o,state:l,relative:g,preventScrollReset:E,viewTransition:T})};return C.createElement("form",{ref:x,method:j,action:$,onSubmit:s?p:ee,...w,"data-discover":!H&&i==="render"?"true":void 0})});D2.displayName="Form";function O2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(i){let e=C.useContext($o);return ot(e,O2(i)),e}function M2(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=Na(),p=Mr(),g=Vu(i,{relative:l});return C.useCallback(E=>{if(h2(E,e)){E.preventDefault();let T=t!==void 0?t:wu(p)===wu(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,i,o,l,h])}var k2=0,V2=()=>`__${String(++k2)}__`;function P2(){let{router:i}=e1("useSubmit"),{basename:e}=C.useContext(gi),t=e2();return C.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=m2(s,e);if(o.navigate===!1){let E=o.fetcherKey||V2();await i.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function L2(i,{relative:e}={}){let{basename:t}=C.useContext(gi),s=C.useContext(qi);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Vu(i||".",{relative:e})},h=Mr();if(i==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();l.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Tr([t,l.pathname])),wu(l)}function U2(i,e={}){let t=C.useContext(HT);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=e1("useViewTransitionState"),o=Vu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Sr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Sr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,l)!=null}new TextEncoder;var j2=jT();const xo=Ho(j2);var Qm={},P0;function z2(){return P0||(P0=1,function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=hf();function t(h){if(h&&h.__esModule)return h;var d=Object.create(null);return h&&Object.keys(h).forEach(function(p){if(p!=="default"){var g=Object.getOwnPropertyDescriptor(h,p);Object.defineProperty(d,p,g.get?g:{enumerable:!0,get:function(){return h[p]}})}}),d.default=h,Object.freeze(d)}var s=t(e);/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var o=function(){return o=Object.assign||function(d){for(var p,g=1,E=arguments.length;g<E;g++){p=arguments[g];for(var T in p)Object.prototype.hasOwnProperty.call(p,T)&&(d[T]=p[T])}return d},o.apply(this,arguments)},l=function(h){var d=h.bgColor,p=d===void 0?"#6a1b9a":d,g=h.height,E=g===void 0?"20px":g,T=h.width,w=T===void 0?"100%":T,x=h.borderRadius,k=x===void 0?"50px":x,$=h.labelAlignment,j=$===void 0?"right":$,H=h.baseBgColor,ee=H===void 0?"#e0e0de":H,Q=h.labelColor,re=Q===void 0?"#fff":Q,te=h.labelSize,se=te===void 0?"15px":te,M=h.isLabelVisible,I=M===void 0?!0:M,R=h.dir,D=R===void 0?"ltr":R,P=h.ariaValuemin,z=P===void 0?0:P,O=h.ariaValuemax,nt=O===void 0?100:O,Ze=h.ariaValuetext,ae=Ze===void 0?null:Ze,ge=h.maxCompleted,ce=ge===void 0?100:ge,Ve=h.animateOnRender,V=Ve===void 0?!1:Ve,ne=h.initCompletedOnAnimation,he=ne===void 0?0:ne,ue=h.isIndeterminate,oe=ue===void 0?!1:ue,Ee=h.completed,we=h.margin,Je=h.padding,De=h.customLabelStyles,Ke=h.transitionDuration,Oe=h.transitionTimingFunction,lt=h.className,It=h.customLabel,yt=h.barContainerClassName,zt=h.completedClassName,Me=h.labelClassName,nn=function(Pn){return Pn==="left"?"flex-start":Pn==="center"?"center":Pn==="right"?"flex-end":null},vn=nn(j),ni=typeof he=="number"?"".concat(he,"%"):he,yi=function(Pn,il){if(Pn){var vi=Number(il)/Pn;return vi>1?"100%":"".concat(vi*100,"%")}return ni},Rn=yi(ce,Ee),ii=s.useState(ni),Us=ii[0],Gi=ii[1],Nt={height:E,background:ee,borderRadius:k,padding:Je,width:w,margin:we,overflow:"hidden"},Vr={height:E,width:oe?"100%":V?Us:Rn,background:p,transition:oe?"none":"width ".concat(Ke||"1s"," ").concat(Oe||"ease-in-out"),borderRadius:"inherit",display:"flex",alignItems:"center",justifyContent:j!=="outside"&&vn?vn:"normal",animation:oe?"indeterminate 1.5s infinite linear":"none"},_e=o({padding:j==="outside"?"0 0 0 5px":"5px",color:re,fontWeight:"bold",fontSize:se,display:I?"initial":"none"},De),et={display:j==="outside"?"flex":"initial",alignItems:j==="outside"?"center":"initial"},_n=typeof Ee=="number"?"".concat(Ee,"%"):"".concat(Ee),$i=It||_n;return s.useEffect(function(){V&&!oe&&requestAnimationFrame(function(){return Gi(Rn)})},[Rn,V,oe]),s.createElement("div",{style:lt?void 0:et,className:lt,dir:D,role:"progressbar","aria-valuenow":oe?void 0:parseFloat($i),"aria-valuemin":z,"aria-valuemax":nt,"aria-valuetext":"".concat(ae===null?$i:ae)},s.createElement("div",{style:yt?void 0:Nt,className:yt},s.createElement("div",{style:zt?void 0:Vr,className:zt},j!=="outside"&&s.createElement("span",{style:Me?void 0:_e,className:Me},$i))),j==="outside"&&s.createElement("span",{style:Me?void 0:_e,className:Me},$i),s.createElement("style",null,`
          @keyframes indeterminate {
            0% {
              width: 30%;
              transform: translateX(-50%);
            }
            50% {
              width: 30%;
              transform: translateX(250%);
            }
            100% {
              width: 30%;
              transform: translateX(-50%);
            }
          }
        `))};i.default=l}(Qm)),Qm}var B2=z2();const cu=Ho(B2);var t1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},L0=gn.createContext&&gn.createContext(t1),F2=["attr","size","title"];function q2(i,e){if(i==null)return{};var t=H2(i,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function H2(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Ph(){return Ph=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Ph.apply(this,arguments)}function U0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Lh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U0(Object(t),!0).forEach(function(s){G2(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):U0(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function G2(i,e,t){return e=$2(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function $2(i){var e=K2(i,"string");return typeof e=="symbol"?e:e+""}function K2(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function n1(i){return i&&i.map((e,t)=>gn.createElement(e.tag,Lh({key:t},e.attr),n1(e.child)))}function jt(i){return e=>gn.createElement(Q2,Ph({attr:Lh({},i.attr)},e),n1(i.child))}function Q2(i){var e=t=>{var{attr:s,size:o,title:l}=i,h=q2(i,F2),d=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),gn.createElement("svg",Ph({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Lh(Lh({color:i.color||t.color},t.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&gn.createElement("title",null,l),i.children)};return L0!==void 0?gn.createElement(L0.Consumer,null,t=>e(t)):e(t1)}function Y2(i){return jt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,40V224a8,8,0,0,1-16,0V176H152a8,8,0,0,1-8-8,268.75,268.75,0,0,1,7.22-56.88c9.78-40.49,28.32-67.63,53.63-78.47A8,8,0,0,1,216,40Zm-96.11-1.31a8,8,0,1,0-15.78,2.63L111.89,88H88V40a8,8,0,0,0-16,0V88H48.11l7.78-46.68a8,8,0,1,0-15.78-2.63l-8,48A8.17,8.17,0,0,0,32,88a48.07,48.07,0,0,0,40,47.32V224a8,8,0,0,0,16,0V135.32A48.07,48.07,0,0,0,128,88a8.17,8.17,0,0,0-.11-1.31Z"},child:[]}]})(i)}function X2(i){return jt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"},child:[]}]})(i)}function W2(i){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M346.7 6C337.6 17 320 42.3 320 72c0 40 15.3 55.3 40 80s40 40 80 40c29.7 0 55-17.6 66-26.7c4-3.3 6-8.2 6-13.3s-2-10-6-13.2c-11.4-9.1-38.3-26.8-74-26.8c-32 0-40 8-40 8s8-8 8-40c0-35.7-17.7-62.6-26.8-74C370 2 365.1 0 360 0s-10 2-13.3 6zM244.6 136c-40 0-77.1 18.1-101.7 48.2l60.5 60.5c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0l-55.3-55.3 0 .1L2.2 477.9C-2 487-.1 497.8 7 505s17.9 9 27.1 4.8l134.7-62.4-52.1-52.1c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L199.7 433l100.2-46.4c46.4-21.5 76.2-68 76.2-119.2C376 194.8 317.2 136 244.6 136z"},child:[]}]})(i)}function Z2(i){return jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 512C86 512 0 426 0 320C0 228.8 130.2 57.7 166.6 11.7C172.6 4.2 181.5 0 191.1 0l1.8 0c9.6 0 18.5 4.2 24.5 11.7C253.8 57.7 384 228.8 384 320c0 106-86 192-192 192zM96 336c0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.9 50.1 112 112 112c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.2 0-80-35.8-80-80z"},child:[]}]})(i)}function J2(i){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 160 0 64 0 160c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-64-32 0c-17.7 0-32-14.3-32-32l0-64c-17.7 0-32-14.3-32-32s14.3-32 32-32l0-64c0-17.7 14.3-32 32-32l32 0 0-64zm448 0l0 64 32 0c17.7 0 32 14.3 32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 64c0 17.7-14.3 32-32 32l-32 0 0 64c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-160 0-64 0-160c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32zM416 224l0 64-192 0 0-64 192 0z"},child:[]}]})(i)}function eC(i){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM125.7 175.5c9.9-9.9 23.4-15.5 37.5-15.5c1.9 0 3.8 .1 5.6 .3L137.6 254c-9.3 28 1.7 58.8 26.8 74.5l86.2 53.9-25.4 88.8c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l28.7-100.4c5.9-20.6-2.6-42.6-20.7-53.9L238 299l30.9-82.4 5.1 12.3C289 264.7 323.9 288 362.7 288l21.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-21.3 0c-12.9 0-24.6-7.8-29.5-19.7l-6.3-15c-14.6-35.1-44.1-61.9-80.5-73.1l-48.7-15c-11.1-3.4-22.7-5.2-34.4-5.2c-31 0-60.8 12.3-82.7 34.3L57.4 153.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l23.1-23.1zM91.2 352L32 352c-17.7 0-32 14.3-32 32s14.3 32 32 32l69.6 0c19 0 36.2-11.2 43.9-28.5L157 361.6l-9.5-6c-17.5-10.9-30.5-26.8-37.9-44.9L91.2 352z"},child:[]}]})(i)}function tC(i){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(i)}function nC(i){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M445.588 56l-.026 384.352c6.881 11.323 14 15.677 19.97 15.648 5.924-.028 12.967-4.434 19.714-15.418L466.82 244.27l-.215-2.391 1.475-1.906c21.174-27.169 28.573-74.108 22.533-113.81-3.02-19.852-9.342-37.82-18.195-50.522-7.424-10.652-16.28-17.447-26.828-19.641h-.002zm-372.375.004l-.016 67.127-12.56-.016V56.008H46.332l.002 67.11H33.756v-67.11h-14.57v103.228c-.001 11.417 6.23 17.748 16.04 21.662l4.06 1.622-.09 4.37c-2 84.57-3.977 169.139-5.962 253.708C40.074 451.79 47.1 456.028 52.95 456c5.85-.028 12.87-4.377 19.623-15.432-2.315-84.547-4.63-169.096-6.941-253.644l-.12-4.4 4.073-1.606c10.324-4.106 17.039-11.074 17.039-21.676V56.004h-13.41zM256 95A161 161 0 0 0 95 256a161 161 0 0 0 161 161 161 161 0 0 0 161-161A161 161 0 0 0 256 95z"},child:[]}]})(i)}function iC(i){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.188 40.375c-168.48 35.59-220.94 167.97-17 187.47-13.147 35.014-21.172 74.948-22.22 114.218-35.694 33.01-59.593 66.343-59.593 66.343l47.72 47.72-39.345 26.218h113.28c-73.368-73.383-21.278-104.5 65.626-104.5 88.096 0 134.175 35.905 65.594 104.5h114.5l-40.563-26.22 47.72-47.718s-22.25-31.027-55.844-62.844c-.65-40.39-8.807-81.663-22.344-117.718 203.953-19.496 151.482-151.878-17-187.47-40.813 30.863 6.55 79.75 43.717 44.626 36.908 54.048 8.752 99.845-71.937 65.594-.02-.022-.042-.04-.063-.063-9.66 28.054-33.333 48.47-61.968 48.47-28.637 0-52.332-20.416-62-48.47l-.064.064C111.736 184.826 83.596 139.042 120.5 85c37.168 35.125 84.5-13.763 43.688-44.625zm90.28 24.063c-25.736 0-48 25.088-48 57.937 0 32.85 22.264 57.938 48 57.938 25.738 0 47.97-25.086 47.97-57.938 0-32.852-22.232-57.938-47.97-57.938z"},child:[]}]})(i)}const rC=()=>{};var j0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},sC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},r1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,x=g&63;p||(x=64,h||(w=64)),s.push(t[E],t[T],t[w],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(i1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):sC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||T==null)throw new aC;const w=l<<2|d>>4;if(s.push(w),g!==64){const x=d<<4&240|g>>2;if(s.push(x),T!==64){const k=g<<6&192|T;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class aC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oC=function(i){const e=i1(i);return r1.encodeByteArray(e,!0)},Uh=function(i){return oC(i).replace(/\./g,"")},s1=function(i){try{return r1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=()=>lC().__FIREBASE_DEFAULTS__,cC=()=>{if(typeof process>"u"||typeof j0>"u")return;const i=j0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&s1(i[1]);return e&&JSON.parse(e)},mf=()=>{try{return rC()||uC()||cC()||hC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},a1=i=>{var e,t;return(t=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},o1=i=>{const e=a1(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},l1=()=>{var i;return(i=mf())===null||i===void 0?void 0:i.config},u1=i=>{var e;return(e=mf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Uh(JSON.stringify(t)),Uh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function mC(){var i;const e=(i=mf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){const i=cn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function vC(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f1(){try{return typeof indexedDB=="object"}catch{return!1}}function d1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function _C(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="FirebaseError";class ti extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=EC,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xa.prototype.create)}}class xa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?TC(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ti(o,d,s)}}function TC(i,e){return i.replace(bC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bC=/\{\$([^}]+)}/g;function wC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Rr(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(z0(l)&&z0(h)){if(!Rr(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function z0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function AC(i,e){const t=new SC(i,e);return t.subscribe.bind(t)}class SC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");RC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=1e3,IC=2,NC=4*60*60*1e3,xC=.5;function B0(i,e=CC,t=IC){const s=e*Math.pow(t,i),o=Math.round(xC*s*(Math.random()-.5)*2);return Math.min(NC,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i){return i&&i._delegate?i._delegate:i}class ei{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new fC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MC(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function OC(i){return i===pa?void 0:i}function MC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const VC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},PC=Le.INFO,LC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},UC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=LC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pf{constructor(e){this.name=e,this._logLevel=PC,this._logHandler=UC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const jC=(i,e)=>e.some(t=>i instanceof t);let F0,q0;function zC(){return F0||(F0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BC(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m1=new WeakMap,bp=new WeakMap,p1=new WeakMap,Xm=new WeakMap,lg=new WeakMap;function FC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(ws(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&m1.set(t,i)}).catch(()=>{}),lg.set(e,i),e}function qC(i){if(bp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});bp.set(i,e)}let wp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return bp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||p1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ws(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function HC(i){wp=i(wp)}function GC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Wm(this),e,...t);return p1.set(s,e.sort?e.sort():[e]),ws(s)}:BC().includes(i)?function(...e){return i.apply(Wm(this),e),ws(m1.get(this))}:function(...e){return ws(i.apply(Wm(this),e))}}function $C(i){return typeof i=="function"?GC(i):(i instanceof IDBTransaction&&qC(i),jC(i,zC())?new Proxy(i,wp):i)}function ws(i){if(i instanceof IDBRequest)return FC(i);if(Xm.has(i))return Xm.get(i);const e=$C(i);return e!==i&&(Xm.set(i,e),lg.set(e,i)),e}const Wm=i=>lg.get(i);function g1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),d=ws(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ws(h.result),p.oldVersion,p.newVersion,ws(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const KC=["get","getKey","getAll","getAllKeys","count"],QC=["put","add","delete","clear"],Zm=new Map;function H0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=QC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KC.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Zm.set(e,l),l}HC(i=>({...i,get:(e,t,s)=>H0(e,t)||i.get(e,t,s),has:(e,t)=>!!H0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function XC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ap="@firebase/app",G0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new pf("@firebase/app"),WC="@firebase/app-compat",ZC="@firebase/analytics-compat",JC="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",iI="@firebase/auth-compat",rI="@firebase/database",sI="@firebase/data-connect",aI="@firebase/database-compat",oI="@firebase/functions",lI="@firebase/functions-compat",uI="@firebase/installations",cI="@firebase/installations-compat",hI="@firebase/messaging",fI="@firebase/messaging-compat",dI="@firebase/performance",mI="@firebase/performance-compat",pI="@firebase/remote-config",gI="@firebase/remote-config-compat",yI="@firebase/storage",vI="@firebase/storage-compat",_I="@firebase/firestore",EI="@firebase/vertexai",TI="@firebase/firestore-compat",bI="firebase",wI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",AI={[Ap]:"fire-core",[WC]:"fire-core-compat",[JC]:"fire-analytics",[ZC]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[iI]:"fire-auth-compat",[rI]:"fire-rtdb",[sI]:"fire-data-connect",[aI]:"fire-rtdb-compat",[oI]:"fire-fn",[lI]:"fire-fn-compat",[uI]:"fire-iid",[cI]:"fire-iid-compat",[hI]:"fire-fcm",[fI]:"fire-fcm-compat",[dI]:"fire-perf",[mI]:"fire-perf-compat",[pI]:"fire-rc",[gI]:"fire-rc-compat",[yI]:"fire-gcs",[vI]:"fire-gcs-compat",[_I]:"fire-fst",[TI]:"fire-fst-compat",[EI]:"fire-vertex","fire-js":"fire-js",[bI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,SI=new Map,Rp=new Map;function $0(i,e){try{i.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function mi(i){const e=i.name;if(Rp.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,i);for(const t of jh.values())$0(t,i);for(const t of SI.values())$0(t,i);return!0}function Vs(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},As=new xa("app","Firebase",RI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw As.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=wI;function y1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw As.create("bad-app-name",{appName:String(o)});if(t||(t=l1()),!t)throw As.create("no-options");const l=jh.get(o);if(l){if(Rr(t,l.options)&&Rr(s,l.config))return l;throw As.create("duplicate-app",{appName:o})}const h=new kC(o);for(const p of Rp.values())h.addComponent(p);const d=new CI(t,s,h);return jh.set(o,d),d}function gf(i=Sp){const e=jh.get(i);if(!e&&i===Sp&&l1())return y1();if(!e)throw As.create("no-app",{appName:i});return e}function An(i,e,t){var s;let o=(s=AI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(d.join(" "));return}mi(new ei(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebase-heartbeat-database",NI=1,Au="firebase-heartbeat-store";let Jm=null;function v1(){return Jm||(Jm=g1(II,NI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(i=>{throw As.create("idb-open",{originalErrorMessage:i.message})})),Jm}async function xI(i){try{const t=(await v1()).transaction(Au),s=await t.objectStore(Au).get(_1(i));return await t.done,s}catch(e){if(e instanceof ti)Cr.warn(e.message);else{const t=As.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(t.message)}}}async function K0(i,e){try{const s=(await v1()).transaction(Au,"readwrite");await s.objectStore(Au).put(e,_1(i)),await s.done}catch(t){if(t instanceof ti)Cr.warn(t.message);else{const s=As.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(s.message)}}}function _1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1024,OI=30;class MI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>OI){const h=PI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q0(),{heartbeatsToSend:s,unsentEntries:o}=kI(this._heartbeatsCache.heartbeats),l=Uh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Cr.warn(t),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function kI(i,e=DI){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Y0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Y0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f1()?d1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Y0(i){return Uh(JSON.stringify({version:2,heartbeats:i})).length}function PI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(i){mi(new ei("platform-logger",e=>new YC(e),"PRIVATE")),mi(new ei("heartbeat",e=>new MI(e),"PRIVATE")),An(Ap,G0,i),An(Ap,G0,"esm2017"),An("fire-js","")}LI("");var UI="firebase",jI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(UI,jI,"app");function ug(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function E1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zI=E1,T1=new xa("auth","Firebase",E1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new pf("@firebase/auth");function BI(i,...e){zh.logLevel<=Le.WARN&&zh.warn(`Auth (${Da}): ${i}`,...e)}function Sh(i,...e){zh.logLevel<=Le.ERROR&&zh.error(`Auth (${Da}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i,...e){throw hg(i,...e)}function fi(i,...e){return hg(i,...e)}function cg(i,e,t){const s=Object.assign(Object.assign({},zI()),{[e]:t});return new xa("auth","Firebase",s).create(e,{appName:i.name})}function ba(i){return cg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FI(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&zi(i,"argument-error"),cg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return T1.create(i,...e)}function Ae(i,e,...t){if(!i)throw hg(e,...t)}function _r(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Sh(e),new Error(e)}function Ir(i,e){i||_r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function qI(){return X0()==="http:"||X0()==="https:"}function X0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qI()||h1()||"connection"in navigator)?navigator.onLine:!0}function GI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=dC()||gC()}get(){return HI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(i,e){Ir(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QI=new Lu(3e4,6e4);function dg(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Qo(i,e,t,s,o={}){return w1(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=Pu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},l);return pC()||(g.referrerPolicy="no-referrer"),b1.fetch()(await A1(i,i.config.apiHost,t,d),g)})}async function w1(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},$I),e);try{const o=new XI(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw mh(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw mh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw mh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cg(i,E,g);zi(i,E)}}catch(o){if(o instanceof ti)throw o;zi(i,"network-request-failed",{message:String(o)})}}async function YI(i,e,t,s,o={}){const l=await Qo(i,e,t,s,o);return"mfaPendingCredential"in l&&zi(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function A1(i,e,t,s){const o=`${e}${t}?${s}`,l=i,h=l.config.emulator?fg(i.config,o):`${i.config.apiScheme}://${o}`;return KI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(fi(this.auth,"network-request-failed")),QI.get())})}}function mh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=fi(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(i,e){return Qo(i,"POST","/v1/accounts:delete",e)}async function Bh(i,e){return Qo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZI(i,e=!1){const t=bt(i),s=await t.getIdToken(e),o=mg(s);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:yu(ep(o.auth_time)),issuedAtTime:yu(ep(o.iat)),expirationTime:yu(ep(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ep(i){return Number(i)*1e3}function mg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=s1(t);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function W0(i){const e=mg(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ti&&JI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function JI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Su(i,Bh(t,{idToken:s}));Ae(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?S1(l.providerUserInfo):[],d=n4(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Ip(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,T)}async function t4(i){const e=bt(i);await Fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n4(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function S1(i){return i.map(e=>{var{providerId:t}=e,s=ug(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(i,e){const t=await w1(i,{},async()=>{const s=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=await A1(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",b1.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function r4(i,e){return Qo(i,"POST","/v2/accounts:revokeToken",dg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=W0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await i4(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Do;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ae(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=ug(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ip(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZI(this,e)}reload(){return t4(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(ba(this.auth));const e=await this.getIdToken();return await Su(this,WI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,E;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,x=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,k=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:re,isAnonymous:te,providerData:se,stsTokenManager:M}=t;Ae(Q&&M,e,"internal-error");const I=Do.fromJSON(this.name,M);Ae(typeof Q=="string",e,"internal-error"),ys(T,e.name),ys(w,e.name),Ae(typeof re=="boolean",e,"internal-error"),Ae(typeof te=="boolean",e,"internal-error"),ys(x,e.name),ys(k,e.name),ys($,e.name),ys(j,e.name),ys(H,e.name),ys(ee,e.name);const R=new ci({uid:Q,auth:e,email:w,emailVerified:re,displayName:T,isAnonymous:te,photoURL:k,phoneNumber:x,tenantId:$,stsTokenManager:I,createdAt:H,lastLoginAt:ee});return se&&Array.isArray(se)&&(R.providerData=se.map(D=>Object.assign({},D))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new Do;o.updateFromServerResponse(t);const l=new ci({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Fh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?S1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new Do;d.updateFromIdToken(s);const p=new ci({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function Er(i){Ir(i instanceof Function,"Expected a class definition");let e=Z0.get(i);return e?(Ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Z0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}R1.type="NONE";const J0=R1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i,e,t){return`firebase:${i}:${e}:${t}`}class Oo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Rh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Rh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bh(this.auth,{idToken:e}).catch(()=>{});return t?ci._fromGetAccountInfoResponse(this.auth,t,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Oo(Er(J0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Er(J0);const h=Rh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await Bh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ci._fromGetAccountInfoResponse(e,w,E)}else T=ci._fromJSON(e,E);g!==l&&(d=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Oo(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new Oo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O1(e))return"Blackberry";if(M1(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||N1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function C1(i=cn()){return/firefox\//i.test(i)}function I1(i=cn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N1(i=cn()){return/crios\//i.test(i)}function x1(i=cn()){return/iemobile/i.test(i)}function D1(i=cn()){return/android/i.test(i)}function O1(i=cn()){return/blackberry/i.test(i)}function M1(i=cn()){return/webos/i.test(i)}function pg(i=cn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function s4(i=cn()){var e;return pg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a4(){return yC()&&document.documentMode===10}function k1(i=cn()){return pg(i)||D1(i)||M1(i)||O1(i)||/windows phone/i.test(i)||x1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(i,e=[]){let t;switch(i){case"Browser":t=eE(cn());break;case"Worker":t=`${eE(cn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Da}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(i,e={}){return Qo(i,"GET","/v2/passwordPolicy",dg(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=6;class c4{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:u4,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new o4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bh(this,{idToken:e}),s=await ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Jn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(ba(this));const t=e?bt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l4(this),t=new c4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await r4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function yf(i){return bt(i)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AC(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f4(i){gg=i}function d4(i){return gg.loadJS(i)}function m4(){return gg.gapiScript}function p4(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(i,e){const t=Vs(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Rr(l,e??{}))return o;zi(o,"already-initialized")}return t.initialize({options:e})}function y4(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Er);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function v4(i,e,t){const s=yf(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=P1(e),{host:h,port:d}=_4(e),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Rr(g,s.config.emulator)&&Rr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,E4()}function P1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function _4(i){const e=P1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:nE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:nE(h)}}}function nE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function E4(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(i,e){return YI(i,"POST","/v1/accounts:signInWithIdp",dg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="http://localhost";class Aa extends L1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=ug(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Aa(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Mo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Mo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mo(e,t)}buildRequest(){const e={requestUri:T4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends yg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Uu{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Aa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return vr.credential(t,s)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Uu{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Uu{constructor(){super("twitter.com")}static credential(e,t){return Aa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ts.credential(t,s)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await ci._fromIdTokenResponse(e,s,o),h=iE(s);return new Vo({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=iE(s);return new Vo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function iE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends ti{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new qh(e,t,s,o)}}function U1(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(i,l,e,s):l})}async function b4(i,e,t=!1){const s=await Su(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Vo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(i,e,t=!1){const{auth:s}=i;if(Jn(s.app))return Promise.reject(ba(s));const o="reauthenticate";try{const l=await Su(i,U1(s,o,e,i),t);Ae(l.idToken,s,"internal-error");const h=mg(l.idToken);Ae(h,s,"internal-error");const{sub:d}=h;return Ae(i.uid===d,s,"user-mismatch"),Vo._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&zi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(i,e,t=!1){if(Jn(i.app))return Promise.reject(ba(i));const s="signIn",o=await U1(i,s,e),l=await Vo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(i,e){return bt(i).setPersistence(e)}function R4(i,e,t,s){return bt(i).onIdTokenChanged(e,t,s)}function C4(i,e,t){return bt(i).beforeAuthStateChanged(e,t)}function I4(i,e,t,s){return bt(i).onAuthStateChanged(e,t,s)}function N4(i){return bt(i).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=1e3,D4=10;class z1 extends j1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);a4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,D4):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},x4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}z1.type="LOCAL";const B1=z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends j1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}F1.type="SESSION";const q1=F1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new vf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await O4(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=vg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function k4(i){Pi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function V4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P4(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function L4(){return H1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firebaseLocalStorageDb",U4=1,Gh="firebaseLocalStorage",$1="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _f(i,e){return i.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function j4(){const i=indexedDB.deleteDatabase(G1);return new ju(i).toPromise()}function Np(){const i=indexedDB.open(G1,U4);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Gh,{keyPath:$1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Gh)?e(s):(s.close(),await j4(),e(await Np()))})})}async function rE(i,e,t){const s=_f(i,!0).put({[$1]:e,value:t});return new ju(s).toPromise()}async function z4(i,e){const t=_f(i,!1).get(e),s=await new ju(t).toPromise();return s===void 0?null:s.value}function sE(i,e){const t=_f(i,!0).delete(e);return new ju(t).toPromise()}const B4=800,F4=3;class K1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>F4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(L4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await V4(),!this.activeServiceWorker)return;this.sender=new M4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await rE(e,Hh,"1"),await sE(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>rE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>z4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=_f(o,!1).getAll();return new ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K1.type="LOCAL";const q4=K1;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(i,e){return e?Er(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends L1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function H4(i){return A4(i.auth,new _g(i),i.bypassAuthState)}function G4(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),w4(t,new _g(i),i.bypassAuthState)}async function $4(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),b4(t,new _g(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H4;case"linkViaPopup":case"linkViaRedirect":return $4;case"reauthViaPopup":case"reauthViaRedirect":return G4;default:zi(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new Lu(2e3,1e4);async function Q4(i,e,t){if(Jn(i.app))return Promise.reject(fi(i,"operation-not-supported-in-this-environment"));const s=yf(i);FI(i,e,yg);const o=Q1(s,t);return new _a(s,"signInViaPopup",e,o).executeNotNull()}class _a extends Y1{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,_a.currentPopupAction&&_a.currentPopupAction.cancel(),_a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,K4.get())};e()}}_a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="pendingRedirect",Ch=new Map;class X4 extends Y1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ch.get(this.auth._key());if(!e){try{const s=await W4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ch.set(this.auth._key(),e)}return this.bypassAuthState||Ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W4(i,e){const t=eN(e),s=J4(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function Z4(i,e){Ch.set(i._key(),e)}function J4(i){return Er(i._redirectPersistence)}function eN(i){return Rh(Y4,i.config.apiKey,i.name)}async function tN(i,e,t=!1){if(Jn(i.app))return Promise.reject(ba(i));const s=yf(i),o=Q1(s,e),h=await new X4(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=10*60*1e3;class iN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!X1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(fi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nN&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(e))}saveEventToCache(e){this.cachedEventUids.add(aE(e)),this.lastProcessedEventTime=Date.now()}}function aE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function X1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(i,e={}){return Qo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oN=/^https?/;async function lN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await sN(i);for(const t of e)try{if(uN(t))return}catch{}zi(i,"unauthorized-domain")}function uN(i){const e=Cp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!oN.test(t))return!1;if(aN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new Lu(3e4,6e4);function oE(){const i=Pi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function hN(i){return new Promise((e,t)=>{var s,o,l;function h(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),t(fi(i,"network-request-failed"))},timeout:cN.get()})}if(!((o=(s=Pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Pi().gapi)===null||l===void 0)&&l.load)h();else{const d=p4("iframefcb");return Pi()[d]=()=>{gapi.load?h():t(fi(i,"network-request-failed"))},d4(`${m4()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function fN(i){return Ih=Ih||hN(i),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new Lu(5e3,15e3),mN="__/auth/iframe",pN="emulator/auth/iframe",gN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vN(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?fg(e,pN):`https://${i.config.authDomain}/${mN}`,s={apiKey:e.apiKey,appName:i.name,v:Da},o=yN.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Pu(s).slice(1)}`}async function _N(i){const e=await fN(i),t=Pi().gapi;return Ae(t,i,"internal-error"),e.open({where:document.body,url:vN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gN,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=fi(i,"network-request-failed"),d=Pi().setTimeout(()=>{l(h)},dN.get());function p(){Pi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TN=500,bN=600,wN="_blank",AN="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SN(i,e,t,s=TN,o=bN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},EN),{width:s.toString(),height:o.toString(),top:l,left:h}),g=cn().toLowerCase();t&&(d=N1(g)?wN:t),C1(g)&&(e=e||AN,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[x,k])=>`${w}${x}=${k},`,"");if(s4(g)&&d!=="_self")return RN(e||"",d),new lE(null);const T=window.open(e||"",d,E);Ae(T,i,"popup-blocked");try{T.focus()}catch{}return new lE(T)}function RN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="__/auth/handler",IN="emulator/auth/handler",NN=encodeURIComponent("fac");async function uE(i,e,t,s,o,l){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Da,eventId:o};if(e instanceof yg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",wC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Uu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${NN}=${encodeURIComponent(p)}`:"";return`${xN(i)}?${Pu(d).slice(1)}${g}`}function xN({config:i}){return i.emulator?fg(i,IN):`https://${i.authDomain}/${CN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class DN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q1,this._completeRedirectFn=tN,this._overrideRedirectResult=Z4}async _openPopup(e,t,s,o){var l;Ir((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await uE(e,t,s,Cp(),o);return SN(e,h,vg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await uE(e,t,s,Cp(),o);return k4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ir(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await _N(e),s=new iN(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tp,{type:tp},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[tp];h!==void 0&&t(!!h),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return k1()||I1()||pg()}}const ON=DN;var cE="@firebase/auth",hE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VN(i){mi(new ei("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(i)},g=new h4(s,o,l,p);return y4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),mi(new ei("auth-internal",e=>{const t=yf(e.getProvider("auth").getImmediate());return(s=>new MN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(cE,hE,kN(i)),An(cE,hE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=5*60,LN=u1("authIdTokenMaxAge")||PN;let fE=null;const UN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>LN)return;const o=t==null?void 0:t.token;fE!==o&&(fE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jN(i=gf()){const e=Vs(i,"auth");if(e.isInitialized())return e.getImmediate();const t=g4(i,{popupRedirectResolver:ON,persistence:[q4,B1,q1]}),s=u1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=UN(l.toString());C4(t,h,()=>h(t.currentUser)),R4(t,d=>h(d))}}const o=a1("auth");return o&&v4(t,`http://${o}`),t}function zN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}f4({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=fi("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",zN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VN("Browser");var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,W1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function R(){}R.prototype=I.prototype,M.D=I.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(D,P,z){for(var O=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)O[nt-2]=arguments[nt];return I.prototype[P].apply(D,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,I,R){R||(R=0);var D=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)D[P]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(P=0;16>P;++P)D[P]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=M.g[0],R=M.g[1],P=M.g[2];var z=M.g[3],O=I+(z^R&(P^z))+D[0]+3614090360&4294967295;I=R+(O<<7&4294967295|O>>>25),O=z+(P^I&(R^P))+D[1]+3905402710&4294967295,z=I+(O<<12&4294967295|O>>>20),O=P+(R^z&(I^R))+D[2]+606105819&4294967295,P=z+(O<<17&4294967295|O>>>15),O=R+(I^P&(z^I))+D[3]+3250441966&4294967295,R=P+(O<<22&4294967295|O>>>10),O=I+(z^R&(P^z))+D[4]+4118548399&4294967295,I=R+(O<<7&4294967295|O>>>25),O=z+(P^I&(R^P))+D[5]+1200080426&4294967295,z=I+(O<<12&4294967295|O>>>20),O=P+(R^z&(I^R))+D[6]+2821735955&4294967295,P=z+(O<<17&4294967295|O>>>15),O=R+(I^P&(z^I))+D[7]+4249261313&4294967295,R=P+(O<<22&4294967295|O>>>10),O=I+(z^R&(P^z))+D[8]+1770035416&4294967295,I=R+(O<<7&4294967295|O>>>25),O=z+(P^I&(R^P))+D[9]+2336552879&4294967295,z=I+(O<<12&4294967295|O>>>20),O=P+(R^z&(I^R))+D[10]+4294925233&4294967295,P=z+(O<<17&4294967295|O>>>15),O=R+(I^P&(z^I))+D[11]+2304563134&4294967295,R=P+(O<<22&4294967295|O>>>10),O=I+(z^R&(P^z))+D[12]+1804603682&4294967295,I=R+(O<<7&4294967295|O>>>25),O=z+(P^I&(R^P))+D[13]+4254626195&4294967295,z=I+(O<<12&4294967295|O>>>20),O=P+(R^z&(I^R))+D[14]+2792965006&4294967295,P=z+(O<<17&4294967295|O>>>15),O=R+(I^P&(z^I))+D[15]+1236535329&4294967295,R=P+(O<<22&4294967295|O>>>10),O=I+(P^z&(R^P))+D[1]+4129170786&4294967295,I=R+(O<<5&4294967295|O>>>27),O=z+(R^P&(I^R))+D[6]+3225465664&4294967295,z=I+(O<<9&4294967295|O>>>23),O=P+(I^R&(z^I))+D[11]+643717713&4294967295,P=z+(O<<14&4294967295|O>>>18),O=R+(z^I&(P^z))+D[0]+3921069994&4294967295,R=P+(O<<20&4294967295|O>>>12),O=I+(P^z&(R^P))+D[5]+3593408605&4294967295,I=R+(O<<5&4294967295|O>>>27),O=z+(R^P&(I^R))+D[10]+38016083&4294967295,z=I+(O<<9&4294967295|O>>>23),O=P+(I^R&(z^I))+D[15]+3634488961&4294967295,P=z+(O<<14&4294967295|O>>>18),O=R+(z^I&(P^z))+D[4]+3889429448&4294967295,R=P+(O<<20&4294967295|O>>>12),O=I+(P^z&(R^P))+D[9]+568446438&4294967295,I=R+(O<<5&4294967295|O>>>27),O=z+(R^P&(I^R))+D[14]+3275163606&4294967295,z=I+(O<<9&4294967295|O>>>23),O=P+(I^R&(z^I))+D[3]+4107603335&4294967295,P=z+(O<<14&4294967295|O>>>18),O=R+(z^I&(P^z))+D[8]+1163531501&4294967295,R=P+(O<<20&4294967295|O>>>12),O=I+(P^z&(R^P))+D[13]+2850285829&4294967295,I=R+(O<<5&4294967295|O>>>27),O=z+(R^P&(I^R))+D[2]+4243563512&4294967295,z=I+(O<<9&4294967295|O>>>23),O=P+(I^R&(z^I))+D[7]+1735328473&4294967295,P=z+(O<<14&4294967295|O>>>18),O=R+(z^I&(P^z))+D[12]+2368359562&4294967295,R=P+(O<<20&4294967295|O>>>12),O=I+(R^P^z)+D[5]+4294588738&4294967295,I=R+(O<<4&4294967295|O>>>28),O=z+(I^R^P)+D[8]+2272392833&4294967295,z=I+(O<<11&4294967295|O>>>21),O=P+(z^I^R)+D[11]+1839030562&4294967295,P=z+(O<<16&4294967295|O>>>16),O=R+(P^z^I)+D[14]+4259657740&4294967295,R=P+(O<<23&4294967295|O>>>9),O=I+(R^P^z)+D[1]+2763975236&4294967295,I=R+(O<<4&4294967295|O>>>28),O=z+(I^R^P)+D[4]+1272893353&4294967295,z=I+(O<<11&4294967295|O>>>21),O=P+(z^I^R)+D[7]+4139469664&4294967295,P=z+(O<<16&4294967295|O>>>16),O=R+(P^z^I)+D[10]+3200236656&4294967295,R=P+(O<<23&4294967295|O>>>9),O=I+(R^P^z)+D[13]+681279174&4294967295,I=R+(O<<4&4294967295|O>>>28),O=z+(I^R^P)+D[0]+3936430074&4294967295,z=I+(O<<11&4294967295|O>>>21),O=P+(z^I^R)+D[3]+3572445317&4294967295,P=z+(O<<16&4294967295|O>>>16),O=R+(P^z^I)+D[6]+76029189&4294967295,R=P+(O<<23&4294967295|O>>>9),O=I+(R^P^z)+D[9]+3654602809&4294967295,I=R+(O<<4&4294967295|O>>>28),O=z+(I^R^P)+D[12]+3873151461&4294967295,z=I+(O<<11&4294967295|O>>>21),O=P+(z^I^R)+D[15]+530742520&4294967295,P=z+(O<<16&4294967295|O>>>16),O=R+(P^z^I)+D[2]+3299628645&4294967295,R=P+(O<<23&4294967295|O>>>9),O=I+(P^(R|~z))+D[0]+4096336452&4294967295,I=R+(O<<6&4294967295|O>>>26),O=z+(R^(I|~P))+D[7]+1126891415&4294967295,z=I+(O<<10&4294967295|O>>>22),O=P+(I^(z|~R))+D[14]+2878612391&4294967295,P=z+(O<<15&4294967295|O>>>17),O=R+(z^(P|~I))+D[5]+4237533241&4294967295,R=P+(O<<21&4294967295|O>>>11),O=I+(P^(R|~z))+D[12]+1700485571&4294967295,I=R+(O<<6&4294967295|O>>>26),O=z+(R^(I|~P))+D[3]+2399980690&4294967295,z=I+(O<<10&4294967295|O>>>22),O=P+(I^(z|~R))+D[10]+4293915773&4294967295,P=z+(O<<15&4294967295|O>>>17),O=R+(z^(P|~I))+D[1]+2240044497&4294967295,R=P+(O<<21&4294967295|O>>>11),O=I+(P^(R|~z))+D[8]+1873313359&4294967295,I=R+(O<<6&4294967295|O>>>26),O=z+(R^(I|~P))+D[15]+4264355552&4294967295,z=I+(O<<10&4294967295|O>>>22),O=P+(I^(z|~R))+D[6]+2734768916&4294967295,P=z+(O<<15&4294967295|O>>>17),O=R+(z^(P|~I))+D[13]+1309151649&4294967295,R=P+(O<<21&4294967295|O>>>11),O=I+(P^(R|~z))+D[4]+4149444226&4294967295,I=R+(O<<6&4294967295|O>>>26),O=z+(R^(I|~P))+D[11]+3174756917&4294967295,z=I+(O<<10&4294967295|O>>>22),O=P+(I^(z|~R))+D[2]+718787259&4294967295,P=z+(O<<15&4294967295|O>>>17),O=R+(z^(P|~I))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var R=I-this.blockSize,D=this.B,P=this.h,z=0;z<I;){if(P==0)for(;z<=R;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<I;)if(D[P++]=M.charCodeAt(z++),P==this.blockSize){o(this,D),P=0;break}}else for(;z<I;)if(D[P++]=M[z++],P==this.blockSize){o(this,D),P=0;break}}this.h=P,this.o+=I},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var R=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=R&255,R/=256;for(this.u(M),M=Array(16),I=R=0;4>I;++I)for(var D=0;32>D;D+=8)M[R++]=this.g[I]>>>D&255;return M};function l(M,I){var R=d;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=I(M)}function h(M,I){this.h=I;for(var R=[],D=!0,P=M.length-1;0<=P;P--){var z=M[P]|0;D&&z==I||(R[P]=z,D=!1)}this.g=R}var d={};function p(M){return-128<=M&&128>M?l(M,function(I){return new h([I|0],0>I?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return j(g(-M));for(var I=[],R=1,D=0;M>=R;D++)I[D]=M/R|0,R*=4294967296;return new h(I,0)}function E(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return j(E(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(I,8)),D=T,P=0;P<M.length;P+=8){var z=Math.min(8,M.length-P),O=parseInt(M.substring(P,P+z),I);8>z?(z=g(Math.pow(I,z)),D=D.j(z).add(g(O))):(D=D.j(R),D=D.add(g(O)))}return D}var T=p(0),w=p(1),x=p(16777216);i=h.prototype,i.m=function(){if($(this))return-j(this).m();for(var M=0,I=1,R=0;R<this.g.length;R++){var D=this.i(R);M+=(0<=D?D:4294967296+D)*I,I*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if($(this))return"-"+j(this).toString(M);for(var I=g(Math.pow(M,6)),R=this,D="";;){var P=re(R,I).g;R=H(R,P.j(I));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,k(R))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function $(M){return M.h==-1}i.l=function(M){return M=H(this,M),$(M)?-1:k(M)?0:1};function j(M){for(var I=M.g.length,R=[],D=0;D<I;D++)R[D]=~M.g[D];return new h(R,~M.h).add(w)}i.abs=function(){return $(this)?j(this):this},i.add=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0,P=0;P<=I;P++){var z=D+(this.i(P)&65535)+(M.i(P)&65535),O=(z>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);D=O>>>16,z&=65535,O&=65535,R[P]=O<<16|z}return new h(R,R[R.length-1]&-2147483648?-1:0)};function H(M,I){return M.add(j(I))}i.j=function(M){if(k(this)||k(M))return T;if($(this))return $(M)?j(this).j(j(M)):j(j(this).j(M));if($(M))return j(this.j(j(M)));if(0>this.l(x)&&0>M.l(x))return g(this.m()*M.m());for(var I=this.g.length+M.g.length,R=[],D=0;D<2*I;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<M.g.length;P++){var z=this.i(D)>>>16,O=this.i(D)&65535,nt=M.i(P)>>>16,Ze=M.i(P)&65535;R[2*D+2*P]+=O*Ze,ee(R,2*D+2*P),R[2*D+2*P+1]+=z*Ze,ee(R,2*D+2*P+1),R[2*D+2*P+1]+=O*nt,ee(R,2*D+2*P+1),R[2*D+2*P+2]+=z*nt,ee(R,2*D+2*P+2)}for(D=0;D<I;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=I;D<2*I;D++)R[D]=0;return new h(R,0)};function ee(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function Q(M,I){this.g=M,this.h=I}function re(M,I){if(k(I))throw Error("division by zero");if(k(M))return new Q(T,T);if($(M))return I=re(j(M),I),new Q(j(I.g),j(I.h));if($(I))return I=re(M,j(I)),new Q(j(I.g),I.h);if(30<M.g.length){if($(M)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var R=w,D=I;0>=D.l(M);)R=te(R),D=te(D);var P=se(R,1),z=se(D,1);for(D=se(D,2),R=se(R,2);!k(D);){var O=z.add(D);0>=O.l(M)&&(P=P.add(R),z=O),D=se(D,1),R=se(R,1)}return I=H(M,P.j(I)),new Q(P,I)}for(P=T;0<=M.l(I);){for(R=Math.max(1,Math.floor(M.m()/I.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=g(R),O=z.j(I);$(O)||0<O.l(M);)R-=D,z=g(R),O=z.j(I);k(z)&&(z=w),P=P.add(z),M=H(M,O)}return new Q(P,M)}i.A=function(M){return re(this,M).h},i.and=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)&M.i(D);return new h(R,this.h&M.h)},i.or=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)|M.i(D);return new h(R,this.h|M.h)},i.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),R=[],D=0;D<I;D++)R[D]=this.i(D)^M.i(D);return new h(R,this.h^M.h)};function te(M){for(var I=M.g.length+1,R=[],D=0;D<I;D++)R[D]=M.i(D)<<1|M.i(D-1)>>>31;return new h(R,M.h)}function se(M,I){var R=I>>5;I%=32;for(var D=M.g.length-R,P=[],z=0;z<D;z++)P[z]=0<I?M.i(z+R)>>>I|M.i(z+R+1)<<32-I:M.i(z+R);return new h(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,W1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Ss=h}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z1,fu,J1,Nh,xp,eb,tb,nb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in v))break e;v=v[F]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,A=!1,F={next:function(){if(!A&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,w.apply(null,arguments)}function x(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function k(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,F,K){for(var le=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)le[ze-2]=arguments[ze];return y.prototype[F].apply(A,le)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function j(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const F=c.length||0,K=A.length||0;c.length=F+K;for(let le=0;le<K;le++)c[F+le]=A[le]}else c.push(A)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var te=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function se(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function I(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(v in A)c[v]=A[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){d.setTimeout(()=>{throw c},0)}function O(){var c=Ve;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,v){const A=Ze.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ze=new H(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ce=!1,Ve=new nt,V=()=>{const c=d.Promise.resolve(void 0);ge=()=>{c.then(ne)}};var ne=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(v){z(v)}var y=Ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ce=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ee(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(te){e:{try{re(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}k(Ee,ue);var we={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ke(c,y,v,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=F,this.key=++De,this.da=this.fa=!1}function Oe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,y,v,A,F){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var le=yt(c,y,A,F);return-1<le?(y=c[le],v||(y.fa=!1)):(y=new Ke(y,this.src,K,!!A,F),y.fa=v,c.push(y)),y};function It(c,y){var v=y.type;if(v in c.g){var A=c.g[v],F=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=F)&&Array.prototype.splice.call(A,F,1),K&&(Oe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function yt(c,y,v,A){for(var F=0;F<c.length;++F){var K=c[F];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return F}return-1}var zt="closure_lm_"+(1e6*Math.random()|0),Me={};function nn(c,y,v,A,F){if(Array.isArray(y)){for(var K=0;K<y.length;K++)nn(c,y[K],v,A,F);return null}return v=Vr(v),c&&c[Je]?c.K(y,v,g(A)?!!A.capture:!1,F):vn(c,y,v,!1,A,F)}function vn(c,y,v,A,F,K){if(!y)throw Error("Invalid event type");var le=g(F)?!!F.capture:!!F,ze=Gi(c);if(ze||(c[zt]=ze=new lt(c)),v=ze.add(y,v,A,le,K),v.proxy)return v;if(A=ni(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)oe||(F=le),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(ii(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ni(){function c(v){return y.call(c.src,c.listener,v)}const y=Us;return c}function yi(c,y,v,A,F){if(Array.isArray(y))for(var K=0;K<y.length;K++)yi(c,y[K],v,A,F);else A=g(A)?!!A.capture:!!A,v=Vr(v),c&&c[Je]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=yt(K,v,A,F),-1<v&&(Oe(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Gi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yt(y,v,A,F)),(v=-1<c?y[c]:null)&&Rn(v))}function Rn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Je])It(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ii(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Gi(y))?(It(v,c),v.h==0&&(v.src=null,y[zt]=null)):Oe(c)}}}function ii(c){return c in Me?Me[c]:Me[c]="on"+c}function Us(c,y){if(c.da)c=!0;else{y=new Ee(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Rn(c),c=v.call(A,y)}return c}function Gi(c){return c=c[zt],c instanceof lt?c:null}var Nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vr(c){return typeof c=="function"?c:(c[Nt]||(c[Nt]=function(y){return c.handleEvent(y)}),c[Nt])}function _e(){he.call(this),this.i=new lt(this),this.M=this,this.F=null}k(_e,he),_e.prototype[Je]=!0,_e.prototype.removeEventListener=function(c,y,v,A){yi(this,c,y,v,A)};function et(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var F=y;y=new ue(A,c),D(y,F)}if(F=!0,v)for(var K=v.length-1;0<=K;K--){var le=y.g=v[K];F=_n(le,A,!0,y)&&F}if(le=y.g=c,F=_n(le,A,!0,y)&&F,F=_n(le,A,!1,y)&&F,v)for(K=0;K<v.length;K++)le=y.g=v[K],F=_n(le,A,!1,y)&&F}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Oe(v[A]);delete c.g[y],c.h--}}this.F=null},_e.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},_e.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function _n(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,K=0;K<y.length;++K){var le=y[K];if(le&&!le.da&&le.capture==v){var ze=le.listener,Dt=le.ha||le.src;le.fa&&It(c.i,le),F=ze.call(Dt,A)!==!1&&F}}return F&&!A.defaultPrevented}function $i(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Pn(c){c.g=$i(()=>{c.g=null,c.i&&(c.i=!1,Pn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class il extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(c){he.call(this),this.h=c,this.g={}}k(vi,he);var Pr=[];function rn(c){se(c.g,function(y,v){this.g.hasOwnProperty(v)&&Rn(y)},c),c.g={}}vi.prototype.N=function(){vi.aa.N.call(this),rn(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rl=d.JSON.stringify,_i=d.JSON.parse,hn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function sl(){}sl.prototype.h=null;function Qu(c){return c.h||(c.h=c.i())}function Yu(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Lr(){ue.call(this,"d")}k(Lr,ue);function ri(){ue.call(this,"c")}k(ri,ue);var Ln={},Ur=null;function Va(){return Ur=Ur||new _e}Ln.La="serverreachability";function al(c){ue.call(this,Ln.La,c)}k(al,ue);function jr(c){const y=Va();et(y,new al(y))}Ln.STAT_EVENT="statevent";function Pa(c,y){ue.call(this,Ln.STAT_EVENT,c),this.stat=y}k(Pa,ue);function vt(c){const y=Va();et(y,new Pa(y,c))}Ln.Ma="timingevent";function Xu(c,y){ue.call(this,Ln.Ma,c),this.size=y}k(Xu,ue);function zr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function Wu(c,y,v,A,F,K){c.info(function(){if(c.g)if(K)for(var le="",ze=K.split("&"),Dt=0;Dt<ze.length;Dt++){var Be=ze[Dt].split("=");if(1<Be.length){var qt=Be[0];Be=Be[1];var Ot=qt.split("_");le=2<=Ot.length&&Ot[1]=="type"?le+(qt+"="+Be+"&"):le+(qt+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+v+`
`+le})}function Zu(c,y,v,A,F,K,le){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+v+`
`+K+" "+le})}function Fr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bt(c,v)+(A?" "+A:"")})}function Ti(c,y){c.info(function(){return"TIMEOUT: "+y})}Br.prototype.info=function(){};function Bt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var K=F[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<F.length;le++)F[le]=""}}}}return rl(v)}catch{return y}}var xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},js;function La(){}k(La,sl),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},js=new La;function bi(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ol}function ol(){this.i=null,this.g="",this.h=!1}var qr={},zs={};function si(c,y,v){c.L=1,c.v=qs(dt(y)),c.m=v,c.P=!0,Qi(c,null)}function Qi(c,y){c.F=Date.now(),ut(c),c.A=dt(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Wi(v.i,"t",A),c.C=0,v=c.j.J,c.h=new ol,c.g=fc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new il(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Pr[0]=F.toString()),F=Pr);for(var K=0;K<F.length;K++){var le=nn(v,F[K],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),jr(),Wu(c.i,c.u,c.A,c.l,c.R,c.m)}bi.prototype.ca=function(c){c=c.target;const y=this.M;y&&Fn(c)==3?y.j():this.Y(c)},bi.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Fn(this.g);var y=this.g.Ba();const tr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||rc(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=tr?jr(3):jr(2)),Ua(this);var v=this.g.Z();this.X=v;t:if(Hr(this)){var A=rc(this.g);c="";var F=A.length,K=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),Cn(this);var le="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,Zu(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Dt=this.g;if((ze=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(ze)){var Be=ze;break t}}Be=null}if(v=Be)Fr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,In(this,v);else{this.o=!1,this.s=3,vt(12),En(this),Cn(this);break e}}if(this.P){v=!0;let Qt;for(;!this.J&&this.C<le.length;)if(Qt=Gr(this,le),Qt==zs){Ot==4&&(this.s=4,vt(14),v=!1),Fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==qr){this.s=4,vt(15),Fr(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else Fr(this.i,this.l,Qt,null),In(this,Qt);if(Hr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||le.length!=0||this.h.h||(this.s=1,vt(16),v=!1),this.o=this.o&&v,!v)Fr(this.i,this.l,le,"[Invalid Chunked Response]"),En(this),Cn(this);else if(0<le.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Xs(qt),qt.M=!0,vt(11))}}else Fr(this.i,this.l,le,null),In(this,le);Ot==4&&En(this),this.o&&!this.J&&(Ot==4?uc(this.j,this):(this.o=!1,ut(this)))}else Yf(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),En(this),Cn(this)}}}catch{}finally{}};function Hr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gr(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?zs:(v=Number(y.substring(v,A)),isNaN(v)?qr:(A+=1,A+v>y.length?zs:(y=y.slice(A,A+v),c.C=A+v,y)))}bi.prototype.cancel=function(){this.J=!0,En(this)};function ut(c){c.S=Date.now()+c.I,ll(c,c.I)}function ll(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zr(w(c.ba,c),y)}function Ua(c){c.B&&(d.clearTimeout(c.B),c.B=null)}bi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ti(this.i,this.A),this.L!=2&&(jr(),vt(17)),En(this),this.s=2,Cn(this)):ll(this,this.S-c)};function Cn(c){c.j.G==0||c.J||uc(c.j,c)}function En(c){Ua(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,rn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function In(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||$r(v.h,c))){if(!c.K&&$r(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Qa(v),$a(v);else break e;_l(v),vt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=zr(w(v.Za,v),6e3));if(1>=Ju(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else er(v,11)}else if((c.K||v.g==c)&&Qa(v),!ee(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let Be=F[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const qt=Be[3];qt!=null&&(v.la=qt,v.j.info("VER="+v.la));const Ot=Be[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const tr=Be[5];tr!=null&&typeof tr=="number"&&0<tr&&(A=1.5*tr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qt=c.g;if(Qt){const Ni=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var K=A.h;K.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Kr(K,K.h),K.h=null))}if(A.D){const Tl=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(A.ya=Tl,He(A.I,A.D,Tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var le=c;if(A.qa=hc(A,A.J?A.ia:null,A.W),le.K){Un(A.h,le);var ze=le,Dt=A.L;Dt&&(ze.I=Dt),ze.B&&(Ua(ze),ut(ze)),A.g=le}else oc(A);0<v.i.length&&Ka(v)}else Be[0]!="stop"&&Be[0]!="close"||er(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?er(v,7):yl(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}jr(4)}catch{}}var Hf=class{constructor(c,y){this.g=c,this.map=y}};function ul(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ju(c){return c.h?1:c.g?c.g.size:0}function $r(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Kr(c,y){c.g?c.g.add(y):c.h=y}function Un(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ul.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function ec(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Gf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Bs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Gf(c),A=ec(c),F=A.length,K=0;K<F;K++)y.call(void 0,A[K],v&&v[K],c)}var hl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),F=null;if(0<=A){var K=c[v].substring(0,A);F=c[v].substring(A+1)}else K=c[v];y(K,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Yi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Yi){this.h=c.h,Qr(this,c.j),this.o=c.o,this.g=c.g,Fs(this,c.s),this.l=c.l;var y=c.i,v=new wi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),za(this,v),this.m=c.m}else c&&(y=String(c).match(hl))?(this.h=!1,Qr(this,y[1]||"",!0),this.o=Yr(y[2]||""),this.g=Yr(y[3]||"",!0),Fs(this,y[4]),this.l=Yr(y[5]||"",!0),za(this,y[6]||"",!0),this.m=Yr(y[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Yi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(jn(y,fl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(jn(y,fl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(jn(v,v.charAt(0)=="/"?dl:tc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",jn(v,Qf)),c.join("")};function dt(c){return new Yi(c)}function Qr(c,y,v){c.j=v?Yr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Fs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function za(c,y,v){y instanceof wi?(c.i=y,ml(c.i,c.h)):(v||(y=jn(y,Kf)),c.i=new wi(y,c.h))}function He(c,y,v){c.i.set(y,v)}function qs(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Yr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,$f),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $f(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fl=/[#\/\?@]/g,tc=/[#\?:]/g,dl=/[#\?]/g,Kf=/[#\?@]/g,Qf=/#/g;function wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&ja(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=wi.prototype,i.add=function(c,y){zn(this),this.i=null,c=Zi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ba(c,y){zn(c),y=Zi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xi(c,y){return zn(c),y=Zi(c,y),c.g.has(y)}i.forEach=function(c,y){zn(this),this.g.forEach(function(v,A){v.forEach(function(F){c.call(y,F,A,this)},this)},this)},i.na=function(){zn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const F=c[A];for(let K=0;K<F.length;K++)v.push(y[A])}return v},i.V=function(c){zn(this);let y=[];if(typeof c=="string")Xi(this,c)&&(y=y.concat(this.g.get(Zi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return zn(this),this.i=null,c=Zi(this,c),Xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Wi(c,y,v){Ba(c,y),0<v.length&&(c.i=null,c.g.set(Zi(c,y),$(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const K=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var F=K;le[A]!==""&&(F+="="+encodeURIComponent(String(le[A]))),c.push(F)}}return this.i=c.join("&")};function Zi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ml(c,y){y&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(v,A){var F=A.toLowerCase();A!=F&&(Ba(this,A),Wi(this,F,v))},c)),c.j=y}function nc(c,y){const v=new Br;if(d.Image){const A=new Image;A.onload=x(Bn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=x(Bn,v,"TestLoadImage: error",!1,y,A),A.onabort=x(Bn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(Bn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Hs(c,y){const v=new Br,A=new AbortController,F=setTimeout(()=>{A.abort(),Bn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(F),K.ok?Bn(v,"TestPingServer: ok",!0,y):Bn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Bn(v,"TestPingServer: error",!1,y)})}function Bn(c,y,v,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(v)}catch{}}function Gs(){this.g=new hn}function Ai(c,y,v){const A=v||"";try{Bs(c,function(F,K){let le=F;g(F)&&(le=rl(F)),y.push(A+K+"="+encodeURIComponent(le))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function Xr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Xr,sl),Xr.prototype.g=function(){return new Ji(this.l,this.j)},Xr.prototype.i=function(c){return function(){return c}}({});function Ji(c,y){_e.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ji,_e),i=Ji.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Si(this):Ri(this),this.readyState==3&&pl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Si(this))},i.Qa=function(c){this.g&&(this.response=c,Si(this))},i.ga=function(){this.g&&Si(this)};function Si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gl(c){let y="";return se(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ft(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=gl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,y,v))}function Qe(c){_e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Qe,_e);var Fa=/^https?$/i,$s=["POST","PUT"];i=Qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():js.g(),this.v=this.o?Qu(this.o):Qu(js),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ic(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)v.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call($s,y,void 0))||A||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of v)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ic(this,K)}};function ic(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,qa(c),Ci(c)}function qa(c){c.A||(c.A=!0,et(c,"complete"),et(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,et(this,"complete"),et(this,"abort"),Ci(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},i.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Fn(c)!=4||c.Z()!=2)){if(c.u&&Fn(c)==4)$i(c.Ea,0,c);else if(et(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=le===0){var F=String(c.D).match(hl)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),A=!Fa.test(F?F.toLowerCase():"")}v=A}if(v)et(c,"complete"),et(c,"success");else{c.m=6;try{var K=2<Fn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",qa(c)}}finally{Ci(c)}}}}function Ci(c,y){if(c.g){Ks(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||et(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ks(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_i(y)}};function rc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yf(c){const y={};c=(c.g&&2<=Fn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ee(c[A]))continue;var v=P(c[A]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[F]||[];y[F]=K,K.push(v)}M(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ga(c){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,c),this.cb=Qs("retryDelaySeedMs",1e4,c),this.Wa=Qs("forwardChannelMaxRetries",2,c),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ul(c&&c.concurrentRequestLimit),this.Da=new Gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ga.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){vt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=hc(this,null,this.W),Ka(this)};function yl(c){if(sc(c),c.G==3){var y=c.U++,v=dt(c.I);if(He(v,"SID",c.K),He(v,"RID",y),He(v,"TYPE","terminate"),Ys(c,v),y=new bi(c,c.j,y),y.L=2,y.v=qs(dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=fc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ut(y)}cc(c)}function $a(c){c.g&&(Xs(c),c.g.cancel(),c.g=null)}function sc(c){$a(c),c.u&&(d.clearTimeout(c.u),c.u=null),Qa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ka(c){if(!cl(c.h)&&!c.s){c.s=!0;var y=c.Ga;ge||V(),ce||(ge(),ce=!0),Ve.add(y,c),c.B=0}}function Xf(c,y){return Ju(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zr(w(c.Ga,c,y),El(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new bi(this,this.j,c);let K=this.o;if(this.S&&(K?(K=I(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(F.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ac(this,F,y),v=dt(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),Ys(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(gl(K)))+"&"+y:this.m&&Ft(v,this.m,K)),Kr(this.h,F),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",y),He(v,"SID","null"),F.T=!0,si(F,v,null)):si(F,v,y),this.G=2}}else this.G==3&&(c?vl(this,c):this.i.length==0||cl(this.h)||vl(this))};function vl(c,y){var v;y?v=y.l:v=c.U++;const A=dt(c.I);He(A,"SID",c.K),He(A,"RID",v),He(A,"AID",c.T),Ys(c,A),c.m&&c.o&&Ft(A,c.m,c.o),v=new bi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ac(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kr(c.h,v),si(v,A,y)}function Ys(c,y){c.H&&se(c.H,function(v,A){He(y,A,v)}),c.l&&Bs({},function(v,A){He(y,A,v)})}function ac(c,y,v){v=Math.min(c.i.length,v);var A=c.l?w(c.l.Na,c.l,c):null;e:{var F=c.i;let K=-1;for(;;){const le=["count="+v];K==-1?0<v?(K=F[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let ze=!0;for(let Dt=0;Dt<v;Dt++){let Be=F[Dt].g;const qt=F[Dt].map;if(Be-=K,0>Be)K=Math.max(0,F[Dt].g-100),ze=!1;else try{Ai(qt,le,"req"+Be+"_")}catch{A&&A(qt)}}if(ze){A=le.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function oc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ge||V(),ce||(ge(),ce=!0),Ve.add(y,c),c.v=0}}function _l(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zr(w(c.Fa,c),El(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zr(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),$a(this),lc(this))};function Xs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function lc(c){c.g=new bi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),Ys(c,y),c.m&&c.o&&Ft(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=qs(dt(y)),v.m=null,v.P=!0,Qi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,$a(this),_l(this),vt(19))};function Qa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function uc(c,y){var v=null;if(c.g==y){Qa(c),Xs(c),c.g=null;var A=2}else if($r(c.h,y))v=y.D,Un(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=Va(),et(A,new Xu(A,v)),Ka(c)}else oc(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&Xf(c,y)||A==2&&_l(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),F){case 1:er(c,5);break;case 4:er(c,10);break;case 3:er(c,6);break;default:er(c,2)}}}function El(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function er(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),A=c.Xa;const F=!A;A=new Yi(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qr(A,"https"),qs(A),F?nc(A.toString(),v):Hs(A.toString(),v)}else vt(2);c.G=0,c.l&&c.l.sa(y),cc(c),sc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function cc(c){if(c.G=0,c.ka=[],c.l){const y=fn(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function hc(c,y,v){var A=v instanceof Yi?dt(v):new Yi(v);if(A.g!="")y&&(A.g=y+"."+A.g),Fs(A,A.s);else{var F=d.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var K=new Yi(null);A&&Qr(K,A),y&&(K.g=y),F&&Fs(K,F),v&&(K.l=v),A=K}return v=c.D,y=c.ya,v&&y&&He(A,v,y),He(A,"VER",c.la),Ys(c,A),A}function fc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new Xr({eb:v})):new Qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}i=dc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ya(){}Ya.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){_e.call(this),this.g=new Ga(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ii(this)}k(dn,_e),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){yl(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=rl(c),c=v);y.i.push(new Hf(y.Ya++,c)),y.G==3&&Ka(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,dn.aa.N.call(this)};function mc(c){Lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(mc,Lr);function pc(){ri.call(this),this.status=1}k(pc,ri);function Ii(c){this.g=c}k(Ii,dc),Ii.prototype.ua=function(){et(this.g,"a")},Ii.prototype.ta=function(c){et(this.g,new mc(c))},Ii.prototype.sa=function(c){et(this.g,new pc)},Ii.prototype.ra=function(){et(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,nb=function(){return new Ya},tb=function(){return Va()},eb=Ln,xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,Nh=xt,Ki.COMPLETE="complete",J1=Ki,Yu.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",_e.prototype.listen=_e.prototype.K,fu=Yu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Z1=Qe}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const mE="@firebase/firestore",pE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new pf("@firebase/firestore");function Ro(){return Sa.logLevel}function fe(i,...e){if(Sa.logLevel<=Le.DEBUG){const t=e.map(Eg);Sa.debug(`Firestore (${Yo}): ${i}`,...t)}}function Nr(i,...e){if(Sa.logLevel<=Le.ERROR){const t=e.map(Eg);Sa.error(`Firestore (${Yo}): ${i}`,...t)}}function Po(i,...e){if(Sa.logLevel<=Le.WARN){const t=e.map(Eg);Sa.warn(`Firestore (${Yo}): ${i}`,...t)}}function Eg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+i;throw Nr(e),new Error(e)}function Ye(i,e){i||be()}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class FN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qN{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new br;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new br,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new br)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string"),new ib(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new ln(e)}}class HN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class GN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new HN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $N{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new gE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new gE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=KN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function Dp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return xe(s,o);{const l=rb(),h=QN(l.encode(yE(i,t)),l.encode(yE(e,t)));return h!==0?h:xe(s,o)}}t+=s>65535?2:1}return xe(i.length,e.length)}function yE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function QN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return xe(i[t],e[t]);return xe(i.length,e.length)}function Lo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=-62135596800,_E=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*_E);return new Tt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vE)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_E}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-vE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Tt(0,0))}static max(){return new Se(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="__name__";class Vi{constructor(e,t,s){t===void 0?t=0:t>e.length&&be(),s===void 0?s=e.length-t:s>e.length-t&&be(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Vi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return xe(e.length,t.length)}static compareSegments(e,t){const s=Vi.isNumericId(e),o=Vi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(t)):Dp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class at extends Vi{construct(e,t,s){return new at(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new at(t)}static emptyPath(){return new at([])}}const YN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Vi{construct(e,t,s){return new Jt(e,t,s)}static isValidIdentifier(e){return YN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EE}static keyField(){return new Jt([EE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function XN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Tt(t+1,0):new Tt(t,s));return new Is(o,ve.empty(),e)}function WN(i){return new Is(i.readTime,i.key,Ru)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(Se.min(),ve.empty(),Ru)}static max(){return new Is(Se.max(),ve.empty(),Ru)}}function ZN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ex{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==JN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Z((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function tx(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ef.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=-1;function Tf(i){return i==null}function $h(i){return i===0&&1/i==-1/0}function nx(i){return typeof i=="number"&&Number.isInteger(i)&&!$h(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="";function ix(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=TE(e)),e=rx(i.get(t),e);return TE(e)}function rx(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case ab:t+="";break;default:t+=l}}return t}function TE(i){return i+ab+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ps(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ob(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Zt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new Pt(Jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new lb("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(i){if(Ye(!!i),typeof i=="string"){let e=0;const t=sx.exec(i);if(Ye(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xs(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="server_timestamp",cb="__type__",hb="__previous_value__",fb="__local_write_time__";function bg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[cb])===null||t===void 0?void 0:t.stringValue)===ub}function bf(i){const e=i.mapValue.fields[hb];return bg(e)?bf(e):e}function Cu(i){const e=Ns(i.mapValue.fields[fb].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,t,s,o,l,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Kh="(default)";class Iu{constructor(e,t){this.projectId=e,this.database=t||Kh}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="__type__",ox="__max__",yh={mapValue:{}},mb="__vector__",Qh="value";function Ds(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bg(i)?4:ux(i)?9007199254740991:lx(i)?10:11:be()}function Bi(i,e){if(i===e)return!0;const t=Ds(i);if(t!==Ds(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cu(i).isEqual(Cu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ns(o.timestampValue),d=Ns(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return xs(o.bytesValue).isEqual(xs(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Et(o.geoPointValue.latitude)===Et(l.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Et(o.integerValue)===Et(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Et(o.doubleValue),d=Et(l.doubleValue);return h===d?$h(h)===$h(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Lo(i.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(bE(h)!==bE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Bi(h[p],d[p])))return!1;return!0}(i,e);default:return be()}}function Nu(i,e){return(i.values||[]).find(t=>Bi(t,e))!==void 0}function Uo(i,e){if(i===e)return 0;const t=Ds(i),s=Ds(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(l,h){const d=Et(l.integerValue||l.doubleValue),p=Et(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return AE(i.timestampValue,e.timestampValue);case 4:return AE(Cu(i),Cu(e));case 5:return Dp(i.stringValue,e.stringValue);case 6:return function(l,h){const d=xs(l),p=xs(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=xe(d[g],p[g]);if(E!==0)return E}return xe(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const d=xe(Et(l.latitude),Et(h.latitude));return d!==0?d:xe(Et(l.longitude),Et(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return SE(i.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,E;const T=l.fields||{},w=h.fields||{},x=(d=T[Qh])===null||d===void 0?void 0:d.arrayValue,k=(p=w[Qh])===null||p===void 0?void 0:p.arrayValue,$=xe(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:SE(x,k)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===yh.mapValue&&h===yh.mapValue)return 0;if(l===yh.mapValue)return 1;if(h===yh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Dp(p[T],E[T]);if(w!==0)return w;const x=Uo(d[p[T]],g[E[T]]);if(x!==0)return x}return xe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function AE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const t=Ns(i),s=Ns(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function SE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Uo(t[o],s[o]);if(l)return l}return xe(t.length,s.length)}function jo(i){return Op(i)}function Op(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Ns(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return xs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Op(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Op(t.fields[h])}`;return o+"}"}(i.mapValue):be()}function xh(i){switch(Ds(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(i);return e?16+xh(e):16;case 5:return 2*i.stringValue.length;case 6:return xs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+xh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ps(s.fields,(l,h)=>{o+=l.length+xh(h)}),o}(i.mapValue);default:throw be()}}function RE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Mp(i){return!!i&&"integerValue"in i}function wg(i){return!!i&&"arrayValue"in i}function CE(i){return!!i&&"nullValue"in i}function IE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Dh(i){return!!i&&"mapValue"in i}function lx(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[db])===null||t===void 0?void 0:t.stringValue)===mb}function vu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ps(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=vu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ux(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ox}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(t)}setAll(e){let t=Jt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=vu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ps(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new wn(vu(this.value))}}function pb(i){const e=[];return Ps(i.fields,(t,s)=>{const o=new Jt([t]);if(Dh(s)){const l=pb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new un(e,0,Se.min(),Se.min(),Se.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new un(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new un(e,2,t,Se.min(),Se.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Se.min(),Se.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t){this.position=e,this.inclusive=t}}function NE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=Uo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function xE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Bi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t="asc"){this.field=e,this.dir=t}}function cx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{}class Ct extends gb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new fx(e,t,s):t==="array-contains"?new px(e,s):t==="in"?new gx(e,s):t==="not-in"?new yx(e,s):t==="array-contains-any"?new vx(e,s):new Ct(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new dx(e,s):new mx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Uo(t,this.value)):t!==null&&Ds(this.value)===Ds(t)&&this.matchesComparison(Uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends gb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new pi(e,t)}matches(e){return yb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function yb(i){return i.op==="and"}function vb(i){return hx(i)&&yb(i)}function hx(i){for(const e of i.filters)if(e instanceof pi)return!1;return!0}function kp(i){if(i instanceof Ct)return i.field.canonicalString()+i.op.toString()+jo(i.value);if(vb(i))return i.filters.map(e=>kp(e)).join(",");{const e=i.filters.map(t=>kp(t)).join(",");return`${i.op}(${e})`}}function _b(i,e){return i instanceof Ct?function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)}(i,e):i instanceof pi?function(s,o){return o instanceof pi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&_b(h,o.filters[d]),!0):!1}(i,e):void be()}function Eb(i){return i instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`}(i):i instanceof pi?function(t){return t.op.toString()+" {"+t.getFilters().map(Eb).join(" ,")+"}"}(i):"Filter"}class fx extends Ct{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class dx extends Ct{constructor(e,t){super(e,"in",t),this.keys=Tb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mx extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=Tb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class px extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&Nu(t.arrayValue,this.value)}}class gx extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nu(this.value.arrayValue,t)}}class yx extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Nu(this.value.arrayValue,t)}}class vx extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.le=null}}function DE(i,e=null,t=[],s=[],o=null,l=null,h=null){return new _x(i,e,t,s,o,l,h)}function Ag(i){const e=Ce(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>kp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>jo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>jo(s)).join(",")),e.le=t}return e.le}function Sg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!cx(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!_b(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!xE(i.startAt,e.startAt)&&xE(i.endAt,e.endAt)}function Vp(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Ex(i,e,t,s,o,l,h,d){return new zu(i,e,t,s,o,l,h,d)}function Rg(i){return new zu(i)}function OE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bb(i){return i.collectionGroup!==null}function _u(i){const e=Ce(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Pt(Jt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Xh(l,s))}),t.has(Jt.keyField().canonicalString())||e.he.push(new Xh(Jt.keyField(),s))}return e.he}function Li(i){const e=Ce(i);return e.Pe||(e.Pe=Tx(e,_u(i))),e.Pe}function Tx(i,e){if(i.limitType==="F")return DE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Xh(o.field,l)});const t=i.endAt?new Yh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Yh(i.startAt.position,i.startAt.inclusive):null;return DE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Pp(i,e){const t=i.filters.concat([e]);return new zu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Lp(i,e,t){return new zu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function wf(i,e){return Sg(Li(i),Li(e))&&i.limitType===e.limitType}function wb(i){return`${Ag(Li(i))}|lt:${i.limitType}`}function Co(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Eb(o)).join(", ")}]`),Tf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>jo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>jo(o)).join(",")),`Target(${s})`}(Li(i))}; limitType=${i.limitType})`}function Af(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of _u(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=NE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,_u(s),o)||s.endAt&&!function(h,d,p){const g=NE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,_u(s),o))}(i,e)}function bx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ab(i){return(e,t)=>{let s=!1;for(const o of _u(i)){const l=wx(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function wx(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Uo(p,g):be()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new ft(ve.comparator);function xr(){return Ax}const Sb=new ft(ve.comparator);function du(...i){let e=Sb;for(const t of i)e=e.insert(t.key,t);return e}function Rb(i){let e=Sb;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ea(){return Eu()}function Cb(){return Eu()}function Eu(){return new Oa(i=>i.toString(),(i,e)=>i.isEqual(e))}const Sx=new ft(ve.comparator),Rx=new Pt(ve.comparator);function Ue(...i){let e=Rx;for(const t of i)e=e.add(t);return e}const Cx=new Pt(xe);function Ix(){return Cx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function Ib(i){return{integerValue:""+i}}function Nb(i,e){return nx(e)?Ib(e):Cg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function Nx(i,e,t){return i instanceof xu?function(o,l){const h={fields:{[cb]:{stringValue:ub},[fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&bg(l)&&(l=bf(l)),l&&(h.fields[hb]=l),{mapValue:h}}(t,e):i instanceof zo?Db(i,e):i instanceof Du?Ob(i,e):function(o,l){const h=xb(o,l),d=ME(h)+ME(o.Ie);return Mp(h)&&Mp(o.Ie)?Ib(d):Cg(o.serializer,d)}(i,e)}function xx(i,e,t){return i instanceof zo?Db(i,e):i instanceof Du?Ob(i,e):t}function xb(i,e){return i instanceof Ou?function(s){return Mp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class xu extends Sf{}class zo extends Sf{constructor(e){super(),this.elements=e}}function Db(i,e){const t=Mb(e);for(const s of i.elements)t.some(o=>Bi(o,s))||t.push(s);return{arrayValue:{values:t}}}class Du extends Sf{constructor(e){super(),this.elements=e}}function Ob(i,e){let t=Mb(e);for(const s of i.elements)t=t.filter(o=>!Bi(o,s));return{arrayValue:{values:t}}}class Ou extends Sf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function ME(i){return Et(i.integerValue||i.doubleValue)}function Mb(i){return wg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t){this.field=e,this.transform=t}}function Dx(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof zo&&o instanceof zo||s instanceof Du&&o instanceof Du?Lo(s.elements,o.elements,Bi):s instanceof Ou&&o instanceof Ou?Bi(s.Ie,o.Ie):s instanceof xu&&o instanceof xu}(i.transform,e.transform)}class Ox{constructor(e,t){this.version=e,this.transformResults=t}}class Ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rf{}function kb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Pb(i.key,Ui.none()):new Bu(i.key,i.data,Ui.none());{const t=i.data,s=wn.empty();let o=new Pt(Jt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ls(i.key,s,new kn(o.toArray()),Ui.none())}}function Mx(i,e,t){i instanceof Bu?function(o,l,h){const d=o.value.clone(),p=VE(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Ls?function(o,l,h){if(!Oh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=VE(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Vb(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Tu(i,e,t,s){return i instanceof Bu?function(l,h,d,p){if(!Oh(l.precondition,h))return d;const g=l.value.clone(),E=PE(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ls?function(l,h,d,p){if(!Oh(l.precondition,h))return d;const g=PE(l.fieldTransforms,p,h),E=h.data;return E.setAll(Vb(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(l,h,d){return Oh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function kx(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=xb(s.transform,o||null);l!=null&&(t===null&&(t=wn.empty()),t.set(s.field,l))}return t||null}function kE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,(l,h)=>Dx(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Bu extends Rf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ls extends Rf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Vb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function VE(i,e,t){const s=new Map;Ye(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,xx(h,d,t[o]))}return s}function PE(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,Nx(l,h,e))}return s}class Pb extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Mx(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Cb();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=kb(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(t,s)=>kE(t,s))&&Lo(this.baseMutations,e.baseMutations,(t,s)=>kE(t,s))}}class Ng{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ye(e.mutations.length===s.length);let o=function(){return Sx}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Ng(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,qe;function jx(i){switch(i){case J.OK:return be();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be()}}function Lb(i){if(i===void 0)return Nr("GRPC error has no .code"),J.UNKNOWN;switch(i){case Rt.OK:return J.OK;case Rt.CANCELLED:return J.CANCELLED;case Rt.UNKNOWN:return J.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return J.INTERNAL;case Rt.UNAVAILABLE:return J.UNAVAILABLE;case Rt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Rt.NOT_FOUND:return J.NOT_FOUND;case Rt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Rt.ABORTED:return J.ABORTED;case Rt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Rt.DATA_LOSS:return J.DATA_LOSS;default:return be()}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Ss([4294967295,4294967295],0);function LE(i){const e=rb().encode(i),t=new W1;return t.update(e),new Uint8Array(t.digest())}function UE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ss([t,s],0),new Ss([o,l],0)]}class xg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new mu(`Invalid padding: ${t}`);if(s<0)throw new mu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new mu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ss.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Ss.fromNumber(s)));return o.compare(zx)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=LE(e),[s,o]=UE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new xg(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=LE(e),[s,o]=UE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Cf(Se.min(),o,new ft(xe),xr(),Ue())}}class Fu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Ub{constructor(e,t){this.targetId=e,this.ge=t}}class jb{constructor(e,t,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class jE{constructor(){this.pe=0,this.ye=zE(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),s=Ue();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:be()}}),new Fu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=zE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Bx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xr(),this.$e=vh(),this.Ue=vh(),this.Ke=new ft(xe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Vp(l))if(s===0){const h=new ve(l.path);this.ze(t,h,un.newNoDocument(h,Se.min()))}else Ye(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=xs(s).toUint8Array()}catch(p){if(p instanceof lb)return Po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new xg(h,o,l)}catch(p){return Po(p instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const d=this.Xe(h);if(d){if(l.current&&Vp(d.target)){const p=new ve(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,un.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=Ue();this.Ue.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new Cf(e,t,this.Ke,this.Qe,s);return this.Qe=xr(),this.$e=vh(),this.Ue=vh(),this.Ke=new ft(xe),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new jE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Pt(xe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Pt(xe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new jE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function vh(){return new ft(ve.comparator)}function zE(){return new ft(ve.comparator)}const Fx={asc:"ASCENDING",desc:"DESCENDING"},qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hx={and:"AND",or:"OR"};class Gx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(i,e){return i.useProto3Json||Tf(e)?e:{value:e}}function Wh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $x(i,e){return Wh(i,e.toTimestamp())}function ji(i){return Ye(!!i),Se.fromTimestamp(function(t){const s=Ns(t);return new Tt(s.seconds,s.nanos)}(i))}function Dg(i,e){return jp(i,e).canonicalString()}function jp(i,e){const t=function(o){return new at(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Bb(i){const e=at.fromString(i);return Ye($b(e)),e}function zp(i,e){return Dg(i.databaseId,e.path)}function np(i,e){const t=Bb(e);if(t.get(1)!==i.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(qb(t))}function Fb(i,e){return Dg(i.databaseId,e)}function Kx(i){const e=Bb(i);return e.length===4?at.emptyPath():qb(e)}function Bp(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qb(i){return Ye(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function BE(i,e,t){return{name:zp(i,e),fields:t.value.mapValue.fields}}function Qx(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string"),tn.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),tn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?J.UNKNOWN:Lb(g.code);return new de(E,g.message||"")}(h);t=new jb(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=np(i,s.document.name),l=ji(s.document.updateTime),h=s.document.createTime?ji(s.document.createTime):Se.min(),d=new wn({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(o,l,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Mh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=np(i,s.document),l=s.readTime?ji(s.readTime):Se.min(),h=un.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Mh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=np(i,s.document),l=s.removedTargetIds||[];t=new Mh([],l,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new Ux(o,l),d=s.targetId;t=new Ub(d,h)}}return t}function Yx(i,e){let t;if(e instanceof Bu)t={update:BE(i,e.key,e.value)};else if(e instanceof Pb)t={delete:zp(i,e.key)};else if(e instanceof Ls)t={update:BE(i,e.key,e.data),updateMask:rD(e.fieldMask)};else{if(!(e instanceof Vx))return be();t={verify:zp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof xu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Du)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ou)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw be()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:$x(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be()}(i,e.precondition)),t}function Xx(i,e){return i&&i.length>0?(Ye(e!==void 0),i.map(t=>function(o,l){let h=o.updateTime?ji(o.updateTime):ji(l);return h.isEqual(Se.min())&&(h=ji(l)),new Ox(h,o.transformResults||[])}(t,e))):[]}function Wx(i,e){return{documents:[Fb(i,e.path)]}}function Zx(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Fb(i,o);const l=function(g){if(g.length!==0)return Gb(pi.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:Io(w.field),direction:tD(w.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Up(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function Jx(i){let e=Kx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ye(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(T){const w=Hb(T);return w instanceof pi&&vb(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(w=>function(k){return new Xh(No(k.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,Tf(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(T){const w=!!T.before,x=T.values||[];return new Yh(x,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,x=T.values||[];return new Yh(x,w)}(t.endAt)),Ex(e,o,h,l,d,"F",p,g)}function eD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Hb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=No(t.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(t.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=No(t.unaryFilter.field);return Ct.create(h,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(t){return Ct.create(No(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return pi.create(t.compositeFilter.filters.map(s=>Hb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(i):be()}function tD(i){return Fx[i]}function nD(i){return qx[i]}function iD(i){return Hx[i]}function Io(i){return{fieldPath:i.canonicalString()}}function No(i){return Jt.fromServerFormat(i.fieldPath)}function Gb(i){return i instanceof Ct?function(t){if(t.op==="=="){if(IE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(CE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(IE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(CE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:nD(t.op),value:t.value}}}(i):i instanceof pi?function(t){const s=t.getFilters().map(o=>Gb(o));return s.length===1?s[0]:{compositeFilter:{op:iD(t.op),filters:s}}}(i):be()}function rD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $b(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,s,o,l=Se.min(),h=Se.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.Tt=e}}function aD(i){const e=Jx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.Tn=new lD}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Is.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class lD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Pt(at.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kb=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Kb,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Bo(0)}static Kn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="LruGarbageCollector",uD=1048576;function HE([i,e],[t,s]){const o=xe(i,t);return o===0?xe(e,s):o}class cD{constructor(e){this.Hn=e,this.buffer=new Pt(HE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();HE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(qE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wo(t)?fe(qE,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.er(3e5)})}}class fD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Ef.ae);const s=new cD(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(FE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),Ro()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function dD(i,e){return new fD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.changes=new Oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Tu(s.mutation,o,kn.empty(),Tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=Ea();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=du();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ea();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=xr();const h=Eu(),d=function(){return Eu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ls)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Tu(E.mutation,g,E.mutation.getFieldMask(),Tt.now())):h.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var T;return d.set(g,new pD(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Eu();let o=new ft((h,d)=>h-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||kn.empty();E=d.applyToLocalView(g,E),s.set(p,E);const T=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=Cb();E.forEach(w=>{if(!l.has(w)){const x=kb(t.get(w),s.get(w));x!==null&&T.set(w,x),l=l.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Z.resolve(Ea());let d=Ru,p=l;return h.next(g=>Z.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:d,changes:Rb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=du();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=du();return this.indexManager.getCollectionParents(e,l).next(d=>Z.forEach(d,p=>{const g=function(T,w){return new zu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,un.newInvalidDocument(E)))});let d=du();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&Tu(E.mutation,g,kn.empty(),Tt.now()),Af(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:aD(o.bundledQuery),readTime:ji(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.overlays=new ft(ve.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ea();return Z.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=Ea(),l=t.length+1,h=new ve(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ft((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=Ea(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=Ea(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Lx(t,s));let l=this.Rr.get(t);l===void 0&&(l=Ue(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Vr=new Pt(Kt.mr),this.gr=new Pt(Kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Kt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Kt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ve(new at([])),s=new Kt(t,e),o=new Kt(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new at([])),s=new Kt(t,e),o=new Kt(t,e+1);let l=Ue();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Kt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||xe(e.Cr,t.Cr)}static pr(e,t){return xe(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Pt(Kt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Px(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Kt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Tg:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);l.push(d)}),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Pt(xe);return t.forEach(o=>{const l=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],d=>{s=s.add(d.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const h=new Kt(new ve(l),0);let d=new Pt(xe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ye(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(t.mutations,o=>{const l=new Kt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Kt(t,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.kr=e,this.docs=function(){return new ft(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let s=xr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():un.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=xr();const h=t.path,d=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||ZN(WN(E),s)<=0||(o.has(E.key)||Af(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,t,s,o){be()}qr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new bD(this)}getSize(e){return Z.resolve(this.size)}}class bD extends mD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.persistence=e,this.Qr=new Oa(t=>Ag(t),Sg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Og,this.targetCount=0,this.Kr=Bo.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(l).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Ef(0),this.zr=!1,this.zr=!0,this.jr=new _D,this.referenceDelegate=e(this),this.Hr=new wD(this),this.indexManager=new oD,this.remoteDocumentCache=function(o){return new TD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new sD(t),this.Yr=new yD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new ED(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new AD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class AD extends ex{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.ti=new Og,this.ni=null}static ri(e){return new Mg(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Zh{constructor(e,t){this.persistence=e,this.oi=new Oa(s=>ix(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=dD(this,t)}static ri(e,t){return new Zh(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Se.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xh(e.data.value)),t}ar(e,t,s){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new kg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return vC()?8:tx(cn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new SD;return this._s(e,t,h).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Ro()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Ro()<=Le.DEBUG&&fe("QueryEngine","Query:",Co(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ro()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(t))):Z.resolve())}rs(e,t){if(OE(t))return Z.resolve(null);let s=Li(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Lp(t,null,"F"),s=Li(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ue(...l);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,Lp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return OE(t)||o.isEqual(Se.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?Z.resolve(null):(Ro()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(t)),this.hs(e,h,t,XN(o,Ru)).next(d=>d))})}cs(e,t){let s=new Pt(Ab(e));return t.forEach((o,l)=>{Af(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return Ro()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ns.getDocumentsMatchingQuery(e,t,Is.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="LocalStore",CD=3e8;class ID{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ft(xe),this.Is=new Oa(l=>Ag(l),Sg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function ND(i,e,t,s){return new ID(i,e,t,s)}async function Yb(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function xD(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,w=T.keys();let x=Z.resolve();return w.forEach(k=>{x=x.next(()=>E.getEntry(p,k)).next($=>{const j=g.docVersions.get(k);Ye(j!==null),$.version.compareTo(j)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Xb(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function DD(i,e){const t=Ce(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const w=o.get(T);if(!w)return;d.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,T)));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(T,x),function($,j,H){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=CD?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,x,E)&&d.push(t.Hr.updateTargetData(l,x))});let p=xr(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(OD(l,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Se.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return Z.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=o,l))}function OD(i,e,t){let s=Ue(),o=Ue();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=xr();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):fe(Vg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function MD(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Tg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kD(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,Z.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new bs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Fp(i,e,t){const s=Ce(i),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Wo(h))throw h;fe(Vg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function GE(i,e,t){const s=Ce(i);let o=Se.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=Ce(p),w=T.Is.get(E);return w!==void 0?Z.resolve(T.Ts.get(w)):T.Hr.getTargetData(g,E)}(s,h,Li(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?l:Ue())).next(d=>(VD(s,bx(e),d),{documents:d,gs:l})))}function VD(i,e,t){let s=i.Es.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(e,s)}class $E{constructor(){this.activeTargetIds=Ix()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PD{constructor(){this.ho=new $E,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new $E,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="ConnectivityMonitor";class QE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(KE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(KE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function qp(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",UD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,l){const h=qp(),d=this.bo(e,t.toUriEncodedString());fe(ip,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,s).then(g=>(fe(ip,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Po(ip,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,l,h){return this.So(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const s=UD[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class BD extends jD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=qp();return new Promise((h,d)=>{const p=new Z1;p.setWithCredentials(!0),p.listenOnce(J1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Nh.NO_ERROR:const E=p.getResponseJson();fe(on,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Nh.TIMEOUT:fe(on,`RPC '${e}' ${l} timed out`),d(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const T=p.getStatus();if(fe(on,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const k=function(j){const H=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(H)>=0?H:J.UNKNOWN}(x.status);d(new de(k,x.message))}else d(new de(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(J.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{fe(on,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);fe(on,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=qp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=nb(),d=tb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");fe(on,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);let w=!1,x=!1;const k=new zD({Fo:j=>{x?fe(on,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(fe(on,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),fe(on,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Mo:()=>T.close()}),$=(j,H,ee)=>{j.listen(H,Q=>{try{ee(Q)}catch(re){setTimeout(()=>{throw re},0)}})};return $(T,fu.EventType.OPEN,()=>{x||(fe(on,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),$(T,fu.EventType.CLOSE,()=>{x||(x=!0,fe(on,`RPC '${e}' stream ${o} transport closed`),k.Uo())}),$(T,fu.EventType.ERROR,j=>{x||(x=!0,Po(on,`RPC '${e}' stream ${o} transport errored:`,j),k.Uo(new de(J.UNAVAILABLE,"The operation could not be completed")))}),$(T,fu.EventType.MESSAGE,j=>{var H;if(!x){const ee=j.data[0];Ye(!!ee);const Q=ee,re=(Q==null?void 0:Q.error)||((H=Q[0])===null||H===void 0?void 0:H.error);if(re){fe(on,`RPC '${e}' stream ${o} received error:`,re);const te=re.status;let se=function(R){const D=Rt[R];if(D!==void 0)return Lb(D)}(te),M=re.message;se===void 0&&(se=J.INTERNAL,M="Unknown error status: "+te+" with message "+re.message),x=!0,k.Uo(new de(se,M)),T.close()}else fe(on,`RPC '${e}' stream ${o} received:`,ee),k.Ko(ee)}}),$(d,eb.STAT_EVENT,j=>{j.stat===xp.PROXY?fe(on,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===xp.NOPROXY&&fe(on,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(i){return new Gx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="PersistentStream";class Zb{constructor(e,t,s,o,l,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Wb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(YE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(YE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FD extends Zb{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Qx(this.serializer,e),s=function(l){if(!("targetChange"in l))return Se.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?ji(h.readTime):Se.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Bp(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=Vp(p)?{documents:Wx(l,p)}:{query:Zx(l,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=zb(l,h.resumeToken);const g=Up(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){d.readTime=Wh(l,h.snapshotVersion.toTimestamp());const g=Up(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=eD(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Bp(this.serializer),t.removeTarget=e,this.I_(t)}}class qD extends Zb{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Xx(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Bp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Yx(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{}class GD extends HD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,jp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(J.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,jp(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $D{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Nr(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class KD{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{Ma(this)&&(fe(Ra,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await qu(g),g.j_.set("Unknown"),g.W_.delete(4),await Nf(g)}(this))})}),this.j_=new $D(s,o)}}async function Nf(i){if(Ma(i))for(const e of i.G_)await e(!0)}async function qu(i){for(const e of i.G_)await e(!1)}function Jb(i,e){const t=Ce(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),jg(t)?Ug(t):Zo(t).c_()&&Lg(t,e))}function Pg(i,e){const t=Ce(i),s=Zo(t);t.K_.delete(e),s.c_()&&ew(t,e),t.K_.size===0&&(s.c_()?s.P_():Ma(t)&&t.j_.set("Unknown"))}function Lg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zo(i).y_(e)}function ew(i,e){i.H_.Ne(e),Zo(i).w_(e)}function Ug(i){i.H_=new Bx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Zo(i).start(),i.j_.B_()}function jg(i){return Ma(i)&&!Zo(i).u_()&&i.K_.size>0}function Ma(i){return Ce(i).W_.size===0}function tw(i){i.H_=void 0}async function QD(i){i.j_.set("Online")}async function YD(i){i.K_.forEach((e,t)=>{Lg(i,e)})}async function XD(i,e){tw(i),jg(i)?(i.j_.q_(e),Ug(i)):i.j_.set("Unknown")}async function WD(i,e,t){if(i.j_.set("Online"),e instanceof jb&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){fe(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jh(i,s)}else if(e instanceof Mh?i.H_.We(e):e instanceof Ub?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Se.min()))try{const s=await Xb(i.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.K_.get(g);E&&l.K_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=l.K_.get(p);if(!E)return;l.K_.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),ew(l,p);const T=new bs(E.target,p,g,E.sequenceNumber);Lg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){fe(Ra,"Failed to raise snapshot:",s),await Jh(i,s)}}async function Jh(i,e,t){if(!Wo(e))throw e;i.W_.add(1),await qu(i),i.j_.set("Offline"),t||(t=()=>Xb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(Ra,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await Nf(i)})}function nw(i,e){return e().catch(t=>Jh(i,t,e))}async function xf(i){const e=Ce(i),t=Os(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Tg;for(;ZD(e);)try{const o=await MD(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,JD(e,o)}catch(o){await Jh(e,o)}iw(e)&&rw(e)}function ZD(i){return Ma(i)&&i.U_.length<10}function JD(i,e){i.U_.push(e);const t=Os(i);t.c_()&&t.S_&&t.b_(e.mutations)}function iw(i){return Ma(i)&&!Os(i).u_()&&i.U_.length>0}function rw(i){Os(i).start()}async function eO(i){Os(i).C_()}async function tO(i){const e=Os(i);for(const t of i.U_)e.b_(t.mutations)}async function nO(i,e,t){const s=i.U_.shift(),o=Ng.from(s,e,t);await nw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await xf(i)}async function iO(i,e){e&&Os(i).S_&&await async function(s,o){if(function(h){return jx(h)&&h!==J.ABORTED}(o.code)){const l=s.U_.shift();Os(s).h_(),await nw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await xf(s)}}(i,e),iw(i)&&rw(i)}async function XE(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),fe(Ra,"RemoteStore received new credentials");const s=Ma(t);t.W_.add(3),await qu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Nf(t)}async function rO(i,e){const t=Ce(i);e?(t.W_.delete(2),await Nf(t)):e||(t.W_.add(2),await qu(t),t.j_.set("Unknown"))}function Zo(i){return i.J_||(i.J_=function(t,s,o){const l=Ce(t);return l.M_(),new FD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:QD.bind(null,i),No:YD.bind(null,i),Lo:XD.bind(null,i),p_:WD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),jg(i)?Ug(i):i.j_.set("Unknown")):(await i.J_.stop(),tw(i))})),i.J_}function Os(i){return i.Y_||(i.Y_=function(t,s,o){const l=Ce(t);return l.M_(),new qD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:eO.bind(null,i),Lo:iO.bind(null,i),D_:tO.bind(null,i),v_:nO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await xf(i)):(await i.Y_.stop(),i.U_.length>0&&(fe(Ra,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new zg(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(i,e){if(Nr("AsyncQueue",`${e}: ${i}`),Wo(i))return new de(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=du(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.Z_=new ft(ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Fo{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Fo(e,t,ko.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class aO{constructor(){this.queries=ZE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ce(t),l=o.queries;o.queries=ZE(),l.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function ZE(){return new Oa(i=>wb(i),wf)}async function sw(i,e){const t=Ce(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new sO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Bg(h,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Fg(t)}async function aw(i,e){const t=Ce(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function oO(i,e){const t=Ce(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&Fg(t)}function lO(i,e,t){const s=Ce(i),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function Fg(i){i.ia.forEach(e=>{e.next()})}var Hp,JE;(JE=Hp||(Hp={}))._a="default",JE.Cache="cache";class ow{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.key=e}}class uw{constructor(e){this.key=e}}class uO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=Ab(e),this.wa=new ko(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new WE,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const w=o.get(E),x=Af(this.query,T)?T:null,k=!!w&&this.mutatedKeys.has(w.key),$=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;w&&x?w.data.isEqual(x.data)?k!==$&&(s.track({type:3,doc:x}),j=!0):this.va(w,x)||(s.track({type:2,doc:x}),j=!0,(p&&this.ya(x,p)>0||g&&this.ya(x,g)<0)&&(d=!0)):!w&&x?(s.track({type:0,doc:x}),j=!0):w&&!x&&(s.track({type:1,doc:w}),j=!0,(p||g)&&(d=!0)),j&&(x?(h=h.add(x),l=$?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(x,k){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return $(x)-$(k)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Fo(this.query,e.wa,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new WE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new uw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new lw(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qg="SyncEngine";class cO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class hO{constructor(e){this.key=e,this.Ba=!1}}class fO{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Oa(d=>wb(d),wf),this.qa=new Map,this.Qa=new Set,this.$a=new ft(ve.comparator),this.Ua=new Map,this.Ka=new Og,this.Wa={},this.Ga=new Map,this.za=Bo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function dO(i,e,t=!0){const s=pw(i);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await cw(s,e,t,!0),o}async function mO(i,e){const t=pw(i);await cw(t,e,!0,!1)}async function cw(i,e,t,s){const o=await kD(i.localStore,Li(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await pO(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Jb(i.remoteStore,o),d}async function pO(i,e,t,s,o){i.Ha=(T,w,x)=>async function($,j,H,ee){let Q=j.view.ba(H);Q.ls&&(Q=await GE($.localStore,j.query,!1).then(({documents:M})=>j.view.ba(M,Q)));const re=ee&&ee.targetChanges.get(j.targetId),te=ee&&ee.targetMismatches.get(j.targetId)!=null,se=j.view.applyChanges(Q,$.isPrimaryClient,re,te);return tT($,j.targetId,se.Ma),se.snapshot}(i,T,w,x);const l=await GE(i.localStore,e,!0),h=new uO(e,l.gs),d=h.ba(l.documents),p=Fu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);tT(i,t,g.Ma);const E=new cO(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function gO(i,e,t){const s=Ce(i),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!wf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Fp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Pg(s.remoteStore,o.targetId),Gp(s,o.targetId)}).catch(Xo)):(Gp(s,o.targetId),await Fp(s.localStore,o.targetId,!0))}async function yO(i,e){const t=Ce(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Pg(t.remoteStore,s.targetId))}async function vO(i,e,t){const s=SO(i);try{const o=await function(h,d){const p=Ce(h),g=Tt.now(),E=d.reduce((x,k)=>x.add(k.key),Ue());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=xr(),$=Ue();return p.ds.getEntries(x,E).next(j=>{k=j,k.forEach((H,ee)=>{ee.isValidDocument()||($=$.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,k)).next(j=>{T=j;const H=[];for(const ee of d){const Q=kx(ee,T.get(ee.key).overlayedDocument);Q!=null&&H.push(new Ls(ee.key,Q,pb(Q.value.mapValue),Ui.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,H,d)}).next(j=>{w=j;const H=j.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(x,j.batchId,H)})}).then(()=>({batchId:w.batchId,changes:Rb(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ft(xe)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Hu(s,o.changes),await xf(s.remoteStore)}catch(o){const l=Bg(o,"Failed to persist write");t.reject(l)}}async function hw(i,e){const t=Ce(i);try{const s=await DD(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ua.get(l);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ye(h.Ba):o.removedDocuments.size>0&&(Ye(h.Ba),h.Ba=!1))}),await Hu(t,s,e)}catch(s){await Xo(s)}}function eT(i,e,t){const s=Ce(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ce(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const w of T.ta)w.sa(d)&&(g=!0)}),g&&Fg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _O(i,e,t){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),l=o&&o.key;if(l){let h=new ft(ve.comparator);h=h.insert(l,un.newNoDocument(l,Se.min()));const d=Ue().add(l),p=new Cf(Se.min(),new Map,new ft(xe),h,d);await hw(s,p),s.$a=s.$a.remove(l),s.Ua.delete(e),Hg(s)}else await Fp(s.localStore,e,!1).then(()=>Gp(s,e,t)).catch(Xo)}async function EO(i,e){const t=Ce(i),s=e.batch.batchId;try{const o=await xD(t.localStore,e);dw(t,s,null),fw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(t,o)}catch(o){await Xo(o)}}async function TO(i,e,t){const s=Ce(i);try{const o=await function(h,d){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ye(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);dw(s,e,t),fw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Hu(s,o)}catch(o){await Xo(o)}}function fw(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function dw(i,e,t){const s=Ce(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Gp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||mw(i,s)})}function mw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Pg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),Hg(i))}function tT(i,e,t){for(const s of t)s instanceof lw?(i.Ka.addReference(s.key,e),bO(i,s)):s instanceof uw?(fe(qg,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||mw(i,s.key)):be()}function bO(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(fe(qg,"New document in limbo: "+t),i.Qa.add(s),Hg(i))}function Hg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ve(at.fromString(e)),s=i.za.next();i.Ua.set(s,new hO(t)),i.$a=i.$a.insert(t,s),Jb(i.remoteStore,new bs(Li(Rg(t.path)),s,"TargetPurposeLimboResolution",Ef.ae))}}async function Hu(i,e,t){const s=Ce(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=kg.Yi(p.targetId,g);l.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Z.forEach(g,w=>Z.forEach(w.Hi,x=>E.persistence.referenceDelegate.addReference(T,w.targetId,x)).next(()=>Z.forEach(w.Ji,x=>E.persistence.referenceDelegate.removeReference(T,w.targetId,x)))))}catch(T){if(!Wo(T))throw T;fe(Vg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const x=E.Ts.get(w),k=x.snapshotVersion,$=x.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(w,$)}}}(s.localStore,l))}async function wO(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){fe(qg,"User change. New user:",e.toKey());const s=await Yb(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new de(J.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hu(t,s.Rs)}}function AO(i,e){const t=Ce(i),s=t.Ua.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const l=t.qa.get(e);if(!l)return o;for(const h of l){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function pw(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_O.bind(null,e),e.La.p_=oO.bind(null,e.eventManager),e.La.Ja=lO.bind(null,e.eventManager),e}function SO(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TO.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ND(this.persistence,new RD,e.initialUser,this.serializer)}Xa(e){return new Qb(Mg.ri,this.serializer)}Za(e){return new PD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class RO extends ef{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ye(this.persistence.referenceDelegate instanceof Zh);const s=this.persistence.referenceDelegate.garbageCollector;return new hD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Qb(s=>Zh.ri(s,t),this.serializer)}}class $p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>eT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aO}()}createDatastore(e){const t=If(e.databaseInfo.databaseId),s=function(l){return new BD(l)}(e.databaseInfo);return function(l,h,d,p){return new GD(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new KD(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>eT(this.syncEngine,t,0),function(){return QE.D()?new QE:new LD}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,E){const T=new fO(o,l,h,d,p,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ce(o);fe(Ra,"RemoteStore shutting down."),l.W_.add(5),await qu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$p.provider={build:()=>new $p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="FirestoreClient";class CO{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{fe(Ms,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(Ms,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Bg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sp(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Ms,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Yb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function nT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await IO(i);fe(Ms,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>XE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>XE(e.remoteStore,o)),i._onlineComponents=e}async function IO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Ms,"Using user provided OfflineComponentProvider");try{await sp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Po("Error using user provided cache. Falling back to memory cache: "+t),await sp(i,new ef)}}else fe(Ms,"Using default OfflineComponentProvider"),await sp(i,new RO(void 0));return i._offlineComponents}async function yw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Ms,"Using user provided OnlineComponentProvider"),await nT(i,i._uninitializedComponentsProvider._online)):(fe(Ms,"Using default OnlineComponentProvider"),await nT(i,new $p))),i._onlineComponents}function NO(i){return yw(i).then(e=>e.syncEngine)}async function vw(i){const e=await yw(i),t=e.eventManager;return t.onListen=dO.bind(null,e.syncEngine),t.onUnlisten=gO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yO.bind(null,e.syncEngine),t}function xO(i,e,t={}){const s=new br;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new gw({next:w=>{E.su(),h.enqueueAndForget(()=>aw(l,T));const x=w.docs.has(d);!x&&w.fromCache?g.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&p&&p.source==="server"?g.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new ow(Rg(d.path),E,{includeMetadataChanges:!0,Ta:!0});return sw(l,T)}(await vw(i),i.asyncQueue,e,t,s)),s.promise}function DO(i,e,t={}){const s=new br;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new gw({next:w=>{E.su(),h.enqueueAndForget(()=>aw(l,T)),w.fromCache&&p.source==="server"?g.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new ow(d,E,{includeMetadataChanges:!0,Ta:!0});return sw(l,T)}(await vw(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(i,e,t){if(!t)throw new de(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function OO(i,e,t,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function rT(i){if(!ve.isDocumentKey(i))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function sT(i){if(ve.isDocumentKey(i))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function Dr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Df(i);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firestore.googleapis.com",aT=!0;class oT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=aT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:aT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Kb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uD)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_w((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BN;switch(s.type){case"firstParty":return new GN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=iT.get(t);s&&(fe("ComponentProvider","Removing Datastore"),iT.delete(t),s.terminate())}(this),Promise.resolve()}}function MO(i,e,t,s={}){var o;const l=(i=Dr(i,Of))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Tw&&l.host!==d&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!Rr(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=ln.MOCK_USER;else{g=c1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(T)}i._authCredentials=new FN(new ib(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class yn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Rs extends Jo{constructor(e,t,s){super(e,t,Rg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ve(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function Gg(i,e,...t){if(i=bt(i),Ew("collection","path",e),i instanceof Of){const s=at.fromString(e,...t);return sT(s),new Rs(i,null,s)}{if(!(i instanceof yn||i instanceof Rs))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...t));return sT(s),new Rs(i.firestore,null,s)}}function en(i,e,...t){if(i=bt(i),arguments.length===1&&(e=sb.newId()),Ew("doc","path",e),i instanceof Of){const s=at.fromString(e,...t);return rT(s),new yn(i,null,new ve(s))}{if(!(i instanceof yn||i instanceof Rs))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...t));return rT(s),new yn(i.firestore,i instanceof Rs?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="AsyncQueue";class uT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Wb(this,"async_queue_retry"),this.Su=()=>{const s=rp();s&&fe(lT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new br;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Wo(e))throw e;fe(lT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Nr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=zg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Gu extends Of{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new uT,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uT(e),this._firestoreClient=void 0,await e}}}function kO(i,e){const t=typeof i=="object"?i:gf(),s=typeof i=="string"?i:Kh,o=Vs(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=o1("firestore");l&&MO(o,...l)}return o}function $g(i){if(i._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VO(i),i._firestoreClient}function VO(i){var e,t,s;const o=i._freezeSettings(),l=function(d,p,g,E){return new ax(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,_w(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new CO(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(tn.fromBase64String(e))}catch(t){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qo(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=/^__.*__$/;class LO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bu(e,this.data,t,this.fieldTransforms)}}class bw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ww(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class kf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ww(this.Lu)&&PO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||If(e)}ju(e,t,s,o=!1){return new kf({Lu:e,methodName:t,zu:s,path:Jt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yg(i){const e=i._freezeSettings(),t=If(i._databaseId);return new UO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function jO(i,e,t,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,e,t,o);Jg("Data must be an object, but it was:",h,s);const d=Aw(s,h);let p,g;if(l.merge)p=new kn(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const w=Kp(e,T,t);if(!h.contains(w))throw new de(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Rw(E,w)||E.push(w)}p=new kn(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new LO(new wn(d),p,g)}class Vf extends el{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function zO(i,e,t){return new kf({Lu:3,zu:e.settings.zu,methodName:i._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Xg extends el{_toFieldTransform(e){return new Ig(e.path,new xu)}isEqual(e){return e instanceof Xg}}class Wg extends el{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=zO(this,e,!0),s=this.Hu.map(l=>tl(l,t)),o=new zo(s);return new Ig(e.path,o)}isEqual(e){return e instanceof Wg&&Rr(this.Hu,e.Hu)}}class Zg extends el{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Ou(e.serializer,Nb(e.serializer,this.Ju));return new Ig(e.path,t)}isEqual(e){return e instanceof Zg&&this.Ju===e.Ju}}function BO(i,e,t,s){const o=i.ju(1,e,t);Jg("Data must be an object, but it was:",o,s);const l=[],h=wn.empty();Ps(s,(p,g)=>{const E=ey(e,p,t);g=bt(g);const T=o.Uu(E);if(g instanceof Vf)l.push(E);else{const w=tl(g,T);w!=null&&(l.push(E),h.set(E,w))}});const d=new kn(l);return new bw(h,d,o.fieldTransforms)}function FO(i,e,t,s,o,l){const h=i.ju(1,e,t),d=[Kp(e,s,t)],p=[o];if(l.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Kp(e,l[w])),p.push(l[w+1]);const g=[],E=wn.empty();for(let w=d.length-1;w>=0;--w)if(!Rw(g,d[w])){const x=d[w];let k=p[w];k=bt(k);const $=h.Uu(x);if(k instanceof Vf)g.push(x);else{const j=tl(k,$);j!=null&&(g.push(x),E.set(x,j))}}const T=new kn(g);return new bw(E,T,h.fieldTransforms)}function qO(i,e,t,s=!1){return tl(t,i.ju(s?4:3,e))}function tl(i,e){if(Sw(i=bt(i)))return Jg("Unsupported field value:",e,i),Aw(i,e);if(i instanceof el)return function(s,o){if(!ww(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=tl(d,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Nb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Tt.fromDate(s);return{timestampValue:Wh(o.serializer,l)}}if(s instanceof Tt){const l=new Tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,l)}}if(s instanceof Kg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qo)return{bytesValue:zb(o.serializer,s._byteString)};if(s instanceof yn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qg)return function(h,d){return{mapValue:{fields:{[db]:{stringValue:mb},[Qh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Cg(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Df(s)}`)}(i,e)}function Aw(i,e){const t={};return ob(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(i,(s,o)=>{const l=tl(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Sw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Tt||i instanceof Kg||i instanceof qo||i instanceof yn||i instanceof el||i instanceof Qg)}function Jg(i,e,t){if(!Sw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Df(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Kp(i,e,t){if((e=bt(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return ey(i,e);throw tf("Field path arguments must be of type string or ",i,!1,void 0,t)}const HO=new RegExp("[~\\*/\\[\\]]");function ey(i,e,t){if(e.search(HO)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Mf(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function tf(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new de(J.INVALID_ARGUMENT,d+i+p)}function Rw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ty("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GO extends Cw{data(){return super.data()}}function ty(i,e){return typeof e=="string"?ey(i,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class KO extends ny{}function Iw(i,e,...t){let s=[];e instanceof ny&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof iy).length,d=l.filter(p=>p instanceof Pf).length;if(h>1||h>0&&d>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Pf extends KO{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Pf(e,t,s)}_apply(e){const t=this._parse(e);return xw(e._query,t),new Jo(e.firestore,e.converter,Pp(e._query,t))}_parse(e){const t=Yg(e.firestore);return function(l,h,d,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){hT(T,E);const k=[];for(const $ of T)k.push(cT(p,l,$));w={arrayValue:{values:k}}}else w=cT(p,l,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||hT(T,E),w=qO(d,h,T,E==="in"||E==="not-in");return Ct.create(g,E,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Nw(i,e,t){const s=e,o=ty("where",i);return Pf._create(o,s,t)}class iy extends ny{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:pi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)xw(h,p),h=Pp(h,p)}(e._query,t),new Jo(e.firestore,e.converter,Pp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cT(i,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bb(e)&&t.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(at.fromString(t));if(!ve.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return RE(i,new ve(s))}if(t instanceof yn)return RE(i,t._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(t)}.`)}function hT(i,e){if(!Array.isArray(i)||i.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xw(i,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QO{convertValue(e,t="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ps(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Et(h.doubleValue));return new Qg(l)}convertGeoPoint(e){return new Kg(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=bf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){const t=Ns(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=at.fromString(e);Ye($b(s));const o=new Iu(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return o.isEqual(t)||Nr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dw extends Cw{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ty("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class kh extends Dw{data(e={}){return super.data(e)}}class XO{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new pu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new kh(this._firestore,this._userDataWriter,s.key,s,new pu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new kh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new pu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new kh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new pu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:WO(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(i){i=Dr(i,yn);const e=Dr(i.firestore,Gu);return xO($g(e),i._key).then(t=>ZO(e,i,t))}class Ow extends QO{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function Mw(i){i=Dr(i,Jo);const e=Dr(i.firestore,Gu),t=$g(e),s=new Ow(e);return $O(i._query),DO(t,i._query).then(o=>new XO(e,s,i,o))}function Mu(i,e,t){i=Dr(i,yn);const s=Dr(i.firestore,Gu),o=YO(i.converter,e);return kw(s,[jO(Yg(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Ui.none())])}function Cs(i,e,t,...s){i=Dr(i,yn);const o=Dr(i.firestore,Gu),l=Yg(o);let h;return h=typeof(e=bt(e))=="string"||e instanceof Mf?FO(l,"updateDoc",i._key,e,t,s):BO(l,"updateDoc",i._key,e),kw(o,[h.toMutation(i._key,Ui.exists(!0))])}function kw(i,e){return function(s,o){const l=new br;return s.asyncQueue.enqueueAndForget(async()=>vO(await NO(s),o,l)),l.promise}($g(i),e)}function ZO(i,e,t){const s=t.docs.get(e._key),o=new Ow(i);return new Dw(i,o,e._key,s,new pu(t.hasPendingWrites,t.fromCache),e.converter)}function wr(){return new Xg("serverTimestamp")}function JO(...i){return new Wg("arrayUnion",i)}function Vw(i){return new Zg("increment",i)}(function(e,t=!0){(function(o){Yo=o})(Da),mi(new ei("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new Gu(new qN(s.getProvider("auth-internal")),new $N(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),An(mE,pE,e),An(mE,pE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="firebasestorage.googleapis.com",e3="storageBucket",t3=2*60*1e3,n3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends ti{constructor(e,t,s=0){super(ap(e),`Firebase Storage: ${t} (${ap(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ap(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fi||(Fi={}));function ap(i){return"storage/"+i}function i3(){const i="An unknown error occurred, please check the error payload for server response.";return new Hi(Fi.UNKNOWN,i)}function r3(){return new Hi(Fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s3(){return new Hi(Fi.CANCELED,"User canceled the upload/download.")}function a3(i){return new Hi(Fi.INVALID_URL,"Invalid URL '"+i+"'.")}function o3(i){return new Hi(Fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function fT(i){return new Hi(Fi.INVALID_ARGUMENT,i)}function Lw(){return new Hi(Fi.APP_DELETED,"The Firebase app was deleted.")}function l3(i){return new Hi(Fi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=hi.makeFromUrl(e,t)}catch{return new hi(e,"")}if(s.path==="")return s;throw o3(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const E="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),k={bucket:1,path:3},$=t===Pw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",H=new RegExp(`^https?://${$}/${o}/${j}`,"i"),Q=[{regex:d,indices:p,postModify:l},{regex:x,indices:k,postModify:g},{regex:H,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<Q.length;re++){const te=Q[re],se=te.regex.exec(e);if(se){const M=se[te.indices.bucket];let I=se[te.indices.path];I||(I=""),s=new hi(M,I),te.postModify(s);break}}if(s==null)throw a3(e);return s}}class u3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(i,e,t){let s=1,o=null,l=null,h=!1,d=0;function p(){return d===2}let g=!1;function E(...j){g||(g=!0,e.apply(null,j))}function T(j){o=setTimeout(()=>{o=null,i(x,p())},j)}function w(){l&&clearTimeout(l)}function x(j,...H){if(g){w();return}if(j){w(),E.call(null,j,...H);return}if(p()||h){w(),E.call(null,j,...H);return}s<64&&(s*=2);let Q;d===1?(d=2,Q=0):Q=(s+Math.random())*1e3,T(Q)}let k=!1;function $(j){k||(k=!0,w(),!g&&(o!==null?(j||(d=2),clearTimeout(o),T(0)):j||(d=1)))}return T(0),l=setTimeout(()=>{h=!0,$(!0)},t),$}function h3(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(i){return i!==void 0}function dT(i,e,t,s){if(s<e)throw fT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw fT(`Invalid value for '${i}'. Expected ${t} or less.`)}function d3(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var nf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(nf||(nf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,t,s,o,l,h,d,p,g,E,T,w=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Eh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===nf.NO_ERROR,p=l.getStatus();if(!d||m3(p,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===nf.ABORT;s(!1,new Eh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Eh(g,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());f3(p)?l(p):l()}catch(p){h(p)}else if(d!==null){const p=i3();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Lw():s3();h(p)}else{const p=r3();h(p)}};this.canceled_?t(!1,new Eh(!1,null,!0)):this.backoffId_=c3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function g3(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function y3(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v3(i,e){e&&(i["X-Firebase-GMPID"]=e)}function _3(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function E3(i,e,t,s,o,l,h=!0){const d=d3(i.urlParams),p=i.url+d,g=Object.assign({},i.headers);return v3(g,e),g3(g,t),y3(g,l),_3(g,s),new p3(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function b3(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this._service=e,t instanceof hi?this._location=t:this._location=hi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rf(e,t)}get root(){const e=new hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b3(this._location.path)}get storage(){return this._service}get parent(){const e=T3(this._location.path);if(e===null)return null;const t=new hi(this._location.bucket,e);return new rf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw l3(e)}}function mT(i,e){const t=e==null?void 0:e[e3];return t==null?null:hi.makeFromBucketSpec(t,i)}function w3(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:c1(o,i.app.options.projectId))}class A3{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Pw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t3,this._maxUploadRetryTime=n3,this._requests=new Set,o!=null?this._bucket=hi.makeFromBucketSpec(o,this._host):this._bucket=mT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,e):this._bucket=mT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rf(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new u3(Lw());{const h=E3(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const pT="@firebase/storage",gT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="storage";function S3(i=gf(),e){i=bt(i);const s=Vs(i,Uw).getImmediate({identifier:e}),o=o1("storage");return o&&R3(s,...o),s}function R3(i,e,t,s={}){w3(i,e,t,s)}function C3(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new A3(t,s,o,e,Da)}function I3(){mi(new ei(Uw,C3,"PUBLIC").setMultipleInstances(!0)),An(pT,gT,""),An(pT,gT,"esm2017")}I3();const jw="@firebase/installations",ry="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1e4,Bw=`w:${ry}`,Fw="FIS_v2",N3="https://firebaseinstallations.googleapis.com/v1",x3=60*60*1e3,D3="installations",O3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ca=new xa(D3,O3,M3);function qw(i){return i instanceof ti&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw({projectId:i}){return`${N3}/projects/${i}/installations`}function Gw(i){return{token:i.token,requestStatus:2,expiresIn:V3(i.expiresIn),creationTime:Date.now()}}async function $w(i,e){const s=(await e.json()).error;return Ca.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Kw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function k3(i,{refreshToken:e}){const t=Kw(i);return t.append("Authorization",P3(e)),t}async function Qw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function V3(i){return Number(i.replace("s","000"))}function P3(i){return`${Fw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=Hw(i),o=Kw(i),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:Fw,appId:i.appId,sdkVersion:Bw},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Qw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Gw(g.authToken)}}else throw await $w("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=/^[cdef][\w-]{21}$/,Qp="";function z3(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=B3(i);return j3.test(t)?t:Qp}catch{return Qp}}function B3(i){return U3(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map;function Ww(i,e){const t=Lf(i);Zw(t,e),F3(t,e)}function Zw(i,e){const t=Xw.get(i);if(t)for(const s of t)s(e)}function F3(i,e){const t=q3();t&&t.postMessage({key:i,fid:e}),H3()}let Ta=null;function q3(){return!Ta&&"BroadcastChannel"in self&&(Ta=new BroadcastChannel("[Firebase] FID Change"),Ta.onmessage=i=>{Zw(i.data.key,i.data.fid)}),Ta}function H3(){Xw.size===0&&Ta&&(Ta.close(),Ta=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="firebase-installations-database",$3=1,Ia="firebase-installations-store";let op=null;function sy(){return op||(op=g1(G3,$3,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ia)}}})),op}async function sf(i,e){const t=Lf(i),o=(await sy()).transaction(Ia,"readwrite"),l=o.objectStore(Ia),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&Ww(i,e.fid),e}async function Jw(i){const e=Lf(i),s=(await sy()).transaction(Ia,"readwrite");await s.objectStore(Ia).delete(e),await s.done}async function Uf(i,e){const t=Lf(i),o=(await sy()).transaction(Ia,"readwrite"),l=o.objectStore(Ia),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&Ww(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(i){let e;const t=await Uf(i.appConfig,s=>{const o=K3(s),l=Q3(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Qp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function K3(i){const e=i||{fid:z3(),registrationStatus:0};return eA(e)}function Q3(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ca.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Y3(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:X3(i)}:{installationEntry:e}}async function Y3(i,e){try{const t=await L3(i,e);return sf(i.appConfig,t)}catch(t){throw qw(t)&&t.customData.serverCode===409?await Jw(i.appConfig):await sf(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function X3(i){let e=await yT(i.appConfig);for(;e.registrationStatus===1;)await Yw(100),e=await yT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await ay(i);return s||t}return e}function yT(i){return Uf(i,e=>{if(!e)throw Ca.create("installation-not-found");return eA(e)})}function eA(i){return W3(i)?{fid:i.fid,registrationStatus:0}:i}function W3(i){return i.registrationStatus===1&&i.registrationTime+zw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3({appConfig:i,heartbeatServiceProvider:e},t){const s=J3(i,t),o=k3(i,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Bw,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Qw(()=>fetch(s,d));if(p.ok){const g=await p.json();return Gw(g)}else throw await $w("Generate Auth Token",p)}function J3(i,{fid:e}){return`${Hw(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy(i,e=!1){let t;const s=await Uf(i.appConfig,l=>{if(!tA(l))throw Ca.create("not-registered");const h=l.authToken;if(!e&&nM(h))return l;if(h.requestStatus===1)return t=eM(i,e),l;{if(!navigator.onLine)throw Ca.create("app-offline");const d=rM(l);return t=tM(i,d),d}});return t?await t:s.authToken}async function eM(i,e){let t=await vT(i.appConfig);for(;t.authToken.requestStatus===1;)await Yw(100),t=await vT(i.appConfig);const s=t.authToken;return s.requestStatus===0?oy(i,e):s}function vT(i){return Uf(i,e=>{if(!tA(e))throw Ca.create("not-registered");const t=e.authToken;return sM(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function tM(i,e){try{const t=await Z3(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await sf(i.appConfig,s),t}catch(t){if(qw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Jw(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sf(i.appConfig,s)}throw t}}function tA(i){return i!==void 0&&i.registrationStatus===2}function nM(i){return i.requestStatus===2&&!iM(i)}function iM(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+x3}function rM(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function sM(i){return i.requestStatus===1&&i.requestTime+zw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aM(i){const e=i,{installationEntry:t,registrationPromise:s}=await ay(e);return s?s.catch(console.error):oy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(i,e=!1){const t=i;return await lM(t),(await oy(t,e)).token}async function lM(i){const{registrationPromise:e}=await ay(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(i){if(!i||!i.options)throw lp("App Configuration");if(!i.name)throw lp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw lp(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function lp(i){return Ca.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="installations",cM="installations-internal",hM=i=>{const e=i.getProvider("app").getImmediate(),t=uM(e),s=Vs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},fM=i=>{const e=i.getProvider("app").getImmediate(),t=Vs(e,nA).getImmediate();return{getId:()=>aM(t),getToken:o=>oM(t,o)}};function dM(){mi(new ei(nA,hM,"PUBLIC")),mi(new ei(cM,fM,"PRIVATE"))}dM();An(jw,ry);An(jw,ry,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af="analytics",mM="firebase_id",pM="origin",gM=60*1e3,yM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ly="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new pf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new xa("analytics","Analytics",vM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(i){if(!i.startsWith(ly)){const e=Vn.create("invalid-gtag-resource",{gtagURL:i});return Sn.warn(e.message),""}return i}function iA(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function EM(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function TM(i,e){const t=EM("firebase-js-sdk-policy",{createScriptURL:_M}),s=document.createElement("script"),o=`${ly}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function bM(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function wM(i,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await iA(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){Sn.error(d)}i("config",o,l)}async function AM(i,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await iA(t);for(const p of h){const g=d.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",s,o||{})}catch(l){Sn.error(l)}}function SM(i,e,t,s){async function o(l,...h){try{if(l==="event"){const[d,p]=h;await AM(i,e,t,d,p)}else if(l==="config"){const[d,p]=h;await wM(i,e,t,s,d,p)}else if(l==="consent"){const[d,p]=h;i("consent",d,p)}else if(l==="get"){const[d,p,g]=h;i("get",d,p,g)}else if(l==="set"){const[d]=h;i("set",d)}else i(l,...h)}catch(d){Sn.error(d)}}return o}function RM(i,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=SM(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function CM(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ly)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=30,NM=1e3;class xM{constructor(e={},t=NM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rA=new xM;function DM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function OM(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:DM(s)},l=yM.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function MM(i,e=rA,t){const{appId:s,apiKey:o,measurementId:l}=i.options;if(!s)throw Vn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw Vn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new PM;return setTimeout(async()=>{d.abort()},gM),sA({appId:s,apiKey:o,measurementId:l},h,d,e)}async function sA(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=rA){var l;const{appId:h,measurementId:d}=i;try{await kM(s,e)}catch(p){if(d)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await OM(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!VM(g)){if(o.deleteThrottleMetadata(h),d)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?B0(t,o.intervalMillis,IM):B0(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,T),Sn.debug(`Calling attemptFetch again in ${E} millis`),sA(i,T,s,o)}}function kM(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),s(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VM(i){if(!(i instanceof ti)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class PM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function LM(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(){if(f1())try{await d1()}catch(i){return Sn.warn(Vn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Sn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jM(i,e,t,s,o,l,h){var d;const p=MM(i);p.then(x=>{t[x.measurementId]=x.appId,i.options.measurementId&&x.measurementId!==i.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Sn.error(x)),e.push(p);const g=UM().then(x=>{if(x)return s.getId()}),[E,T]=await Promise.all([p,g]);CM(l)||TM(l,E.measurementId),o("js",new Date);const w=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return w[pM]="firebase",w.update=!0,T!=null&&(w[mM]=T),o("config",E.measurementId,w),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.app=e}_delete(){return delete bu[this.app.options.appId],Promise.resolve()}}let bu={},_T=[];const ET={};let up="dataLayer",BM="gtag",TT,aA,bT=!1;function FM(){const i=[];if(h1()&&i.push("This is a browser extension environment."),_C()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});Sn.warn(t.message)}}function qM(i,e,t){FM();const s=i.options.appId;if(!s)throw Vn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(bu[s]!=null)throw Vn.create("already-exists",{id:s});if(!bT){bM(up);const{wrappedGtag:l,gtagCore:h}=RM(bu,_T,ET,up,BM);aA=l,TT=h,bT=!0}return bu[s]=jM(i,_T,ET,e,TT,up,t),new zM(i)}function HM(i=gf()){i=bt(i);const e=Vs(i,af);return e.isInitialized()?e.getImmediate():GM(i)}function GM(i,e={}){const t=Vs(i,af);if(t.isInitialized()){const o=t.getImmediate();if(Rr(e,t.getOptions()))return o;throw Vn.create("already-initialized")}return t.initialize({options:e})}function $M(i,e,t,s){i=bt(i),LM(aA,bu[i.app.options.appId],e,t,s).catch(o=>Sn.error(o))}const wT="@firebase/analytics",AT="0.10.12";function KM(){mi(new ei(af,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return qM(s,o,t)},"PUBLIC")),mi(new ei("analytics-internal",i,"PRIVATE")),An(wT,AT),An(wT,AT,"esm2017");function i(e){try{const t=e.getProvider(af).getImmediate();return{logEvent:(s,o,l)=>$M(t,s,o,l)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}}}KM();const QM={apiKey:"AIzaSyByBUCnsUPu5f9N9mcPmwZb8fTxPP34jRU",authDomain:"health-quest-69684.firebaseapp.com",projectId:"health-quest-69684",storageBucket:"health-quest-69684.appspot.com",messagingSenderId:"224519172412",appId:"1:224519172412:web:3fb327009476d0e13a2e39",measurementId:"G-6J2GKXYCZ1"},jf=y1(QM),of=jN(jf),Lt=kO(jf);S3(jf);HM(jf);const oA=new vr;oA.setCustomParameters({prompt:"select_account"});const YM=async()=>{var i;try{const t=(await Q4(of,oA)).user;if(!(await $u(en(Lt,"users",t.uid))).exists()){const o={uid:t.uid,name:t.displayName||"User",username:`@${((i=t.displayName)==null?void 0:i.toLowerCase().replace(/\s+/g,""))||t.uid.substring(0,8)}`,email:t.email||"",avatarUrl:t.photoURL||"/health-quest/profile.png",createdAt:Tt.fromDate(new Date)};await Mu(en(Lt,"users",t.uid),o),await Mu(en(Lt,"userStats",t.uid),{userId:t.uid,activeGoals:0,completion:0,totalGroups:0,goalsCompleted:0,workoutSessions:0,healthyMeals:0,updatedAt:wr()})}return t}catch(e){throw console.error("Error signing in with Google:",e),e}},lA=async()=>N4(of),XM=async i=>{try{const e=await $u(en(Lt,"users",i));return e.exists()?e.data():null}catch(e){throw console.error("Error getting user data:",e),e}},uA=C.createContext({currentUser:null,userData:null,loading:!0,isAuthenticated:!1});function ka(){return C.useContext(uA)}function WM({children:i}){const[e,t]=C.useState(null),[s,o]=C.useState(null),[l,h]=C.useState(!0),[d,p]=C.useState(!1);C.useEffect(()=>(S4(of,B1).then(()=>{console.log("Persistence set to LOCAL")}).catch(T=>{console.error("Error setting persistence:",T)}),I4(of,async T=>{if(t(T),p(!!T),T)try{const w=await XM(T.uid);o(w)}catch(w){console.error("Error fetching user data:",w)}else o(null);h(!1)})),[]);const g={currentUser:e,userData:s,loading:l,isAuthenticated:d};return S.jsx(uA.Provider,{value:g,children:!l&&i})}const cA=async(i,e)=>{try{const t=await $u(en(Lt,"healthStats",`${i}_${e}`));return t.exists()?t.data():null}catch(t){throw console.error("Error getting health stats:",t),t}},ZM=async(i,e,t,s)=>{try{const o=en(Lt,"healthStats",`${i}_${e}`);await Cs(o,{[t]:s,updatedAt:wr()});const l=en(Lt,"userStats",i);t==="healthyFats"||t==="veggies"?await Cs(l,{healthyMeals:s,updatedAt:wr()}):(t==="cardio"||t==="strength")&&await Cs(l,{workoutSessions:s,updatedAt:wr()})}catch(o){throw console.error(`Error updating ${t}:`,o),o}},JM=async i=>{try{const e=await $u(en(Lt,"userStats",i));return e.exists()?e.data():null}catch(e){throw console.error("Error getting user stats:",e),e}},ek=async(i,e)=>{try{const t=await cA(i,e);if(t){const{healthyFats:s,veggies:o,cardio:l,strength:h}=t,d=s+o+l+h,g=Math.round(d/34*100),E=en(Lt,"userStats",i);await Cs(E,{completion:g,updatedAt:wr()})}}catch(t){throw console.error("Error updating completion percentage:",t),t}},tk=()=>Math.random().toString(36).substring(2,8).toUpperCase(),nk=async(i,e,t="family")=>{try{const s=tk(),o=en(Gg(Lt,"groups")),l=o.id,h={id:l,name:i,code:s,icon:t,createdBy:e,createdAt:Tt.fromDate(new Date),members:[e],status:"Active"};await Mu(o,h);const d=en(Lt,"userStats",e);return await Cs(d,{totalGroups:Vw(1),updatedAt:wr()}),await Mu(en(Lt,"healthStats",`${e}_${l}`),{userId:e,groupId:l,healthyFats:0,veggies:0,cardio:0,strength:0,updatedAt:wr()}),l}catch(s){throw console.error("Error creating group:",s),s}},ik=async i=>{try{const e=await $u(en(Lt,"groups",i));return e.exists()?e.data():null}catch(e){throw console.error("Error getting group:",e),e}},rk=async i=>{try{const e=Iw(Gg(Lt,"groups"),Nw("code","==",i)),t=await Mw(e);return t.empty?null:{id:t.docs[0].id,...t.docs[0].data()}}catch(e){throw console.error("Error getting group by code:",e),e}},uy=async i=>{try{const e=Iw(Gg(Lt,"groups"),Nw("members","array-contains",i));return(await Mw(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting user groups:",e),e}},sk=async(i,e)=>{try{const t=en(Lt,"groups",i);await Cs(t,{members:JO(e)});const s=en(Lt,"userStats",e);await Cs(s,{totalGroups:Vw(1),updatedAt:wr()}),await Mu(en(Lt,"healthStats",`${e}_${i}`),{userId:e,groupId:i,healthyFats:0,veggies:0,cardio:0,strength:0,updatedAt:wr()})}catch(t){throw console.error("Error joining group:",t),t}};function ak(){const{currentUser:i,userData:e}=ka(),t=Na(),[s,o]=C.useState(0),[l,h]=C.useState(0),[d,p]=C.useState(0),[g,E]=C.useState(0),[T,w]=C.useState(null),[x,k]=C.useState(!0),[$,j]=C.useState(null);C.useEffect(()=>{if(!i)return;(async()=>{try{k(!0);const re=await uy(i.uid);if(re.length===0){k(!1);return}const te=localStorage.getItem("activeGroupId"),se=te?await ik(te):re[0];if(se){w(se),localStorage.setItem("activeGroupId",se.id);const M=await cA(i.uid,se.id);M&&(o(M.healthyFats),h(M.veggies),p(M.cardio),E(M.strength))}}catch(re){console.error("Error fetching data:",re),j("Failed to load data. Please try again.")}finally{k(!1)}})()},[i]);const H=async(Q,re)=>{if(!(!i||!T))try{switch(await ZM(i.uid,T.id,Q,re),await ek(i.uid,T.id),Q){case"healthyFats":o(s+re);break;case"veggies":h(l+re);break;case"cardio":p(d+re);break;case"strength":E(g+re);break}}catch(te){console.error(`Error updating ${Q}:`,te),j(`Failed to update ${Q}. Please try again.`)}},ee=()=>{t("/health-quest/group")};return x?S.jsx("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:S.jsx("p",{className:"text-center",children:"Loading your health quest data..."})}):$?S.jsxs("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:[S.jsx("div",{className:"alert alert-danger",role:"alert",children:$}),S.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Try Again"})]}):T?S.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[S.jsxs("div",{children:[S.jsx("div",{className:"card mb-4",children:S.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[S.jsx("h2",{className:"m-0",children:T.name}),S.jsx("img",{src:(e==null?void 0:e.avatarUrl)||"/health-quest/profile.png",alt:"Profile",className:"rounded-circle",width:35,height:35})]})}),S.jsxs("div",{className:"mb-4",children:[S.jsx("h4",{children:"Family Progress"}),S.jsx(cu,{bgColor:"#D85B6A",completed:parseFloat(((s+l+d+g)/34*100).toFixed(0))})]}),S.jsx("div",{children:S.jsxs("h4",{className:"d-flex align-items-center",style:{color:"#e65100"},children:[S.jsx(Y2,{}),"   Nutrition"]})}),S.jsxs("div",{className:"card mb-2 p-2",children:[S.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[S.jsxs("div",{className:"d-flex align-items-center",children:[S.jsx(Z2,{style:{color:"#e65100"}}),"  ",S.jsx("b",{children:"Healthy Fats: 12 Servings"})]}),S.jsx("div",{children:S.jsxs("b",{children:[s,"/12"]})})]}),S.jsx(cu,{bgColor:"#e65100",className:"mb-2",completed:s/12*100,isLabelVisible:!1}),S.jsx("button",{className:"btn",style:{backgroundColor:"#fff6ed",color:"#e65100"},onClick:()=>H("healthyFats",1),disabled:s>=12,children:"+ Add Serving"})]}),S.jsxs("div",{className:"card mb-3 p-2",children:[S.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[S.jsxs("div",{className:"d-flex align-items-center",children:[S.jsx(W2,{style:{color:"green"}}),"  ",S.jsx("b",{children:"Vegetables: 16 Servings"})]}),S.jsx("div",{children:S.jsxs("b",{children:[l,"/16"]})})]}),S.jsx(cu,{bgColor:"green",className:"mb-2",completed:l/16*100,isLabelVisible:!1}),S.jsx("button",{className:"btn",style:{backgroundColor:"#f0fcf4",color:"green"},onClick:()=>H("veggies",1),disabled:l>=16,children:"+ Add Serving"})]}),S.jsx("div",{children:S.jsxs("h4",{className:"d-flex align-items-center",style:{color:"#7b39ec"},children:[S.jsx(J2,{}),"Fitness"]})}),S.jsxs("div",{className:"card mb-3 p-2",children:[S.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[S.jsxs("div",{className:"d-flex align-items-center",children:[S.jsx(eC,{style:{color:"#7b39ec"}}),S.jsx("b",{children:"Cardio: 3 Workouts"})]}),S.jsxs("b",{children:[d,"/3"]})]}),S.jsx("div",{}),S.jsx(cu,{bgColor:"#7b39ec",className:"mb-2",completed:d/3*100,isLabelVisible:!1}),S.jsx("button",{className:"btn",style:{backgroundColor:"#f8f4fc",color:"#7b39ec"},onClick:()=>H("cardio",1),disabled:d>=3,children:"+ Log Workout"})]})]}),S.jsxs("div",{className:"card mb-3 p-2",children:[S.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[S.jsxs("div",{className:"d-flex align-items-center",children:[S.jsx(iC,{style:{color:"#3c82f6"}}),"  ",S.jsx("b",{children:"Strength: 3 Workouts"})]}),S.jsx("div",{children:S.jsxs("b",{children:[g,"/3"]})})]}),S.jsx(cu,{bgColor:"#3c82f6",className:"mb-2",completed:g/3*100,isLabelVisible:!1}),S.jsx("button",{className:"btn",style:{backgroundColor:"#f0f4fc",color:"#3c82f6"},onClick:()=>H("strength",1),disabled:g>=3,children:"+ Log Workout"})]})]}):S.jsxs("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:[S.jsx("p",{className:"mb-3 text-center",style:{fontSize:"1.5rem"},children:"You are not in a group. Please join or create a group to see your tasks."}),S.jsx("button",{className:"btn btn-primary",onClick:ee,children:"Join a Group"})]})}function hA(i){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(i)}function ok(i){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 400a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm128 256a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM128 272a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48z"},child:[]}]})(i)}function lk(i){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"336",y:"336",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"272",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"416",y:"416",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"432",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"272",y:"432",rx:"8",ry:"8"},child:[]},{tag:"path",attr:{d:"M448 32H304a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zM208 32H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zm32 104H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V304a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8z"},child:[]}]})(i)}function fA(i){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(i)}var cp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var ST;function uk(){return ST||(ST=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var l="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(l=o(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var d in l)e.call(l,d)&&l[d]&&(h=o(h,d));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(cp)),cp.exports}var ck=uk();const st=Ho(ck),nl=!!(typeof window<"u"&&window.document&&window.document.createElement);var Yp=!1,Xp=!1;try{var hp={get passive(){return Yp=!0},get once(){return Xp=Yp=!0}};nl&&(window.addEventListener("test",hp,hp),window.removeEventListener("test",hp,!0))}catch{}function dA(i,e,t,s){if(s&&typeof s!="boolean"&&!Xp){var o=s.once,l=s.capture,h=t;!Xp&&o&&(h=t.__once||function d(p){this.removeEventListener(e,d,l),t.call(this,p)},t.__once=h),i.addEventListener(e,h,Yp?s:l)}i.addEventListener(e,t,s)}function zf(i){return i&&i.ownerDocument||document}function Wp(i,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,t,o),t.__once&&i.removeEventListener(e,t.__once,o)}var Th;function RT(i){if((!Th&&Th!==0||i)&&nl){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Th=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Th}function hk(){return C.useState(null)}function fk(i){const e=C.useRef(i);return C.useEffect(()=>{e.current=i},[i]),e}function Zp(i){const e=fk(i);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const CT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function dk(i,e){const t=CT(i),s=CT(e);return o=>{t&&t(o),s&&s(o)}}function mA(i,e){return C.useMemo(()=>dk(i,e),[i,e])}function mk(i){const e=C.useRef(i);return e.current=i,e}function pk(i){const e=mk(i);C.useEffect(()=>()=>e.current(),[])}function gk(i){var e=zf(i);return e&&e.defaultView||window}function yk(i,e){return gk(i).getComputedStyle(i,e)}var vk=/([A-Z])/g;function _k(i){return i.replace(vk,"-$1").toLowerCase()}var Ek=/^ms-/;function bh(i){return _k(i).replace(Ek,"-ms-")}var Tk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bk(i){return!!(i&&Tk.test(i))}function wa(i,e){var t="",s="";if(typeof e=="string")return i.style.getPropertyValue(bh(e))||yk(i).getPropertyValue(bh(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(bh(o)):bk(o)?s+=o+"("+l+") ":t+=bh(o)+": "+l+";"}),s&&(t+="transform: "+s+";"),i.style.cssText+=";"+t}function lf(i,e,t,s){return dA(i,e,t,s),function(){Wp(i,e,t,s)}}function wk(i,e,t,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),i.dispatchEvent(o)}}function Ak(i){var e=wa(i,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Sk(i,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||wk(i,"transitionend",!0)},e+t),l=lf(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function pA(i,e,t,s){t==null&&(t=Ak(i)||0);var o=Sk(i,t,s),l=lf(i,"transitionend",e);return function(){o(),l()}}function fp(i){i===void 0&&(i=zf());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function IT(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}function Rk(){const i=C.useRef(!0),e=C.useRef(()=>i.current);return C.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function Ck(i){const e=C.useRef(i);return e.current=i,e}function Ik(i){const e=Ck(i);C.useEffect(()=>()=>e.current(),[])}function Nk(i){const e=C.useRef(null);return C.useEffect(()=>{e.current=i}),e.current}function xk(i){const e=C.useRef(i);return C.useEffect(()=>{e.current=i},[i]),e}function ya(i){const e=xk(i);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Dk="data-rr-ui-";function Ok(i){return`${Dk}${i}`}function Mk(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const NT=Ok("modal-open");class cy{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Mk(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(wa(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(NT,""),wa(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(NT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gA=C.createContext(nl?window:void 0);gA.Provider;function hy(){return C.useContext(gA)}const dp=(i,e)=>nl?i==null?(e||zf()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function kk(i,e){const t=hy(),[s,o]=C.useState(()=>dp(i,t==null?void 0:t.document));if(!s){const l=dp(i);l&&o(l)}return C.useEffect(()=>{},[e,s]),C.useEffect(()=>{const l=dp(i);l!==s&&o(l)},[i,s]),s}const xT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function Vk(i,e){const t=xT(i),s=xT(e);return o=>{t&&t(o),s&&s(o)}}function fy(i,e){return C.useMemo(()=>Vk(i,e),[i,e])}const Pk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Lk=typeof document<"u",DT=Lk||Pk?C.useLayoutEffect:C.useEffect;function Uk(i){return i.code==="Escape"||i.keyCode===27}function jk(){const i=C.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Bf(i){if(!i||typeof i=="function")return null;const{major:e}=jk();return e>=19?i.props.ref:i.ref}function zk({children:i,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const l=C.useRef(null),h=C.useRef(e),d=ya(t);C.useEffect(()=>{e?h.current=!0:d(l.current)},[e,d]);const p=fy(l,Bf(i)),g=C.cloneElement(i,{ref:p});return e?g:o||!h.current&&s?null:g}const Bk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Fk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function qk(i){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:d,children:p}=i,g=Fk(i,Bk);const E=C.useRef(null),T=fy(E,Bf(p)),w=re=>te=>{re&&E.current&&re(E.current,te)},x=C.useCallback(w(e),[e]),k=C.useCallback(w(t),[t]),$=C.useCallback(w(s),[s]),j=C.useCallback(w(o),[o]),H=C.useCallback(w(l),[l]),ee=C.useCallback(w(h),[h]),Q=C.useCallback(w(d),[d]);return Object.assign({},g,{nodeRef:E},e&&{onEnter:x},t&&{onEntering:k},s&&{onEntered:$},o&&{onExit:j},l&&{onExiting:H},h&&{onExited:ee},d&&{addEndListener:Q},{children:typeof p=="function"?(re,te)=>p(re,Object.assign({},te,{ref:T})):C.cloneElement(p,{ref:T})})}const Hk=["component"];function Gk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const $k=C.forwardRef((i,e)=>{let{component:t}=i,s=Gk(i,Hk);const o=qk(s);return S.jsx(t,Object.assign({ref:e},o))});function Kk({in:i,onTransition:e}){const t=C.useRef(null),s=C.useRef(!0),o=ya(e);return DT(()=>{if(!t.current)return;let l=!1;return o({in:i,element:t.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),DT(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function Qk({children:i,in:e,onExited:t,onEntered:s,transition:o}){const[l,h]=C.useState(!e);e&&l&&h(!1);const d=Kk({in:!!e,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),t==null||t(g.element)))};Promise.resolve(o(g)).then(E,T=>{throw g.in||h(!0),T})}}),p=fy(d,Bf(i));return l&&!e?null:C.cloneElement(i,{ref:p})}function OT(i,e,t){return i?S.jsx($k,Object.assign({},t,{component:i})):e?S.jsx(Qk,Object.assign({},t,{transition:e})):S.jsx(zk,Object.assign({},t))}const Yk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Xk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}let mp;function Wk(i){return mp||(mp=new cy({ownerDocument:i==null?void 0:i.document})),mp}function Zk(i){const e=hy(),t=i||Wk(e),s=C.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:C.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:C.useCallback(o=>{s.current.backdrop=o},[])})}const yA=C.forwardRef((i,e)=>{let{show:t=!1,role:s="dialog",className:o,style:l,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:T,runTransition:w,backdropTransition:x,runBackdropTransition:k,autoFocus:$=!0,enforceFocus:j=!0,restoreFocus:H=!0,restoreFocusOptions:ee,renderDialog:Q,renderBackdrop:re=Me=>S.jsx("div",Object.assign({},Me)),manager:te,container:se,onShow:M,onHide:I=()=>{},onExit:R,onExited:D,onExiting:P,onEnter:z,onEntering:O,onEntered:nt}=i,Ze=Xk(i,Yk);const ae=hy(),ge=kk(se),ce=Zk(te),Ve=Rk(),V=Nk(t),[ne,he]=C.useState(!t),ue=C.useRef(null);C.useImperativeHandle(e,()=>ce,[ce]),nl&&!V&&t&&(ue.current=fp(ae==null?void 0:ae.document)),t&&ne&&he(!1);const oe=ya(()=>{if(ce.add(),Oe.current=lf(document,"keydown",De),Ke.current=lf(document,"focus",()=>setTimeout(we),!0),M&&M(),$){var Me,nn;const vn=fp((Me=(nn=ce.dialog)==null?void 0:nn.ownerDocument)!=null?Me:ae==null?void 0:ae.document);ce.dialog&&vn&&!IT(ce.dialog,vn)&&(ue.current=vn,ce.dialog.focus())}}),Ee=ya(()=>{if(ce.remove(),Oe.current==null||Oe.current(),Ke.current==null||Ke.current(),H){var Me;(Me=ue.current)==null||Me.focus==null||Me.focus(ee),ue.current=null}});C.useEffect(()=>{!t||!ge||oe()},[t,ge,oe]),C.useEffect(()=>{ne&&Ee()},[ne,Ee]),Ik(()=>{Ee()});const we=ya(()=>{if(!j||!Ve()||!ce.isTopModal())return;const Me=fp(ae==null?void 0:ae.document);ce.dialog&&Me&&!IT(ce.dialog,Me)&&ce.dialog.focus()}),Je=ya(Me=>{Me.target===Me.currentTarget&&(g==null||g(Me),d===!0&&I())}),De=ya(Me=>{p&&Uk(Me)&&ce.isTopModal()&&(E==null||E(Me),Me.defaultPrevented||I())}),Ke=C.useRef(),Oe=C.useRef(),lt=(...Me)=>{he(!0),D==null||D(...Me)};if(!ge)return null;const It=Object.assign({role:s,ref:ce.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Ze,{style:l,className:o,tabIndex:-1});let yt=Q?Q(It):S.jsx("div",Object.assign({},It,{children:C.cloneElement(h,{role:"document"})}));yt=OT(T,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:R,onExiting:P,onExited:lt,onEnter:z,onEntering:O,onEntered:nt,children:yt});let zt=null;return d&&(zt=re({ref:ce.setBackdropRef,onClick:Je}),zt=OT(x,k,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:zt})),S.jsx(S.Fragment,{children:xo.createPortal(S.jsxs(S.Fragment,{children:[zt,yt]}),ge)})});yA.displayName="Modal";const Jk=Object.assign(yA,{Manager:cy});function eV(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function tV(i,e){i.classList?i.classList.add(e):eV(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}var nV=Function.prototype.bind.call(Function.prototype.call,[].slice);function wo(i,e){return nV(i.querySelectorAll(e))}function MT(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function iV(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=MT(i.className,e):i.setAttribute("class",MT(i.className&&i.className.baseVal||"",e))}const Ao={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class rV extends cy{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,wa(t,{[e]:`${parseFloat(wa(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],wa(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(tV(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";wo(t,Ao.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),wo(t,Ao.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),wo(t,Ao.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();iV(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";wo(t,Ao.FIXED_CONTENT).forEach(l=>this.restore(s,l)),wo(t,Ao.STICKY_CONTENT).forEach(l=>this.restore(o,l)),wo(t,Ao.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let pp;function sV(i){return pp||(pp=new rV(i)),pp}function aV(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function Jp(i,e){return Jp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Jp(i,e)}function oV(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Jp(i,e)}var gp={exports:{}},yp,kT;function lV(){if(kT)return yp;kT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yp=i,yp}var vp,VT;function uV(){if(VT)return vp;VT=1;var i=lV();function e(){}function t(){}return t.resetWarningCache=e,vp=function(){function s(h,d,p,g,E,T){if(T!==i){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},vp}var PT;function cV(){return PT||(PT=1,gp.exports=uV()()),gp.exports}var hV=cV();const Ar=Ho(hV),LT={disabled:!1},vA=gn.createContext(null);var fV=function(e){return e.scrollTop},gu="unmounted",ga="exited",vs="entering",va="entered",eg="exiting",kr=function(i){oV(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?d?(p=ga,l.appearStatus=vs):p=va:s.unmountOnExit||s.mountOnEnter?p=gu:p=ga,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===gu?{status:ga}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==vs&&h!==va&&(l=vs):(h===vs||h===va)&&(l=eg)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,l,h,d;return l=h=d=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:d}},t.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===vs){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:xo.findDOMNode(this);h&&fV(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ga&&this.setState({status:gu})},t.performEnter=function(o){var l=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[xo.findDOMNode(this),d],g=p[0],E=p[1],T=this.getTimeouts(),w=d?T.appear:T.enter;if(!o&&!h||LT.disabled){this.safeSetState({status:va},function(){l.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:vs},function(){l.props.onEntering(g,E),l.onTransitionEnd(w,function(){l.safeSetState({status:va},function(){l.props.onEntered(g,E)})})})},t.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:xo.findDOMNode(this);if(!l||LT.disabled){this.safeSetState({status:ga},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:eg},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:ga},function(){o.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},t.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,l.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:xo.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===gu)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=aV(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return gn.createElement(vA.Provider,{value:null},typeof h=="function"?h(o,d):gn.cloneElement(gn.Children.only(h),d))},e}(gn.Component);kr.contextType=vA;kr.propTypes={};function So(){}kr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:So,onEntering:So,onEntered:So,onExit:So,onExiting:So,onExited:So};kr.UNMOUNTED=gu;kr.EXITED=ga;kr.ENTERING=vs;kr.ENTERED=va;kr.EXITING=eg;function UT(i,e){const t=wa(i,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function dV(i,e){const t=UT(i,"transitionDuration"),s=UT(i,"transitionDelay"),o=pA(i,l=>{l.target===i&&(o(),e(l))},t+s)}function mV(i){i.offsetHeight}function pV(i){return i&&"setState"in i?xo.findDOMNode(i):i??null}const gV=gn.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:d,childRef:p,...g},E)=>{const T=C.useRef(null),w=mA(T,p),x=se=>{w(pV(se))},k=se=>M=>{se&&T.current&&se(T.current,M)},$=C.useCallback(k(i),[i]),j=C.useCallback(k(e),[e]),H=C.useCallback(k(t),[t]),ee=C.useCallback(k(s),[s]),Q=C.useCallback(k(o),[o]),re=C.useCallback(k(l),[l]),te=C.useCallback(k(h),[h]);return S.jsx(kr,{ref:E,...g,onEnter:$,onEntered:H,onEntering:j,onExit:ee,onExited:re,onExiting:Q,addEndListener:te,nodeRef:T,children:typeof d=="function"?(se,M)=>d(se,{...M,ref:x}):gn.cloneElement(d,{ref:x})})}),yV={[vs]:"show",[va]:"show"},dy=C.forwardRef(({className:i,children:e,transitionClasses:t={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=C.useCallback((p,g)=>{mV(p),s==null||s(p,g)},[s]);return S.jsx(gV,{ref:l,addEndListener:dV,...h,onEnter:d,childRef:Bf(e),children:(p,g)=>C.cloneElement(e,{...g,className:st("fade",i,e.props.className,yV[p],t[p])})})});dy.displayName="Fade";const vV=["xxl","xl","lg","md","sm","xs"],_V="xs",Ku=C.createContext({prefixes:{},breakpoints:vV,minBreakpoint:_V}),{Consumer:n6,Provider:i6}=Ku;function Ut(i,e){const{prefixes:t}=C.useContext(Ku);return i||t[e]||e}function EV(){const{breakpoints:i}=C.useContext(Ku);return i}function TV(){const{minBreakpoint:i}=C.useContext(Ku);return i}function bV(){const{dir:i}=C.useContext(Ku);return i==="rtl"}const _A=C.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ut(e,"modal-body"),S.jsx(t,{ref:o,className:st(i,e),...s})));_A.displayName="ModalBody";const EA=C.createContext({onHide(){}}),my=C.forwardRef(({bsPrefix:i,className:e,contentClassName:t,centered:s,size:o,fullscreen:l,children:h,scrollable:d,...p},g)=>{i=Ut(i,"modal");const E=`${i}-dialog`,T=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return S.jsx("div",{...p,ref:g,className:st(E,e,o&&`${i}-${o}`,s&&`${E}-centered`,d&&`${E}-scrollable`,l&&T),children:S.jsx("div",{className:st(`${i}-content`,t),children:h})})});my.displayName="ModalDialog";const TA=C.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ut(e,"modal-footer"),S.jsx(t,{ref:o,className:st(i,e),...s})));TA.displayName="ModalFooter";const wV={"aria-label":Ar.string,onClick:Ar.func,variant:Ar.oneOf(["white"])},py=C.forwardRef(({className:i,variant:e,"aria-label":t="Close",...s},o)=>S.jsx("button",{ref:o,type:"button",className:st("btn-close",e&&`btn-close-${e}`,i),"aria-label":t,...s}));py.displayName="CloseButton";py.propTypes=wV;const AV=C.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...l},h)=>{const d=C.useContext(EA),p=Zp(()=>{d==null||d.onHide(),s==null||s()});return S.jsxs("div",{ref:h,...l,children:[o,t&&S.jsx(py,{"aria-label":i,variant:e,onClick:p})]})}),bA=C.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},l)=>(i=Ut(i,"modal-header"),S.jsx(AV,{ref:l,...o,className:st(e,i),closeLabel:t,closeButton:s})));bA.displayName="ModalHeader";const SV=i=>C.forwardRef((e,t)=>S.jsx("div",{...e,ref:t,className:st(e.className,i)})),RV=SV("h4"),wA=C.forwardRef(({className:i,bsPrefix:e,as:t=RV,...s},o)=>(e=Ut(e,"modal-title"),S.jsx(t,{ref:o,className:st(i,e),...s})));wA.displayName="ModalTitle";function CV(i){return S.jsx(dy,{...i,timeout:null})}function IV(i){return S.jsx(dy,{...i,timeout:null})}const AA=C.forwardRef(({bsPrefix:i,className:e,style:t,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=my,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:T=!1,animation:w=!0,backdrop:x=!0,keyboard:k=!0,onEscapeKeyDown:$,onShow:j,onHide:H,container:ee,autoFocus:Q=!0,enforceFocus:re=!0,restoreFocus:te=!0,restoreFocusOptions:se,onEntered:M,onExit:I,onExiting:R,onEnter:D,onEntering:P,onExited:z,backdropClassName:O,manager:nt,...Ze},ae)=>{const[ge,ce]=C.useState({}),[Ve,V]=C.useState(!1),ne=C.useRef(!1),he=C.useRef(!1),ue=C.useRef(null),[oe,Ee]=hk(),we=mA(ae,Ee),Je=Zp(H),De=bV();i=Ut(i,"modal");const Ke=C.useMemo(()=>({onHide:Je}),[Je]);function Oe(){return nt||sV({isRTL:De})}function lt(_e){if(!nl)return;const et=Oe().getScrollbarWidth()>0,_n=_e.scrollHeight>zf(_e).documentElement.clientHeight;ce({paddingRight:et&&!_n?RT():void 0,paddingLeft:!et&&_n?RT():void 0})}const It=Zp(()=>{oe&&lt(oe.dialog)});pk(()=>{Wp(window,"resize",It),ue.current==null||ue.current()});const yt=()=>{ne.current=!0},zt=_e=>{ne.current&&oe&&_e.target===oe.dialog&&(he.current=!0),ne.current=!1},Me=()=>{V(!0),ue.current=pA(oe.dialog,()=>{V(!1)})},nn=_e=>{_e.target===_e.currentTarget&&Me()},vn=_e=>{if(x==="static"){nn(_e);return}if(he.current||_e.target!==_e.currentTarget){he.current=!1;return}H==null||H()},ni=_e=>{k?$==null||$(_e):(_e.preventDefault(),x==="static"&&Me())},yi=(_e,et)=>{_e&&lt(_e),D==null||D(_e,et)},Rn=_e=>{ue.current==null||ue.current(),I==null||I(_e)},ii=(_e,et)=>{P==null||P(_e,et),dA(window,"resize",It)},Us=_e=>{_e&&(_e.style.display=""),z==null||z(_e),Wp(window,"resize",It)},Gi=C.useCallback(_e=>S.jsx("div",{..._e,className:st(`${i}-backdrop`,O,!w&&"show")}),[w,O,i]),Nt={...t,...ge};Nt.display="block";const Vr=_e=>S.jsx("div",{role:"dialog",..._e,style:Nt,className:st(e,i,Ve&&`${i}-static`,!w&&"show"),onClick:x?vn:void 0,onMouseUp:zt,"data-bs-theme":d,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:S.jsx(h,{...Ze,onMouseDown:yt,className:s,contentClassName:o,children:l})});return S.jsx(EA.Provider,{value:Ke,children:S.jsx(Jk,{show:T,ref:we,backdrop:x,container:ee,keyboard:!0,autoFocus:Q,enforceFocus:re,restoreFocus:te,restoreFocusOptions:se,onEscapeKeyDown:ni,onShow:j,onHide:H,onEnter:yi,onEntering:ii,onEntered:M,onExit:Rn,onExiting:R,onExited:Us,manager:Oe(),transition:w?CV:void 0,backdropTransition:w?IV:void 0,renderBackdrop:Gi,renderDialog:Vr})})});AA.displayName="Modal";const Vt=Object.assign(AA,{Body:_A,Header:bA,Title:wA,Footer:TA,Dialog:my,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),NV=["as","disabled"];function xV(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function DV(i){return!i||i.trim()==="#"}function SA({tagName:i,disabled:e,href:t,target:s,rel:o,role:l,onClick:h,tabIndex:d=0,type:p}){i||(t!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const E=w=>{if((e||i==="a"&&DV(t))&&w.preventDefault(),e){w.stopPropagation();return}h==null||h(w)},T=w=>{w.key===" "&&(w.preventDefault(),E(w))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:T},g]}const OV=C.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=xV(i,NV);const[l,{tagName:h}]=SA(Object.assign({tagName:t,disabled:s},o));return S.jsx(h,Object.assign({},o,l,{ref:e}))});OV.displayName="Button";const ks=C.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:l=!1,className:h,...d},p)=>{const g=Ut(e,"btn"),[E,{tagName:T}]=SA({tagName:i,disabled:l,...d}),w=T;return S.jsx(w,{...E,...d,ref:p,disabled:l,className:st(h,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,d.href&&l&&"disabled")})});ks.displayName="Button";function MV(){const{currentUser:i}=ka(),e=Na(),[t,s]=C.useState(""),[o,l]=C.useState(!1),[h,d]=C.useState(""),[p,g]=C.useState(""),[E,T]=C.useState(!1),[w,x]=C.useState(null),[k,$]=C.useState([]);C.useEffect(()=>{if(!i)return;(async()=>{try{const M=await uy(i.uid);$(M)}catch(M){console.error("Error loading groups:",M)}})()},[i]);const j=()=>{console.log("Camera opened (mock)")},H=()=>{l(!0),g(Math.random().toString(36).substring(2,8).toUpperCase())},ee=async()=>{if(!(!i||!h.trim()))try{T(!0),x(null);const se=await nk(h,i.uid);localStorage.setItem("activeGroupId",se),l(!1),e("/health-quest")}catch(se){console.error("Error creating group:",se),x("Failed to create group. Please try again.")}finally{T(!1)}},Q=async()=>{if(!(!i||!t.trim()))try{T(!0),x(null);const se=await rk(t);if(!se){x("Invalid group code. Please check and try again.");return}if(se.members.includes(i.uid)){localStorage.setItem("activeGroupId",se.id),e("/health-quest");return}await sk(se.id,i.uid),localStorage.setItem("activeGroupId",se.id),e("/health-quest")}catch(se){console.error("Error joining group:",se),x("Failed to join group. Please try again.")}finally{T(!1)}},re=()=>{l(!1),d("")},te=()=>{e("/health-quest")};return S.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[S.jsx("div",{className:"card mb-4",children:S.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[S.jsx(hA,{size:24,className:"text-primary",style:{cursor:"pointer"},onClick:te}),S.jsx("h2",{className:"m-0",children:"Join Group"}),S.jsx(fA,{size:24,className:"text-primary",style:{cursor:"pointer"}})]})}),w&&S.jsx("div",{className:"alert alert-danger mb-4",role:"alert",children:w}),k.length>0&&S.jsxs("div",{className:"card mb-4",children:[S.jsx("div",{className:"card-header bg-white",children:S.jsx("h5",{className:"mb-0",children:"Your Groups"})}),S.jsx("div",{className:"list-group list-group-flush",children:k.map(se=>S.jsxs("button",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",onClick:()=>{localStorage.setItem("activeGroupId",se.id),e("/health-quest")},children:[S.jsx("span",{children:se.name}),S.jsxs("span",{className:"badge bg-primary rounded-pill",children:[se.members.length," members"]})]},se.id))})]}),S.jsx("div",{className:"card mb-4",children:S.jsx("div",{className:"card-body",children:S.jsxs("div",{className:"input-group",children:[S.jsx("span",{className:"input-group-text",children:S.jsx(ok,{className:"text-primary"})}),S.jsx("input",{type:"text",className:"form-control",placeholder:"Enter group code",value:t,onChange:se=>s(se.target.value)}),S.jsx("button",{className:"btn btn-primary",onClick:Q,disabled:E||!t.trim(),children:E?"Joining...":"Submit"})]})})}),S.jsxs("div",{className:"position-relative text-center mb-4",children:[S.jsx("hr",{className:"position-absolute w-100 top-50"}),S.jsx("span",{className:"bg-white px-3 position-relative text-muted",children:"OR"})]}),S.jsx("div",{className:"card mb-4 text-center",children:S.jsxs("div",{className:"card-body",children:[S.jsx(lk,{size:100,className:"text-primary mb-3"}),S.jsx("h5",{children:"Scan QR Code"}),S.jsx("button",{className:"btn btn-primary w-100",onClick:j,children:"Open Camera"})]})}),S.jsx("div",{className:"card",children:S.jsxs("div",{className:"card-body text-center",children:[S.jsx("p",{className:"mb-3",children:"Don't have a group to join?"}),S.jsxs("button",{className:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:H,disabled:E,children:[S.jsx(tC,{}),"Create New Group"]})]})}),S.jsxs(Vt,{show:o,onHide:re,children:[S.jsx(Vt.Header,{closeButton:!0,children:S.jsx(Vt.Title,{children:"Create New Group"})}),S.jsxs(Vt.Body,{children:[S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{htmlFor:"groupName",className:"form-label",children:"Group Name"}),S.jsx("input",{type:"text",id:"groupName",className:"form-control",placeholder:"Enter group name",value:h,onChange:se=>d(se.target.value)})]}),S.jsxs("div",{className:"alert alert-info",children:[S.jsx("strong",{children:"Generated Group Code:"})," ",p,S.jsx("p",{className:"small mt-2 mb-0",children:"Share this code with others to let them join your group"})]})]}),S.jsxs(Vt.Footer,{children:[S.jsx(ks,{variant:"secondary",onClick:re,children:"Cancel"}),S.jsx(ks,{variant:"primary",onClick:ee,disabled:E||!h.trim(),children:E?"Creating...":"Create Group"})]})]})]})}function kV(i){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(i)}function VV(i){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(i)}function PV(i){return jt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 0 0-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 0 0-44-44zM184 352V232h64v207.6a91.99 91.99 0 0 1-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"},child:[]}]})(i)}function LV(i,e){return C.Children.toArray(i).some(t=>C.isValidElement(t)&&t.type===e)}function UV({as:i,bsPrefix:e,className:t,...s}){e=Ut(e,"col");const o=EV(),l=TV(),h=[],d=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,T,w;typeof g=="object"&&g!=null?{span:E,offset:T,order:w}=g:E=g;const x=p!==l?`-${p}`:"";E&&h.push(E===!0?`${e}${x}`:`${e}${x}-${E}`),w!=null&&d.push(`order${x}-${w}`),T!=null&&d.push(`offset${x}-${T}`)}),[{...s,className:st(t,...h,...d)},{as:i,bsPrefix:e,spans:h}]}const RA=C.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:l,spans:h}]=UV(i);return S.jsx(o,{...s,ref:e,className:st(t,!h.length&&l)})});RA.displayName="Col";const jV={type:Ar.string,tooltip:Ar.bool,as:Ar.elementType},Ff=C.forwardRef(({as:i="div",className:e,type:t="valid",tooltip:s=!1,...o},l)=>S.jsx(i,{...o,ref:l,className:st(e,`${t}-${s?"tooltip":"feedback"}`)}));Ff.displayName="Feedback";Ff.propTypes=jV;const Or=C.createContext({}),gy=C.forwardRef(({id:i,bsPrefix:e,className:t,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:h="input",...d},p)=>{const{controlId:g}=C.useContext(Or);return e=Ut(e,"form-check-input"),S.jsx(h,{...d,ref:p,type:s,id:i||g,className:st(t,e,o&&"is-valid",l&&"is-invalid")})});gy.displayName="FormCheckInput";const uf=C.forwardRef(({bsPrefix:i,className:e,htmlFor:t,...s},o)=>{const{controlId:l}=C.useContext(Or);return i=Ut(i,"form-check-label"),S.jsx("label",{...s,ref:o,htmlFor:t||l,className:st(e,i)})});uf.displayName="FormCheckLabel";const CA=C.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:h=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:T,style:w,title:x="",type:k="checkbox",label:$,children:j,as:H="input",...ee},Q)=>{e=Ut(e,"form-check"),t=Ut(t,"form-switch");const{controlId:re}=C.useContext(Or),te=C.useMemo(()=>({controlId:i||re}),[re,i]),se=!j&&$!=null&&$!==!1||LV(j,uf),M=S.jsx(gy,{...ee,type:k==="switch"?"checkbox":k,ref:Q,isValid:h,isInvalid:d,disabled:l,as:H});return S.jsx(Or.Provider,{value:te,children:S.jsx("div",{style:w,className:st(T,se&&e,s&&`${e}-inline`,o&&`${e}-reverse`,k==="switch"&&t),children:j||S.jsxs(S.Fragment,{children:[M,se&&S.jsx(uf,{title:x,children:$}),g&&S.jsx(Ff,{type:E,tooltip:p,children:g})]})})})});CA.displayName="FormCheck";const cf=Object.assign(CA,{Input:gy,Label:uf}),IA=C.forwardRef(({bsPrefix:i,type:e,size:t,htmlSize:s,id:o,className:l,isValid:h=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:E="input",...T},w)=>{const{controlId:x}=C.useContext(Or);return i=Ut(i,"form-control"),S.jsx(E,{...T,type:e,size:s,ref:w,readOnly:g,id:o||x,className:st(l,p?`${i}-plaintext`:i,t&&`${i}-${t}`,e==="color"&&`${i}-color`,h&&"is-valid",d&&"is-invalid")})});IA.displayName="FormControl";const zV=Object.assign(IA,{Feedback:Ff}),NA=C.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ut(e,"form-floating"),S.jsx(t,{ref:o,className:st(i,e),...s})));NA.displayName="FormFloating";const yy=C.forwardRef(({controlId:i,as:e="div",...t},s)=>{const o=C.useMemo(()=>({controlId:i}),[i]);return S.jsx(Or.Provider,{value:o,children:S.jsx(e,{...t,ref:s})})});yy.displayName="FormGroup";const xA=C.forwardRef(({as:i="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...h},d)=>{const{controlId:p}=C.useContext(Or);e=Ut(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const E=st(o,e,s&&"visually-hidden",t&&g);return l=l||p,t?S.jsx(RA,{ref:d,as:"label",className:E,htmlFor:l,...h}):S.jsx(i,{ref:d,className:E,htmlFor:l,...h})});xA.displayName="FormLabel";const DA=C.forwardRef(({bsPrefix:i,className:e,id:t,...s},o)=>{const{controlId:l}=C.useContext(Or);return i=Ut(i,"form-range"),S.jsx("input",{...s,type:"range",ref:o,className:st(e,i),id:t||l})});DA.displayName="FormRange";const OA=C.forwardRef(({bsPrefix:i,size:e,htmlSize:t,className:s,isValid:o=!1,isInvalid:l=!1,id:h,...d},p)=>{const{controlId:g}=C.useContext(Or);return i=Ut(i,"form-select"),S.jsx("select",{...d,size:t,ref:p,className:st(s,i,e&&`${i}-${e}`,o&&"is-valid",l&&"is-invalid"),id:h||g})});OA.displayName="FormSelect";const MA=C.forwardRef(({bsPrefix:i,className:e,as:t="small",muted:s,...o},l)=>(i=Ut(i,"form-text"),S.jsx(t,{...o,ref:l,className:st(e,i,s&&"text-muted")})));MA.displayName="FormText";const kA=C.forwardRef((i,e)=>S.jsx(cf,{...i,ref:e,type:"switch"}));kA.displayName="Switch";const BV=Object.assign(kA,{Input:cf.Input,Label:cf.Label}),VA=C.forwardRef(({bsPrefix:i,className:e,children:t,controlId:s,label:o,...l},h)=>(i=Ut(i,"form-floating"),S.jsxs(yy,{ref:h,className:st(e,i),controlId:s,...l,children:[t,S.jsx("label",{htmlFor:s,children:o})]})));VA.displayName="FloatingLabel";const FV={_ref:Ar.any,validated:Ar.bool,as:Ar.elementType},vy=C.forwardRef(({className:i,validated:e,as:t="form",...s},o)=>S.jsx(t,{...s,ref:o,className:st(i,e&&"was-validated")}));vy.displayName="Form";vy.propTypes=FV;const yr=Object.assign(vy,{Group:yy,Control:zV,Floating:NA,Check:cf,Switch:BV,Label:xA,Text:MA,Range:DA,Select:OA,FloatingLabel:VA});function qf({size:i="md",color:e="primary"}){const t={sm:"spinner-border-sm",md:"",lg:"spinner-border-lg"};return S.jsx("div",{className:"d-flex justify-content-center align-items-center p-3",children:S.jsx("div",{className:`spinner-border text-${e} ${t[i]}`,role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}const qV=["/health-quest/avatars/fitness-woman1.jpg","/health-quest/avatars/fitness-man1.jpg","/health-quest/avatars/fitness-woman2.jpg","/health-quest/avatars/fitness-man2.jpg"];function HV({show:i,onHide:e,currentName:t,currentUsername:s,currentAvatar:o,onUpdate:l}){const{currentUser:h}=ka(),[d,p]=C.useState(t),[g,E]=C.useState(s),[T,w]=C.useState(o),[x,k]=C.useState(!1),[$,j]=C.useState(null),[H,ee]=C.useState({});C.useEffect(()=>{i&&(p(t),E(s),w(o),j(null),ee({}))},[i,t,s,o]);const Q=()=>{const te={};return d.trim()||(te.name="Name is required"),g.trim()?g.length<3?te.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(g)||(te.username="Username can only contain letters, numbers, and underscores"):te.username="Username is required",ee(te),Object.keys(te).length===0},re=async()=>{if(h&&Q())try{k(!0),j(null);const te=en(Lt,"users",h.uid);await Cs(te,{name:d.trim(),username:g.trim(),avatarUrl:T}),l(),e()}catch(te){console.error("Error updating profile:",te),j("Failed to update profile. Please try again.")}finally{k(!1)}};return S.jsxs(Vt,{show:i,onHide:e,centered:!0,children:[S.jsx(Vt.Header,{closeButton:!0,children:S.jsx(Vt.Title,{children:"Edit Profile"})}),S.jsxs(Vt.Body,{children:[$&&S.jsx("div",{className:"alert alert-danger mb-3",children:$}),S.jsxs(yr,{children:[S.jsxs("div",{className:"text-center mb-4",children:[S.jsx("h6",{className:"mb-3",children:"Choose an Avatar"}),S.jsx("div",{className:"d-flex justify-content-center gap-3 flex-wrap",children:qV.map((te,se)=>S.jsx("div",{className:`avatar-option ${T===te?"selected":""}`,onClick:()=>w(te),style:{cursor:"pointer",border:T===te?"3px solid #007bff":"3px solid transparent",borderRadius:"50%",padding:"2px",transition:"all 0.2s ease-in-out",transform:T===te?"scale(1.1)":"scale(1)",boxShadow:T===te?"0 0 10px rgba(0,123,255,0.5)":"none"},children:S.jsx("img",{src:te,alt:`Avatar ${se+1}`,style:{width:"70px",height:"70px",borderRadius:"50%",objectFit:"cover",transition:"all 0.2s ease-in-out",filter:T===te?"brightness(1.1)":"brightness(1)"}})},se))})]}),S.jsxs(yr.Group,{className:"mb-3",children:[S.jsx(yr.Label,{children:"Name"}),S.jsx(yr.Control,{type:"text",value:d,onChange:te=>p(te.target.value),placeholder:"Enter your name",isInvalid:!!H.name}),S.jsx(yr.Control.Feedback,{type:"invalid",children:H.name})]}),S.jsxs(yr.Group,{className:"mb-3",children:[S.jsx(yr.Label,{children:"Username"}),S.jsx(yr.Control,{type:"text",value:g,onChange:te=>E(te.target.value),placeholder:"Enter your username",isInvalid:!!H.username}),S.jsx(yr.Control.Feedback,{type:"invalid",children:H.username})]})]})]}),S.jsxs(Vt.Footer,{children:[S.jsx(ks,{variant:"secondary",onClick:e,children:"Cancel"}),S.jsx(ks,{variant:"primary",onClick:re,disabled:x,children:x?S.jsxs(S.Fragment,{children:[S.jsx(qf,{size:"sm"})," Saving..."]}):"Save Changes"})]})]})}function GV({show:i,onHide:e}){const t=Na(),[s,o]=C.useState(!1),[l,h]=C.useState(null),d=async()=>{try{o(!0),h(null),await lA(),t("/health-quest/login")}catch(p){console.error("Error logging out:",p),h("Failed to log out. Please try again.")}finally{o(!1)}};return S.jsxs(Vt,{show:i,onHide:e,centered:!0,children:[S.jsx(Vt.Header,{closeButton:!0,children:S.jsx(Vt.Title,{children:"Settings"})}),S.jsxs(Vt.Body,{children:[l&&S.jsx("div",{className:"alert alert-danger mb-3",children:l}),S.jsx("div",{className:"d-grid gap-2",children:S.jsx(ks,{variant:"outline-danger",onClick:d,disabled:s,children:s?S.jsxs(S.Fragment,{children:[S.jsx(qf,{size:"sm"})," Logging out..."]}):"Logout"})})]})]})}function $V(){const{userData:i,currentUser:e}=ka(),[t,s]=C.useState(!1),[o,l]=C.useState(!1),[h,d]=C.useState(null),[p,g]=C.useState([]),[E,T]=C.useState(!0);return C.useEffect(()=>{(async()=>{if(e)try{T(!0);const x=await JM(e.uid),k=await uy(e.uid);x&&d(x),g(k)}catch(x){console.error("Error loading user data:",x)}finally{T(!1)}})()},[e]),!i||!h?null:E?S.jsx(qf,{size:"lg"}):S.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[S.jsx("div",{className:"card mb-4",children:S.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[S.jsx(hA,{size:24,className:"text-primary",style:{cursor:"pointer"}}),S.jsx("h2",{className:"m-0",children:"Profile"}),S.jsx(fA,{size:24,className:"text-primary",style:{cursor:"pointer"},onClick:()=>l(!0)})]})}),S.jsx("div",{className:"card mb-4",children:S.jsxs("div",{className:"card-body text-center position-relative",children:[S.jsx("button",{className:"btn btn-link position-absolute top-0 end-0 mt-2 me-2",onClick:()=>s(!0),children:"Edit"}),S.jsx("img",{src:i.avatarUrl,alt:"Profile",className:"rounded-circle mb-3",width:100,height:100}),S.jsx("h3",{className:"mb-1",children:i.name}),S.jsx("p",{className:"text-primary",children:i.username})]})}),S.jsxs("div",{className:"row mb-4 g-3",children:[S.jsx("div",{className:"col-4",children:S.jsx("div",{className:"card h-100",children:S.jsxs("div",{className:"card-body text-center",children:[S.jsx("h3",{className:"text-success mb-2",children:h.activeGoals}),S.jsx("div",{className:"text-muted small",children:"Active Goals"})]})})}),S.jsx("div",{className:"col-4",children:S.jsx("div",{className:"card h-100",children:S.jsxs("div",{className:"card-body text-center",children:[S.jsxs("h3",{className:"text-primary mb-2",children:[h.completion,"%"]}),S.jsx("div",{className:"text-muted small",children:"Completion"})]})})}),S.jsx("div",{className:"col-4",children:S.jsx("div",{className:"card h-100",children:S.jsxs("div",{className:"card-body text-center",children:[S.jsx("h3",{className:"text-warning mb-2",children:h.totalGroups}),S.jsx("div",{className:"text-muted small",children:"Groups"})]})})})]}),S.jsxs("div",{className:"card mb-4",children:[S.jsx("div",{className:"card-header bg-white",children:S.jsx("h5",{className:"mb-0",children:"My Groups"})}),S.jsx("div",{className:"list-group list-group-flush",children:p.map(w=>S.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[S.jsxs("div",{className:"d-flex align-items-center",children:[w.icon==="family"?S.jsx(X2,{size:24,className:"text-primary me-2"}):S.jsx(kV,{size:24,className:"text-danger me-2"}),S.jsx("span",{children:w.name})]}),S.jsxs("div",{children:[S.jsxs("span",{className:"badge bg-primary me-2",children:[w.members.length," members"]}),S.jsx("span",{className:"badge bg-success",children:w.status})]})]},w.id))})]}),S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"card-header bg-white",children:S.jsx("h5",{className:"mb-0",children:"Lifetime Stats"})}),S.jsxs("div",{className:"list-group list-group-flush",children:[S.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[S.jsx(PV,{className:"text-warning me-3",size:28}),S.jsxs("div",{children:[S.jsx("div",{className:"fw-bold",children:"Goals Completed"}),S.jsx("div",{className:"text-success",children:h.goalsCompleted})]})]}),S.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[S.jsx(VV,{className:"text-danger me-3",size:28}),S.jsxs("div",{children:[S.jsx("div",{className:"fw-bold",children:"Workout Sessions"}),S.jsx("div",{className:"text-success",children:h.workoutSessions})]})]}),S.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[S.jsx(nC,{className:"text-primary me-3",size:28}),S.jsxs("div",{children:[S.jsx("div",{className:"fw-bold",children:"Healthy Meals"}),S.jsx("div",{className:"text-success",children:h.healthyMeals})]})]})]})]}),S.jsx(HV,{show:t,onHide:()=>s(!1),currentName:i.name,currentUsername:i.username,currentAvatar:i.avatarUrl,onUpdate:()=>{window.location.reload()}}),S.jsx(GV,{show:o,onHide:()=>l(!1)})]})}function KV(i){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",x2:"4",y1:"22",y2:"15"},child:[]}]})(i)}function QV(i){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,13 C14.209139,13 16,11.209139 16,9 C16,6.790861 14.209139,5 12,5 C9.790861,5 8,6.790861 8,9 C8,11.209139 9.790861,13 12,13 Z M6,22 L6,19 C6,15.6862915 8.6862915,13 12,13 C15.3137085,13 18,15.6862915 18,19 L18,22 M13,5 C13.4037285,3.33566165 15.0151447,2 17,2 C19.172216,2 20.98052,3.790861 21,6 C20.98052,8.209139 19.172216,10 17,10 L16,10 L17,10 C20.287544,10 23,12.6862915 23,16 L23,18 M11,5 C10.5962715,3.33566165 8.98485529,2 7,2 C4.82778404,2 3.01948003,3.790861 3,6 C3.01948003,8.209139 4.82778404,10 7,10 L8,10 L7,10 C3.71245602,10 1,12.6862915 1,16 L1,18"},child:[]}]})(i)}function YV(i){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2.5a5.5 5.5 0 0 1 3.096 10.047 9.005 9.005 0 0 1 5.9 8.181.75.75 0 1 1-1.499.044 7.5 7.5 0 0 0-14.993 0 .75.75 0 0 1-1.5-.045 9.005 9.005 0 0 1 5.9-8.18A5.5 5.5 0 0 1 12 2.5ZM8 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"},child:[]}]})(i)}function XV({show:i,onHide:e,onConfirm:t}){return S.jsxs(Vt,{show:i,onHide:e,centered:!0,children:[S.jsx(Vt.Header,{closeButton:!0,children:S.jsx(Vt.Title,{children:"Confirm Logout"})}),S.jsx(Vt.Body,{children:"Are you sure you want to log out?"}),S.jsxs(Vt.Footer,{children:[S.jsx(ks,{variant:"secondary",onClick:e,children:"Cancel"}),S.jsx(ks,{variant:"primary",onClick:t,children:"Logout"})]})]})}function WV(){var h,d;const[i,e]=C.useState(!1),t=Na(),s=Mr(),o=/\/health-quest\/(\w+)/,l=async()=>{try{await lA(),t("/health-quest/login")}catch(p){console.error("Error logging out:",p)}};return S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"container",children:S.jsxs("div",{className:"row navbar",children:[S.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{borderRight:"2px solid lightgray",color:((h=s.pathname.match(o))==null?void 0:h[1])=="profile"?"green":"black"},children:S.jsx(YV,{onClick:()=>{t("/health-quest/profile")},className:"navbar-icon"})}),S.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{borderRight:"2px solid lightgray",color:s.pathname=="/health-quest/"?"green":"black"},children:S.jsx(KV,{onClick:()=>{t("/health-quest/")},className:"navbar-icon"})}),S.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{color:((d=s.pathname.match(o))==null?void 0:d[1])=="group"?"green":"black"},children:S.jsx(QV,{onClick:()=>{t("/health-quest/group")},className:"navbar-icon"})})]})}),S.jsx(XV,{show:i,onHide:()=>e(!1),onConfirm:()=>{l(),e(!1)}})]})}function ZV(){const i=Na(),[e,t]=C.useState(null),[s,o]=C.useState(!1),{isAuthenticated:l}=ka();C.useEffect(()=>{l&&i("/health-quest")},[l,i]);const h=async()=>{try{t(null),o(!0),await YM()}catch(d){console.error("Error logging in:",d),t("Failed to sign in. Please try again.")}finally{o(!1)}};return S.jsx("div",{className:"container mt-5",children:S.jsx("div",{className:"row justify-content-center",children:S.jsxs("div",{className:"col-md-6 text-center",children:[S.jsx("h2",{className:"mb-4",children:"Welcome to Health Quest"}),e&&S.jsx("div",{className:"alert alert-danger mb-3",role:"alert",children:e}),S.jsx("button",{className:"btn btn-primary",onClick:h,disabled:s,children:s?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Signing in..."]}):"Sign in with Google"})]})})})}function _p({children:i}){const{isAuthenticated:e,loading:t}=ka();return t?S.jsx(qf,{size:"lg"}):e?S.jsx(S.Fragment,{children:i}):S.jsx(r2,{to:"/health-quest/login"})}function JV(){const{currentUser:i,loading:e}=ka();return e?S.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:S.jsx("div",{className:"spinner-border text-primary",role:"status",children:S.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):S.jsxs(N2,{children:[S.jsxs(a2,{children:[S.jsx(hu,{path:"/health-quest/login",element:S.jsx(ZV,{})}),S.jsx(hu,{path:"/health-quest",element:S.jsx(_p,{children:S.jsx(ak,{})})}),S.jsx(hu,{path:"/health-quest/profile",element:S.jsx(_p,{children:S.jsx($V,{})})}),S.jsx(hu,{path:"/health-quest/group",element:S.jsx(_p,{children:S.jsx(MV,{})})})]}),i&&S.jsx(WV,{})]})}pR.createRoot(document.getElementById("root")).render(S.jsx(gn.StrictMode,{children:S.jsx(WM,{children:S.jsx(JV,{})})}));
