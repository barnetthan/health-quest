(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Uo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Dm={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function jS(){if(u0)return tu;u0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return tu.Fragment=e,tu.jsx=t,tu.jsxs=t,tu}var c0;function zS(){return c0||(c0=1,Dm.exports=jS()),Dm.exports}var I=zS(),Om={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function BS(){if(h0)return Ie;h0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,$={};function j(k,ee,he){this.props=k,this.context=ee,this.refs=$,this.updater=he||x}j.prototype.isReactComponent={},j.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function G(){}G.prototype=j.prototype;function te(k,ee,he){this.props=k,this.context=ee,this.refs=$,this.updater=he||x}var Y=te.prototype=new G;Y.constructor=te,V(Y,j.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray,ae={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function M(k,ee,he,ue,oe,Ee){return he=Ee.ref,{$$typeof:i,type:k,key:ee,ref:he!==void 0?he:null,props:Ee}}function R(k,ee){return M(k.type,ee,void 0,void 0,void 0,k.props)}function S(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function N(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(he){return ee[he]})}var P=/\/+/g;function z(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):ee.toString(36)}function D(){}function nt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(D,D):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ze(k,ee,he,ue,oe){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var we=!1;if(k===null)we=!0;else switch(Ee){case"bigint":case"string":case"number":we=!0;break;case"object":switch(k.$$typeof){case i:case e:we=!0;break;case E:return we=k._init,Ze(we(k._payload),ee,he,ue,oe)}}if(we)return oe=oe(k),we=ue===""?"."+z(k,0):ue,ie(oe)?(he="",we!=null&&(he=we.replace(P,"$&/")+"/"),Ze(oe,ee,he,"",function(Ke){return Ke})):oe!=null&&(S(oe)&&(oe=R(oe,he+(oe.key==null||k&&k.key===oe.key?"":(""+oe.key).replace(P,"$&/")+"/")+we)),ee.push(oe)),1;we=0;var Je=ue===""?".":ue+":";if(ie(k))for(var Oe=0;Oe<k.length;Oe++)ue=k[Oe],Ee=Je+z(ue,Oe),we+=Ze(ue,ee,he,Ee,oe);else if(Oe=A(k),typeof Oe=="function")for(k=Oe.call(k),Oe=0;!(ue=k.next()).done;)ue=ue.value,Ee=Je+z(ue,Oe++),we+=Ze(ue,ee,he,Ee,oe);else if(Ee==="object"){if(typeof k.then=="function")return Ze(nt(k),ee,he,ue,oe);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function se(k,ee,he){if(k==null)return k;var ue=[],oe=0;return Ze(k,ue,"","",function(Ee){return ee.call(he,Ee,oe++)}),ue}function ge(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(he){(k._status===0||k._status===-1)&&(k._status=1,k._result=he)},function(he){(k._status===0||k._status===-1)&&(k._status=2,k._result=he)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ve(){}return Ie.Children={map:se,forEach:function(k,ee,he){se(k,function(){ee.apply(this,arguments)},he)},count:function(k){var ee=0;return se(k,function(){ee++}),ee},toArray:function(k){return se(k,function(ee){return ee})||[]},only:function(k){if(!S(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=j,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=te,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ie.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,ee,he){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=V({},k.props),oe=k.key,Ee=void 0;if(ee!=null)for(we in ee.ref!==void 0&&(Ee=void 0),ee.key!==void 0&&(oe=""+ee.key),ee)!re.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(ue[we]=ee[we]);var we=arguments.length-2;if(we===1)ue.children=he;else if(1<we){for(var Je=Array(we),Oe=0;Oe<we;Oe++)Je[Oe]=arguments[Oe+2];ue.children=Je}return M(k.type,oe,void 0,void 0,Ee,ue)},Ie.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Ie.createElement=function(k,ee,he){var ue,oe={},Ee=null;if(ee!=null)for(ue in ee.key!==void 0&&(Ee=""+ee.key),ee)re.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(oe[ue]=ee[ue]);var we=arguments.length-2;if(we===1)oe.children=he;else if(1<we){for(var Je=Array(we),Oe=0;Oe<we;Oe++)Je[Oe]=arguments[Oe+2];oe.children=Je}if(k&&k.defaultProps)for(ue in we=k.defaultProps,we)oe[ue]===void 0&&(oe[ue]=we[ue]);return M(k,Ee,void 0,void 0,null,oe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:d,render:k}},Ie.isValidElement=S,Ie.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ge}},Ie.memo=function(k,ee){return{$$typeof:g,type:k,compare:ee===void 0?null:ee}},Ie.startTransition=function(k){var ee=ae.T,he={};ae.T=he;try{var ue=k(),oe=ae.S;oe!==null&&oe(he,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ve,ce)}catch(Ee){ce(Ee)}finally{ae.T=ee}},Ie.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ie.use=function(k){return ae.H.use(k)},Ie.useActionState=function(k,ee,he){return ae.H.useActionState(k,ee,he)},Ie.useCallback=function(k,ee){return ae.H.useCallback(k,ee)},Ie.useContext=function(k){return ae.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,ee){return ae.H.useDeferredValue(k,ee)},Ie.useEffect=function(k,ee){return ae.H.useEffect(k,ee)},Ie.useId=function(){return ae.H.useId()},Ie.useImperativeHandle=function(k,ee,he){return ae.H.useImperativeHandle(k,ee,he)},Ie.useInsertionEffect=function(k,ee){return ae.H.useInsertionEffect(k,ee)},Ie.useLayoutEffect=function(k,ee){return ae.H.useLayoutEffect(k,ee)},Ie.useMemo=function(k,ee){return ae.H.useMemo(k,ee)},Ie.useOptimistic=function(k,ee){return ae.H.useOptimistic(k,ee)},Ie.useReducer=function(k,ee,he){return ae.H.useReducer(k,ee,he)},Ie.useRef=function(k){return ae.H.useRef(k)},Ie.useState=function(k){return ae.H.useState(k)},Ie.useSyncExternalStore=function(k,ee,he){return ae.H.useSyncExternalStore(k,ee,he)},Ie.useTransition=function(){return ae.H.useTransition()},Ie.version="19.0.0",Ie}var f0;function tf(){return f0||(f0=1,Om.exports=BS()),Om.exports}var O=tf();const fn=Uo(O);var xm={exports:{}},nu={},Mm={exports:{}},km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function qS(){return d0||(d0=1,function(i){function e(se,ge){var ce=se.length;se.push(ge);e:for(;0<ce;){var Ve=ce-1>>>1,k=se[Ve];if(0<o(k,ge))se[Ve]=ge,se[ce]=k,ce=Ve;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var ge=se[0],ce=se.pop();if(ce!==ge){se[0]=ce;e:for(var Ve=0,k=se.length,ee=k>>>1;Ve<ee;){var he=2*(Ve+1)-1,ue=se[he],oe=he+1,Ee=se[oe];if(0>o(ue,ce))oe<k&&0>o(Ee,ue)?(se[Ve]=Ee,se[oe]=ce,Ve=oe):(se[Ve]=ue,se[he]=ce,Ve=he);else if(oe<k&&0>o(Ee,ce))se[Ve]=Ee,se[oe]=ce,Ve=oe;else break e}}return ge}function o(se,ge){var ce=se.sortIndex-ge.sortIndex;return ce!==0?ce:se.id-ge.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,b=null,A=3,x=!1,V=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Y(se){for(var ge=t(g);ge!==null;){if(ge.callback===null)s(g);else if(ge.startTime<=se)s(g),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(g)}}function ie(se){if($=!1,Y(se),!V)if(t(p)!==null)V=!0,nt();else{var ge=t(g);ge!==null&&Ze(ie,ge.startTime-se)}}var ae=!1,re=-1,M=5,R=-1;function S(){return!(i.unstable_now()-R<M)}function N(){if(ae){var se=i.unstable_now();R=se;var ge=!0;try{e:{V=!1,$&&($=!1,G(re),re=-1),x=!0;var ce=A;try{t:{for(Y(se),b=t(p);b!==null&&!(b.expirationTime>se&&S());){var Ve=b.callback;if(typeof Ve=="function"){b.callback=null,A=b.priorityLevel;var k=Ve(b.expirationTime<=se);if(se=i.unstable_now(),typeof k=="function"){b.callback=k,Y(se),ge=!0;break t}b===t(p)&&s(p),Y(se)}else s(p);b=t(p)}if(b!==null)ge=!0;else{var ee=t(g);ee!==null&&Ze(ie,ee.startTime-se),ge=!1}}break e}finally{b=null,A=ce,x=!1}ge=void 0}}finally{ge?P():ae=!1}}}var P;if(typeof te=="function")P=function(){te(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=N,P=function(){D.postMessage(null)}}else P=function(){j(N,0)};function nt(){ae||(ae=!0,P())}function Ze(se,ge){re=j(function(){se(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(se){se.callback=null},i.unstable_continueExecution=function(){V||x||(V=!0,nt())},i.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<se?Math.floor(1e3/se):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(se){switch(A){case 1:case 2:case 3:var ge=3;break;default:ge=A}var ce=A;A=ge;try{return se()}finally{A=ce}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ce=A;A=se;try{return ge()}finally{A=ce}},i.unstable_scheduleCallback=function(se,ge,ce){var Ve=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ve+ce:Ve):ce=Ve,se){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ce+k,se={id:E++,callback:ge,priorityLevel:se,startTime:ce,expirationTime:k,sortIndex:-1},ce>Ve?(se.sortIndex=ce,e(g,se),t(p)===null&&se===t(g)&&($?(G(re),re=-1):$=!0,Ze(ie,ce-Ve))):(se.sortIndex=k,e(p,se),V||x||(V=!0,nt())),se},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(se){var ge=A;return function(){var ce=A;A=ge;try{return se.apply(this,arguments)}finally{A=ce}}}}(km)),km}var m0;function HS(){return m0||(m0=1,Mm.exports=qS()),Mm.exports}var Vm={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function FS(){if(p0)return tn;p0=1;var i=tf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,E)},tn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.0.0",tn}var g0;function IT(){if(g0)return Vm.exports;g0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Vm.exports=FS(),Vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function GS(){if(y0)return nu;y0=1;var i=HS(),e=tf(),t=IT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),x=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),ie=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function R(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Provider";case A:return(n._context.displayName||"Context")+".Consumer";case V:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return r=n.displayName||null,r!==null?r:R(n.type)||"Memo";case te:r=n._payload,n=n._init;try{return R(n(r))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,P,z;function D(n){if(P===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);P=r&&r[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+n+z}var nt=!1;function Ze(n,r){if(!n||nt)return"";nt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var F=Q}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Q){F=Q}n.call(ne.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var C=_.split(`
`),U=T.split(`
`);for(f=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(u===C.length||f===U.length)for(u=C.length-1,f=U.length-1;1<=u&&0<=f&&C[u]!==U[f];)f--;for(;1<=u&&0<=f;u--,f--)if(C[u]!==U[f]){if(u!==1||f!==1)do if(u--,f--,0>f||C[u]!==U[f]){var X=`
`+C[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=f);break}}}finally{nt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?D(a):""}function se(n){switch(n.tag){case 26:case 27:case 5:return D(n.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return n=Ze(n.type,!1),n;case 11:return n=Ze(n.type.render,!1),n;case 1:return n=Ze(n.type,!0),n;default:return""}}function ge(n){try{var r="";do r+=se(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ce(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Ve(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function k(n){if(ce(n)!==n)throw Error(s(188))}function ee(n){var r=n.alternate;if(!r){if(r=ce(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return k(f),n;if(m===u)return k(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,u=m;break}if(T===u){_=!0,u=f,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,u=f;break}if(T===u){_=!0,u=m,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function he(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=he(n),r!==null)return r;n=n.sibling}return null}var ue=Array.isArray,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},we=[],Je=-1;function Oe(n){return{current:n}}function Ke(n){0>Je||(n.current=we[Je],we[Je]=null,Je--)}function xe(n,r){Je++,we[Je]=n.current,n.current=r}var ot=Oe(null),Rt=Oe(null),gt=Oe(null),Pt=Oe(null);function Me(n,r){switch(xe(gt,r),xe(Rt,n),xe(ot,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?U_(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=U_(n),r=j_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ke(ot),xe(ot,r)}function Zt(){Ke(ot),Ke(Rt),Ke(gt)}function pn(n){n.memoizedState!==null&&xe(Pt,n);var r=ot.current,a=j_(r,n.type);r!==a&&(xe(Rt,n),xe(ot,a))}function ei(n){Rt.current===n&&(Ke(ot),Ke(Rt)),Pt.current===n&&(Ke(Pt),Xl._currentValue=Ee)}var pi=Object.prototype.hasOwnProperty,wn=i.unstable_scheduleCallback,ti=i.unstable_cancelCallback,Os=i.unstable_shouldYield,Hi=i.unstable_requestPaint,Ct=i.unstable_now,Dr=i.unstable_getCurrentPriorityLevel,_e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,gn=i.unstable_NormalPriority,Fi=i.unstable_LowPriority,Mn=i.unstable_IdlePriority,Zo=i.log,gi=i.unstable_setDisableYieldValue,Or=null,Jt=null;function Jo(n){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Or,n,void 0,(n.current.flags&128)===128)}catch{}}function yi(n){if(typeof Zo=="function"&&gi(n),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Or,n)}catch{}}var on=Math.clz32?Math.clz32:Hu,el=Math.log,qu=Math.LN2;function Hu(n){return n>>>=0,n===0?32:31-(el(n)/qu|0)|0}var vi=128,xr=4194304;function ni(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function kn(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?u=ni(a):(m&=T,m!==0?u=ni(m):n||(_=T&~_,_!==0&&(u=ni(_))))):(T=a&~f,T!==0?u=ni(T):m!==0?u=ni(m):n||(_=a&~_,_!==0&&(u=ni(_)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,_=r&-r,f>=_||f===32&&(_&4194176)!==0)?r:u}function Mr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ia(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tl(){var n=vi;return vi<<=1,(vi&4194176)===0&&(vi=128),n}function kr(){var n=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),n}function Na(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function yt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Fu(n,r,a,u,f,m){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,U=n.hiddenUpdates;for(a=_&~a;0<a;){var X=31-on(a),ne=1<<X;T[X]=0,C[X]=-1;var F=U[X];if(F!==null)for(U[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~ne}u!==0&&Vr(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~r))}function Vr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-on(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function Pr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-on(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Gu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function $u(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:i0(n.type))}function Lr(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var _i=Math.random().toString(36).slice(2),Lt="__reactFiber$"+_i,It="__reactProps$"+_i,Gi="__reactContainer$"+_i,xs="__reactEvents$"+_i,Da="__reactListeners$"+_i,Ei="__reactHandles$"+_i,nl="__reactResources$"+_i,Ur="__reactMarker$"+_i;function Ms(n){delete n[Lt],delete n[It],delete n[xs],delete n[Da],delete n[Ei]}function ii(n){var r=n[Lt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Gi]||a[Lt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=q_(n);n!==null;){if(a=n[Lt])return a;n=q_(n)}return r}n=a,a=n.parentNode}return null}function $i(n){if(n=n[Lt]||n[Gi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function jr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function zr(n){var r=n[nl];return r||(r=n[nl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function lt(n){n[Ur]=!0}var il=new Set,Oa={};function An(n,r){yn(n,r),yn(n+"Capture",r)}function yn(n,r){for(Oa[n]=r,n=0;n<r.length;n++)il.add(r[n])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},sl={};function Ku(n){return pi.call(sl,n)?!0:pi.call(rl,n)?!1:kf.test(n)?sl[n]=!0:(rl[n]=!0,!1)}function Br(n,r,a){if(Ku(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function qr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Vn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Vf(n){var r=Qu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ks(n){n._valueTracker||(n._valueTracker=Vf(n))}function al(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Qu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function xa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ki=/[\n"\\]/g;function ft(n){return n.replace(Ki,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Hr(n,r,a,u,f,m,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+ln(r)):n.value!==""+ln(r)&&(n.value=""+ln(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?Ma(n,_,ln(r)):a!=null?Ma(n,_,ln(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+ln(T):n.removeAttribute("name")}function Vs(n,r,a,u,f,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+ln(a):"",r=r!=null?""+ln(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Ma(n,r,a){r==="number"&&xa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fe(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+ln(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ps(n,r,a){if(r!=null&&(r=""+ln(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+ln(a):""}function Fr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(ue(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=ln(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Pn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||Pf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Yu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&ol(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&ol(n,m,r[m])}function ll(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(n){return Uf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ln=null;function ka(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Yi=null;function Xi(n){var r=$i(n);if(r&&(n=r.stateNode)){var a=n[It]||null;e:switch(n=r.stateNode,r.type){case"input":if(Hr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ft(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[It]||null;if(!f)throw Error(s(90));Hr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&al(u)}break e;case"textarea":Ps(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fe(n,!!a.multiple,r,!1)}}}var ul=!1;function Xu(n,r,a){if(ul)return n(r,a);ul=!0;try{var u=n(r);return u}finally{if(ul=!1,(Qi!==null||Yi!==null)&&(Bc(),Qi&&(r=Qi,n=Yi,Yi=Qi=null,Xi(r),n)))for(r=0;r<n.length;r++)Xi(n[r])}}function Ls(n,r){var a=n.stateNode;if(a===null)return null;var u=a[It]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!1;if(Sn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Un=!1}var bi=null,Gr=null,Wi=null;function cl(){if(Wi)return Wi;var n,r=Gr,a=r.length,u,f="value"in bi?bi.value:bi.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(u=1;u<=_&&r[a-u]===f[m-u];u++);return Wi=f.slice(n,1<u?1-u:void 0)}function wi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ai(){return!0}function hl(){return!1}function Ut(n){function r(a,u,f,m,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ai:hl,this.isPropagationStopped=hl,this}return N(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),r}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Va=Ut(Qe),js=N({},Qe,{view:0,detail:0}),Wu=Ut(js),Pa,La,Si,zs=N({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Si&&(Si&&n.type==="mousemove"?(Pa=n.screenX-Si.screenX,La=n.screenY-Si.screenY):La=Pa=0,Si=n),Pa)},movementY:function(n){return"movementY"in n?n.movementY:La}}),jn=Ut(zs),Zu=N({},zs,{dataTransfer:0}),jf=Ut(Zu),Bs=N({},js,{relatedTarget:0}),Ua=Ut(Bs),fl=N({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Ut(fl),Ju=N({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),za=Ut(Ju),zf=N({},Qe,{data:0}),dl=Ut(zf),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=tc[n])?!!r[n]:!1}function Hs(){return ml}var nc=N({},js,{key:function(n){if(n.key){var r=qs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=wi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ec[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(n){return n.type==="keypress"?wi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ba=Ut(nc),ic=N({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Ut(ic),Zi=N({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),rc=Ut(Zi),sc=N({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ac=Ut(sc),oc=N({},zs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Ut(oc),un=N({},Qe,{newState:0,oldState:0}),lc=Ut(un),uc=[9,13,27,32],Ri=Sn&&"CompositionEvent"in window,c=null;Sn&&"documentMode"in document&&(c=document.documentMode);var y=Sn&&"TextEvent"in window&&!c,v=Sn&&(!Ri||c&&8<c&&11>=c),w=" ",q=!1;function K(n,r){switch(n){case"keyup":return uc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function Nt(n,r){switch(n){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(q=!0,w);case"textInput":return n=r.data,n===w&&q?null:n;default:return null}}function Be(n,r){if(ze)return n==="compositionend"||!Ri&&K(n,r)?(n=cl(),Wi=Gr=bi=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!jt[n.type]:r==="textarea"}function Ji(n,r,a,u){Qi?Yi?Yi.push(u):Yi=[u]:Qi=u,r=$c(r,"onChange"),0<r.length&&(a=new Va("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var Ft=null,Ci=null;function gl(n){M_(n,0)}function cc(n){var r=jr(n);if(al(r))return n}function ly(n,r){if(n==="change")return r}var uy=!1;if(Sn){var Bf;if(Sn){var qf="oninput"in document;if(!qf){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),qf=typeof cy.oninput=="function"}Bf=qf}else Bf=!1;uy=Bf&&(!document.documentMode||9<document.documentMode)}function hy(){Ft&&(Ft.detachEvent("onpropertychange",fy),Ci=Ft=null)}function fy(n){if(n.propertyName==="value"&&cc(Ci)){var r=[];Ji(r,Ci,n,ka(n)),Xu(gl,r)}}function pA(n,r,a){n==="focusin"?(hy(),Ft=r,Ci=a,Ft.attachEvent("onpropertychange",fy)):n==="focusout"&&hy()}function gA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cc(Ci)}function yA(n,r){if(n==="click")return cc(r)}function vA(n,r){if(n==="input"||n==="change")return cc(r)}function _A(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rn=typeof Object.is=="function"?Object.is:_A;function yl(n,r){if(Rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!pi.call(r,f)||!Rn(n[f],r[f]))return!1}return!0}function dy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function my(n,r){var a=dy(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dy(a)}}function py(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?py(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function gy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=xa(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=xa(n.document)}return r}function Hf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function EA(n,r){var a=gy(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&py(r.ownerDocument.documentElement,r)){if(u!==null&&Hf(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=my(r,m);var _=my(r,u);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var TA=Sn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Ff=null,vl=null,Gf=!1;function yy(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gf||Ha==null||Ha!==xa(u)||(u=Ha,"selectionStart"in u&&Hf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),vl&&yl(vl,u)||(vl=u,u=$c(Ff,"onSelect"),0<u.length&&(r=new Va("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=Ha)))}function Fs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Fa={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},$f={},vy={};Sn&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Gs(n){if($f[n])return $f[n];if(!Fa[n])return n;var r=Fa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in vy)return $f[n]=r[a];return n}var _y=Gs("animationend"),Ey=Gs("animationiteration"),Ty=Gs("animationstart"),bA=Gs("transitionrun"),wA=Gs("transitionstart"),AA=Gs("transitioncancel"),by=Gs("transitionend"),wy=new Map,Ay="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ri(n,r){wy.set(n,r),An(r,[n])}var zn=[],Ga=0,Kf=0;function hc(){for(var n=Ga,r=Kf=Ga=0;r<n;){var a=zn[r];zn[r++]=null;var u=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var m=zn[r];if(zn[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&Sy(a,f,m)}}function fc(n,r,a,u){zn[Ga++]=n,zn[Ga++]=r,zn[Ga++]=a,zn[Ga++]=u,Kf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Qf(n,r,a,u){return fc(n,r,a,u),dc(n)}function $r(n,r){return fc(n,null,null,r),dc(n)}function Sy(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-on(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function dc(n){if(50<Hl)throw Hl=0,em=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var $a={},Ry=new WeakMap;function Bn(n,r){if(typeof n=="object"&&n!==null){var a=Ry.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ge(r)},Ry.set(n,r),r)}return{value:n,source:r,stack:ge(r)}}var Ka=[],Qa=0,mc=null,pc=0,qn=[],Hn=0,$s=null,er=1,tr="";function Ks(n,r){Ka[Qa++]=pc,Ka[Qa++]=mc,mc=n,pc=r}function Cy(n,r,a){qn[Hn++]=er,qn[Hn++]=tr,qn[Hn++]=$s,$s=n;var u=er;n=tr;var f=32-on(u)-1;u&=~(1<<f),a+=1;var m=32-on(r)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,er=1<<32-on(r)+f|a<<f|u,tr=m+n}else er=1<<m|a<<f|u,tr=n}function Yf(n){n.return!==null&&(Ks(n,1),Cy(n,1,0))}function Xf(n){for(;n===mc;)mc=Ka[--Qa],Ka[Qa]=null,pc=Ka[--Qa],Ka[Qa]=null;for(;n===$s;)$s=qn[--Hn],qn[Hn]=null,tr=qn[--Hn],qn[Hn]=null,er=qn[--Hn],qn[Hn]=null}var cn=null,Gt=null,Ge=!1,si=null,Ii=!1,Wf=Error(s(519));function Qs(n){var r=Error(s(418,""));throw Tl(Bn(r,n)),Wf}function Iy(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Lt]=n,r[It]=u,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Gl.length;a++)je(Gl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Vs(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ks(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Fr(r,u.value,u.defaultValue,u.children),ks(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||L_(r.textContent,a)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=Kc),r=!0):r=!1,r||Qs(n)}function Ny(n){for(cn=n.return;cn;)switch(cn.tag){case 3:case 27:Ii=!0;return;case 5:case 13:Ii=!1;return;default:cn=cn.return}}function _l(n){if(n!==cn)return!1;if(!Ge)return Ny(n),Ge=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||ym(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Gt&&Qs(n),Ny(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Gt=oi(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Gt=null}}else Gt=cn?oi(n.stateNode.nextSibling):null;return!0}function El(){Gt=cn=null,Ge=!1}function Tl(n){si===null?si=[n]:si.push(n)}var bl=Error(s(460)),Dy=Error(s(474)),Zf={then:function(){}};function Oy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gc(){}function xy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(gc,gc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===bl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(gc,gc);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===bl?Error(s(483)):n}throw wl=r,bl}}var wl=null;function My(){if(wl===null)throw Error(s(459));var n=wl;return wl=null,n}var Ya=null,Al=0;function yc(n){var r=Al;return Al+=1,Ya===null&&(Ya=[]),xy(Ya,n,r)}function Sl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function vc(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ky(n){var r=n._init;return r(n._payload)}function Vy(n){function r(B,L){if(n){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=rs(B,L),B.index=0,B.sibling=null,B}function m(B,L,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=33554434,L):H):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function _(B){return n&&B.alternate===null&&(B.flags|=33554434),B}function T(B,L,H,W){return L===null||L.tag!==6?(L=$d(H,B.mode,W),L.return=B,L):(L=f(L,H),L.return=B,L)}function C(B,L,H,W){var me=H.type;return me===p?X(B,L,H.props.children,W,H.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===te&&ky(me)===L.type)?(L=f(L,H.props),Sl(L,H),L.return=B,L):(L=Pc(H.type,H.key,H.props,null,B.mode,W),Sl(L,H),L.return=B,L)}function U(B,L,H,W){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Kd(H,B.mode,W),L.return=B,L):(L=f(L,H.children||[]),L.return=B,L)}function X(B,L,H,W,me){return L===null||L.tag!==7?(L=ra(H,B.mode,W,me),L.return=B,L):(L=f(L,H),L.return=B,L)}function ne(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=$d(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return H=Pc(L.type,L.key,L.props,null,B.mode,H),Sl(H,L),H.return=B,H;case d:return L=Kd(L,B.mode,H),L.return=B,L;case te:var W=L._init;return L=W(L._payload),ne(B,L,H)}if(ue(L)||re(L))return L=ra(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return ne(B,yc(L),H);if(L.$$typeof===x)return ne(B,Mc(B,L),H);vc(B,L)}return null}function F(B,L,H,W){var me=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:T(B,L,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return H.key===me?C(B,L,H,W):null;case d:return H.key===me?U(B,L,H,W):null;case te:return me=H._init,H=me(H._payload),F(B,L,H,W)}if(ue(H)||re(H))return me!==null?null:X(B,L,H,W,null);if(typeof H.then=="function")return F(B,L,yc(H),W);if(H.$$typeof===x)return F(B,L,Mc(B,H),W);vc(B,H)}return null}function Q(B,L,H,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(H)||null,T(L,B,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return B=B.get(W.key===null?H:W.key)||null,C(L,B,W,me);case d:return B=B.get(W.key===null?H:W.key)||null,U(L,B,W,me);case te:var ke=W._init;return W=ke(W._payload),Q(B,L,H,W,me)}if(ue(W)||re(W))return B=B.get(H)||null,X(L,B,W,me,null);if(typeof W.then=="function")return Q(B,L,H,yc(W),me);if(W.$$typeof===x)return Q(B,L,H,Mc(L,W),me);vc(L,W)}return null}function pe(B,L,H,W){for(var me=null,ke=null,ye=L,Te=L=0,qt=null;ye!==null&&Te<H.length;Te++){ye.index>Te?(qt=ye,ye=null):qt=ye.sibling;var $e=F(B,ye,H[Te],W);if($e===null){ye===null&&(ye=qt);break}n&&ye&&$e.alternate===null&&r(B,ye),L=m($e,L,Te),ke===null?me=$e:ke.sibling=$e,ke=$e,ye=qt}if(Te===H.length)return a(B,ye),Ge&&Ks(B,Te),me;if(ye===null){for(;Te<H.length;Te++)ye=ne(B,H[Te],W),ye!==null&&(L=m(ye,L,Te),ke===null?me=ye:ke.sibling=ye,ke=ye);return Ge&&Ks(B,Te),me}for(ye=u(ye);Te<H.length;Te++)qt=Q(ye,B,Te,H[Te],W),qt!==null&&(n&&qt.alternate!==null&&ye.delete(qt.key===null?Te:qt.key),L=m(qt,L,Te),ke===null?me=qt:ke.sibling=qt,ke=qt);return n&&ye.forEach(function(hs){return r(B,hs)}),Ge&&Ks(B,Te),me}function Re(B,L,H,W){if(H==null)throw Error(s(151));for(var me=null,ke=null,ye=L,Te=L=0,qt=null,$e=H.next();ye!==null&&!$e.done;Te++,$e=H.next()){ye.index>Te?(qt=ye,ye=null):qt=ye.sibling;var hs=F(B,ye,$e.value,W);if(hs===null){ye===null&&(ye=qt);break}n&&ye&&hs.alternate===null&&r(B,ye),L=m(hs,L,Te),ke===null?me=hs:ke.sibling=hs,ke=hs,ye=qt}if($e.done)return a(B,ye),Ge&&Ks(B,Te),me;if(ye===null){for(;!$e.done;Te++,$e=H.next())$e=ne(B,$e.value,W),$e!==null&&(L=m($e,L,Te),ke===null?me=$e:ke.sibling=$e,ke=$e);return Ge&&Ks(B,Te),me}for(ye=u(ye);!$e.done;Te++,$e=H.next())$e=Q(ye,B,Te,$e.value,W),$e!==null&&(n&&$e.alternate!==null&&ye.delete($e.key===null?Te:$e.key),L=m($e,L,Te),ke===null?me=$e:ke.sibling=$e,ke=$e);return n&&ye.forEach(function(US){return r(B,US)}),Ge&&Ks(B,Te),me}function pt(B,L,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case h:e:{for(var me=H.key;L!==null;){if(L.key===me){if(me=H.type,me===p){if(L.tag===7){a(B,L.sibling),W=f(L,H.props.children),W.return=B,B=W;break e}}else if(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===te&&ky(me)===L.type){a(B,L.sibling),W=f(L,H.props),Sl(W,H),W.return=B,B=W;break e}a(B,L);break}else r(B,L);L=L.sibling}H.type===p?(W=ra(H.props.children,B.mode,W,H.key),W.return=B,B=W):(W=Pc(H.type,H.key,H.props,null,B.mode,W),Sl(W,H),W.return=B,B=W)}return _(B);case d:e:{for(me=H.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(B,L.sibling),W=f(L,H.children||[]),W.return=B,B=W;break e}else{a(B,L);break}else r(B,L);L=L.sibling}W=Kd(H,B.mode,W),W.return=B,B=W}return _(B);case te:return me=H._init,H=me(H._payload),pt(B,L,H,W)}if(ue(H))return pe(B,L,H,W);if(re(H)){if(me=re(H),typeof me!="function")throw Error(s(150));return H=me.call(H),Re(B,L,H,W)}if(typeof H.then=="function")return pt(B,L,yc(H),W);if(H.$$typeof===x)return pt(B,L,Mc(B,H),W);vc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(B,L.sibling),W=f(L,H),W.return=B,B=W):(a(B,L),W=$d(H,B.mode,W),W.return=B,B=W),_(B)):a(B,L)}return function(B,L,H,W){try{Al=0;var me=pt(B,L,H,W);return Ya=null,me}catch(ye){if(ye===bl)throw ye;var ke=Kn(29,ye,null,B.mode);return ke.lanes=W,ke.return=B,ke}finally{}}}var Ys=Vy(!0),Py=Vy(!1),Xa=Oe(null),_c=Oe(0);function Ly(n,r){n=fr,xe(_c,n),xe(Xa,r),fr=n|r.baseLanes}function Jf(){xe(_c,fr),xe(Xa,Xa.current)}function ed(){fr=_c.current,Ke(Xa),Ke(_c)}var Fn=Oe(null),Ni=null;function Kr(n){var r=n.alternate;xe(Ot,Ot.current&1),xe(Fn,n),Ni===null&&(r===null||Xa.current!==null||r.memoizedState!==null)&&(Ni=n)}function Uy(n){if(n.tag===22){if(xe(Ot,Ot.current),xe(Fn,n),Ni===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ni=n)}}else Qr()}function Qr(){xe(Ot,Ot.current),xe(Fn,Fn.current)}function nr(n){Ke(Fn),Ni===n&&(Ni=null),Ke(Ot)}var Ot=Oe(0);function Ec(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var SA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},RA=i.unstable_scheduleCallback,CA=i.unstable_NormalPriority,xt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new SA,data:new Map,refCount:0}}function Rl(n){n.refCount--,n.refCount===0&&RA(CA,function(){n.controller.abort()})}var Cl=null,nd=0,Wa=0,Za=null;function IA(n,r){if(Cl===null){var a=Cl=[];nd=0,Wa=lm(),Za={status:"pending",value:void 0,then:function(u){a.push(u)}}}return nd++,r.then(jy,jy),r}function jy(){if(--nd===0&&Cl!==null){Za!==null&&(Za.status="fulfilled");var n=Cl;Cl=null,Wa=0,Za=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function NA(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var zy=S.S;S.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&IA(n,r),zy!==null&&zy(n,r)};var Xs=Oe(null);function id(){var n=Xs.current;return n!==null?n:it.pooledCache}function Tc(n,r){r===null?xe(Xs,Xs.current):xe(Xs,r.pool)}function By(){var n=id();return n===null?null:{parent:xt._currentValue,pool:n}}var Yr=0,Ne=null,Xe=null,Tt=null,bc=!1,Ja=!1,Ws=!1,wc=0,Il=0,eo=null,DA=0;function vt(){throw Error(s(321))}function rd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Rn(n[a],r[a]))return!1;return!0}function sd(n,r,a,u,f,m){return Yr=m,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=n===null||n.memoizedState===null?Zs:Xr,Ws=!1,m=a(u,f),Ws=!1,Ja&&(m=Hy(r,a,u,f)),qy(n),m}function qy(n){S.H=Di;var r=Xe!==null&&Xe.next!==null;if(Yr=0,Tt=Xe=Ne=null,bc=!1,Il=0,eo=null,r)throw Error(s(300));n===null||zt||(n=n.dependencies,n!==null&&xc(n)&&(zt=!0))}function Hy(n,r,a,u){Ne=n;var f=0;do{if(Ja&&(eo=null),Il=0,Ja=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Xe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=Js,m=r(a,u)}while(Ja);return m}function OA(){var n=S.H,r=n.useState()[0];return r=typeof r.then=="function"?Nl(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ne.flags|=1024),r}function ad(){var n=wc!==0;return wc=0,n}function od(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function ld(n){if(bc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}bc=!1}Yr=0,Tt=Xe=Ne=null,Ja=!1,Il=wc=0,eo=null}function vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ne.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function bt(){if(Xe===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=Tt===null?Ne.memoizedState:Tt.next;if(r!==null)Tt=r,Xe=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Tt===null?Ne.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}var Ac;Ac=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Nl(n){var r=Il;return Il+=1,eo===null&&(eo=[]),n=xy(eo,n,r),r=Ne,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?Zs:Xr),n}function Sc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Nl(n);if(n.$$typeof===x)return en(n)}throw Error(s(438,String(n)))}function ud(n){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ac(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=ie;return r.index++,a}function ir(n,r){return typeof r=="function"?r(n):r}function Rc(n){var r=bt();return cd(r,Xe,n)}function cd(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var T=_=null,C=null,U=r,X=!1;do{var ne=U.lane&-536870913;if(ne!==U.lane?(qe&ne)===ne:(Yr&ne)===ne){var F=U.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ne===Wa&&(X=!0);else if((Yr&F)===F){U=U.next,F===Wa&&(X=!0);continue}else ne={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=ne,_=m):C=C.next=ne,Ne.lanes|=F,ss|=F;ne=U.action,Ws&&a(m,ne),m=U.hasEagerState?U.eagerState:a(m,ne)}else F={lane:ne,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=F,_=m):C=C.next=F,Ne.lanes|=ne,ss|=ne;U=U.next}while(U!==null&&U!==r);if(C===null?_=m:C.next=T,!Rn(m,n.memoizedState)&&(zt=!0,X&&(a=Za,a!==null)))throw a;n.memoizedState=m,n.baseState=_,n.baseQueue=C,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function hd(n){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);Rn(m,r.memoizedState)||(zt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function Fy(n,r,a){var u=Ne,f=bt(),m=Ge;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Rn((Xe||f).memoizedState,a);if(_&&(f.memoizedState=a,zt=!0),f=f.queue,md(Ky.bind(null,u,f,n),[n]),f.getSnapshot!==r||_||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,to(9,$y.bind(null,u,f,a,r),{destroy:void 0},null),it===null)throw Error(s(349));m||(Yr&60)!==0||Gy(u,r,a)}return a}function Gy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=Ac(),Ne.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function $y(n,r,a,u){r.value=a,r.getSnapshot=u,Qy(r)&&Yy(n)}function Ky(n,r,a){return a(function(){Qy(r)&&Yy(n)})}function Qy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Rn(n,a)}catch{return!0}}function Yy(n){var r=$r(n,2);r!==null&&hn(r,n,2)}function fd(n){var r=vn();if(typeof n=="function"){var a=n;if(n=a(),Ws){yi(!0);try{a()}finally{yi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:n},r}function Xy(n,r,a,u){return n.baseState=a,cd(n,Xe,typeof u=="function"?u:ir)}function xA(n,r,a,u,f){if(Nc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};S.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,Wy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Wy(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=S.T,_={};S.T=_;try{var T=a(f,u),C=S.S;C!==null&&C(_,T),Zy(n,r,T)}catch(U){dd(n,r,U)}finally{S.T=m}}else try{m=a(f,u),Zy(n,r,m)}catch(U){dd(n,r,U)}}function Zy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Jy(n,r,u)},function(u){return dd(n,r,u)}):Jy(n,r,a)}function Jy(n,r,a){r.status="fulfilled",r.value=a,ev(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Wy(n,a)))}function dd(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,ev(r),r=r.next;while(r!==u)}n.action=null}function ev(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function tv(n,r){return r}function nv(n,r){if(Ge){var a=it.formState;if(a!==null){e:{var u=Ne;if(Ge){if(Gt){t:{for(var f=Gt,m=Ii;f.nodeType!==8;){if(!m){f=null;break t}if(f=oi(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Gt=oi(f.nextSibling),u=f.data==="F!";break e}}Qs(u)}u=!1}u&&(r=a[0])}}return a=vn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tv,lastRenderedState:r},a.queue=u,a=Ev.bind(null,Ne,u),u.dispatch=a,u=fd(!1),m=_d.bind(null,Ne,!1,u.queue),u=vn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=xA.bind(null,Ne,f,m,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function iv(n){var r=bt();return rv(r,Xe,n)}function rv(n,r,a){r=cd(n,r,tv)[0],n=Rc(ir)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Nl(r):r;var u=bt(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(Ne.flags|=2048,to(9,MA.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function MA(n,r){n.action=r}function sv(n){var r=bt(),a=Xe;if(a!==null)return rv(r,a,n);bt(),r=r.memoizedState,a=bt();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function to(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=Ne.updateQueue,r===null&&(r=Ac(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function av(){return bt().memoizedState}function Cc(n,r,a,u){var f=vn();Ne.flags|=n,f.memoizedState=to(1|r,a,{destroy:void 0},u===void 0?null:u)}function Ic(n,r,a,u){var f=bt();u=u===void 0?null:u;var m=f.memoizedState.inst;Xe!==null&&u!==null&&rd(u,Xe.memoizedState.deps)?f.memoizedState=to(r,a,m,u):(Ne.flags|=n,f.memoizedState=to(1|r,a,m,u))}function ov(n,r){Cc(8390656,8,n,r)}function md(n,r){Ic(2048,8,n,r)}function lv(n,r){return Ic(4,2,n,r)}function uv(n,r){return Ic(4,4,n,r)}function cv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function hv(n,r,a){a=a!=null?a.concat([n]):null,Ic(4,4,cv.bind(null,r,n),a)}function pd(){}function fv(n,r){var a=bt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&rd(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function dv(n,r){var a=bt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&rd(r,u[1]))return u[0];if(u=n(),Ws){yi(!0);try{n()}finally{yi(!1)}}return a.memoizedState=[u,r],u}function gd(n,r,a){return a===void 0||(Yr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=p_(),Ne.lanes|=n,ss|=n,a)}function mv(n,r,a,u){return Rn(a,r)?a:Xa.current!==null?(n=gd(n,a,u),Rn(n,r)||(zt=!0),n):(Yr&42)===0?(zt=!0,n.memoizedState=a):(n=p_(),Ne.lanes|=n,ss|=n,r)}function pv(n,r,a,u,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var _=S.T,T={};S.T=T,_d(n,!1,r,a);try{var C=f(),U=S.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=NA(C,u);Dl(n,r,X,Dn(n))}else Dl(n,r,u,Dn(n))}catch(ne){Dl(n,r,{then:function(){},status:"rejected",reason:ne},Dn())}finally{oe.p=m,S.T=_}}function kA(){}function yd(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=gv(n).queue;pv(n,f,r,Ee,a===null?kA:function(){return yv(n),a(u)})}function gv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:Ee},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function yv(n){var r=gv(n).next.queue;Dl(n,r,{},Dn())}function vd(){return en(Xl)}function vv(){return bt().memoizedState}function _v(){return bt().memoizedState}function VA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Dn();n=Jr(a);var u=es(r,n,a);u!==null&&(hn(u,r,a),Ml(u,r,a)),r={cache:td()},n.payload=r;return}r=r.return}}function PA(n,r,a){var u=Dn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(n)?Tv(r,a):(a=Qf(n,r,a,u),a!==null&&(hn(a,n,u),bv(a,r,u)))}function Ev(n,r,a){var u=Dn();Dl(n,r,a,u)}function Dl(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(n))Tv(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,T=m(_,a);if(f.hasEagerState=!0,f.eagerState=T,Rn(T,_))return fc(n,r,f,0),it===null&&hc(),!1}catch{}finally{}if(a=Qf(n,r,f,u),a!==null)return hn(a,n,u),bv(a,r,u),!0}return!1}function _d(n,r,a,u){if(u={lane:2,revertLane:lm(),action:u,hasEagerState:!1,eagerState:null,next:null},Nc(n)){if(r)throw Error(s(479))}else r=Qf(n,a,u,2),r!==null&&hn(r,n,2)}function Nc(n){var r=n.alternate;return n===Ne||r!==null&&r===Ne}function Tv(n,r){Ja=bc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function bv(n,r,a){if((a&4194176)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Pr(n,a)}}var Di={readContext:en,use:Sc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt};Di.useCacheRefresh=vt,Di.useMemoCache=vt,Di.useHostTransitionStatus=vt,Di.useFormState=vt,Di.useActionState=vt,Di.useOptimistic=vt;var Zs={readContext:en,use:Sc,useCallback:function(n,r){return vn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:ov,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Cc(4194308,4,cv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Cc(4194308,4,n,r)},useInsertionEffect:function(n,r){Cc(4,2,n,r)},useMemo:function(n,r){var a=vn();r=r===void 0?null:r;var u=n();if(Ws){yi(!0);try{n()}finally{yi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=vn();if(a!==void 0){var f=a(r);if(Ws){yi(!0);try{a(r)}finally{yi(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=PA.bind(null,Ne,n),[u.memoizedState,n]},useRef:function(n){var r=vn();return n={current:n},r.memoizedState=n},useState:function(n){n=fd(n);var r=n.queue,a=Ev.bind(null,Ne,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:pd,useDeferredValue:function(n,r){var a=vn();return gd(a,n,r)},useTransition:function(){var n=fd(!1);return n=pv.bind(null,Ne,n.queue,!0,!1),vn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Ne,f=vn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(qe&60)!==0||Gy(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,ov(Ky.bind(null,u,m,n),[n]),u.flags|=2048,to(9,$y.bind(null,u,m,a,r),{destroy:void 0},null),a},useId:function(){var n=vn(),r=it.identifierPrefix;if(Ge){var a=tr,u=er;a=(u&~(1<<32-on(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=wc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=DA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return vn().memoizedState=VA.bind(null,Ne)}};Zs.useMemoCache=ud,Zs.useHostTransitionStatus=vd,Zs.useFormState=nv,Zs.useActionState=nv,Zs.useOptimistic=function(n){var r=vn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=_d.bind(null,Ne,!0,a),a.dispatch=r,[n,r]};var Xr={readContext:en,use:Sc,useCallback:fv,useContext:en,useEffect:md,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:Rc,useRef:av,useState:function(){return Rc(ir)},useDebugValue:pd,useDeferredValue:function(n,r){var a=bt();return mv(a,Xe.memoizedState,n,r)},useTransition:function(){var n=Rc(ir)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:Nl(n),r]},useSyncExternalStore:Fy,useId:vv};Xr.useCacheRefresh=_v,Xr.useMemoCache=ud,Xr.useHostTransitionStatus=vd,Xr.useFormState=iv,Xr.useActionState=iv,Xr.useOptimistic=function(n,r){var a=bt();return Xy(a,Xe,n,r)};var Js={readContext:en,use:Sc,useCallback:fv,useContext:en,useEffect:md,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:hd,useRef:av,useState:function(){return hd(ir)},useDebugValue:pd,useDeferredValue:function(n,r){var a=bt();return Xe===null?gd(a,n,r):mv(a,Xe.memoizedState,n,r)},useTransition:function(){var n=hd(ir)[0],r=bt().memoizedState;return[typeof n=="boolean"?n:Nl(n),r]},useSyncExternalStore:Fy,useId:vv};Js.useCacheRefresh=_v,Js.useMemoCache=ud,Js.useHostTransitionStatus=vd,Js.useFormState=sv,Js.useActionState=sv,Js.useOptimistic=function(n,r){var a=bt();return Xe!==null?Xy(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])};function Ed(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:N({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Td={isMounted:function(n){return(n=n._reactInternals)?ce(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=Dn(),f=Jr(u);f.payload=r,a!=null&&(f.callback=a),r=es(n,f,u),r!==null&&(hn(r,n,u),Ml(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=Dn(),f=Jr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=es(n,f,u),r!==null&&(hn(r,n,u),Ml(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Dn(),u=Jr(a);u.tag=2,r!=null&&(u.callback=r),r=es(n,u,a),r!==null&&(hn(r,n,a),Ml(r,n,a))}};function wv(n,r,a,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):r.prototype&&r.prototype.isPureReactComponent?!yl(a,u)||!yl(f,m):!0}function Av(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Td.enqueueReplaceState(r,r.state,null)}function ea(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=N({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Dc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Sv(n){Dc(n)}function Rv(n){console.error(n)}function Cv(n){Dc(n)}function Oc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Iv(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bd(n,r,a){return a=Jr(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(n,r)},a}function Nv(n){return n=Jr(n),n.tag=3,n}function Dv(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){Iv(r,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Iv(r,a,u),typeof f!="function"&&(as===null?as=new Set([this]):as.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function LA(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&xl(r,a,f,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return Ni===null?im():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Zf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),sm(n,u,f)),!1;case 22:return a.flags|=65536,u===Zf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),sm(n,u,f)),!1}throw Error(s(435,a.tag))}return sm(n,u,f),im(),!1}if(Ge)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Wf&&(n=Error(s(422),{cause:u}),Tl(Bn(n,a)))):(u!==Wf&&(r=Error(s(423),{cause:u}),Tl(Bn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Bn(u,a),f=bd(n.stateNode,u,f),Ld(n,f),mt!==4&&(mt=2)),!1;var m=Error(s(520),{cause:u});if(m=Bn(m,a),Bl===null?Bl=[m]:Bl.push(m),mt!==4&&(mt=2),r===null)return!0;u=Bn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=bd(a.stateNode,u,n),Ld(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(as===null||!as.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Nv(f),Dv(f,n,a,u),Ld(a,f),!1}a=a.return}while(a!==null);return!1}var Ov=Error(s(461)),zt=!1;function $t(n,r,a,u){r.child=n===null?Py(r,null,a,u):Ys(r,n.child,a,u)}function xv(n,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return na(r),u=sd(n,r,a,_,m,f),T=ad(),n!==null&&!zt?(od(n,r,f),rr(n,r,f)):(Ge&&T&&Yf(r),r.flags|=1,$t(n,r,u,f),r.child)}function Mv(n,r,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!Gd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,kv(n,r,m,u,f)):(n=Pc(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Od(n,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:yl,a(_,u)&&n.ref===r.ref)return rr(n,r,f)}return r.flags|=1,n=rs(m,u),n.ref=r.ref,n.return=r,r.child=n}function kv(n,r,a,u,f){if(n!==null){var m=n.memoizedProps;if(yl(m,u)&&n.ref===r.ref)if(zt=!1,r.pendingProps=u=m,Od(n,f))(n.flags&131072)!==0&&(zt=!0);else return r.lanes=n.lanes,rr(n,r,f)}return wd(n,r,a,u,f)}function Vv(n,r,a){var u=r.pendingProps,f=u.children,m=(r.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(Ol(n,r),u.mode==="hidden"||m){if((r.flags&128)!==0){if(u=_!==null?_.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return Pv(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tc(r,_!==null?_.cachePool:null),_!==null?Ly(r,_):Jf(),Uy(r);else return r.lanes=r.childLanes=536870912,Pv(n,r,_!==null?_.baseLanes|a:a,a)}else _!==null?(Tc(r,_.cachePool),Ly(r,_),Qr(),r.memoizedState=null):(n!==null&&Tc(r,null),Jf(),Qr());return $t(n,r,f,a),r.child}function Pv(n,r,a,u){var f=id();return f=f===null?null:{parent:xt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Tc(r,null),Jf(),Uy(r),n!==null&&xl(n,r,u,!0),null}function Ol(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function wd(n,r,a,u,f){return na(r),a=sd(n,r,a,u,void 0,f),u=ad(),n!==null&&!zt?(od(n,r,f),rr(n,r,f)):(Ge&&u&&Yf(r),r.flags|=1,$t(n,r,a,f),r.child)}function Lv(n,r,a,u,f,m){return na(r),r.updateQueue=null,a=Hy(r,u,a,f),qy(n),u=ad(),n!==null&&!zt?(od(n,r,m),rr(n,r,m)):(Ge&&u&&Yf(r),r.flags|=1,$t(n,r,a,m),r.child)}function Uv(n,r,a,u,f){if(na(r),r.stateNode===null){var m=$a,_=a.contextType;typeof _=="object"&&_!==null&&(m=en(_)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Td,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Vd(r),_=a.contextType,m.context=typeof _=="object"&&_!==null?en(_):$a,m.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ed(r,a,_,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Td.enqueueReplaceState(m,m.state,null),Vl(r,u,m,f),kl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var T=r.memoizedProps,C=ea(a,T);m.props=C;var U=m.context,X=a.contextType;_=$a,typeof X=="object"&&X!==null&&(_=en(X));var ne=a.getDerivedStateFromProps;X=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||U!==_)&&Av(r,m,u,_),Zr=!1;var F=r.memoizedState;m.state=F,Vl(r,u,m,f),kl(),U=r.memoizedState,T||F!==U||Zr?(typeof ne=="function"&&(Ed(r,a,ne,u),U=r.memoizedState),(C=Zr||wv(r,a,C,u,F,U,_))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=U),m.props=u,m.state=U,m.context=_,u=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Pd(n,r),_=r.memoizedProps,X=ea(a,_),m.props=X,ne=r.pendingProps,F=m.context,U=a.contextType,C=$a,typeof U=="object"&&U!==null&&(C=en(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||F!==C)&&Av(r,m,u,C),Zr=!1,F=r.memoizedState,m.state=F,Vl(r,u,m,f),kl();var Q=r.memoizedState;_!==ne||F!==Q||Zr||n!==null&&n.dependencies!==null&&xc(n.dependencies)?(typeof T=="function"&&(Ed(r,a,T,u),Q=r.memoizedState),(X=Zr||wv(r,a,X,u,F,Q,C)||n!==null&&n.dependencies!==null&&xc(n.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),m.props=u,m.state=Q,m.context=C,u=X):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Ol(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=Ys(r,n.child,null,f),r.child=Ys(r,null,a,f)):$t(n,r,a,f),r.memoizedState=m.state,n=r.child):n=rr(n,r,f),n}function jv(n,r,a,u){return El(),r.flags|=256,$t(n,r,a,u),r.child}var Ad={dehydrated:null,treeContext:null,retryLane:0};function Sd(n){return{baseLanes:n,cachePool:By()}}function Rd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Qn),n}function zv(n,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(Ot.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(f?Kr(r):Qr(),Ge){var T=Gt,C;if(C=T){e:{for(C=T,T=Ii;C.nodeType!==8;){if(!T){T=null;break e}if(C=oi(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:$s!==null?{id:er,overflow:tr}:null,retryLane:536870912},C=Kn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,cn=r,Gt=null,C=!0):C=!1}C||Qs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;nr(r)}return T=u.children,u=u.fallback,f?(Qr(),f=r.mode,T=Id({mode:"hidden",children:T},f),u=ra(u,f,a,null),T.return=r,u.return=r,T.sibling=u,r.child=T,f=r.child,f.memoizedState=Sd(a),f.childLanes=Rd(n,_,a),r.memoizedState=Ad,u):(Kr(r),Cd(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(m)r.flags&256?(Kr(r),r.flags&=-257,r=Nd(n,r,a)):r.memoizedState!==null?(Qr(),r.child=n.child,r.flags|=128,r=null):(Qr(),f=u.fallback,T=r.mode,u=Id({mode:"visible",children:u.children},T),f=ra(f,T,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Ys(r,n.child,null,a),u=r.child,u.memoizedState=Sd(a),u.childLanes=Rd(n,_,a),r.memoizedState=Ad,r=f);else if(Kr(r),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,u=Error(s(419)),u.stack="",u.digest=_,Tl({value:u,source:null,stack:null}),r=Nd(n,r,a)}else if(zt||xl(n,r,a,!1),_=(a&n.childLanes)!==0,zt||_){if(_=it,_!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|a))!==0?0:u,u!==0&&u!==C.retryLane)throw C.retryLane=u,$r(n,u),hn(_,n,u),Ov}T.data==="$?"||im(),r=Nd(n,r,a)}else T.data==="$?"?(r.flags|=128,r.child=n.child,r=ZA.bind(null,n),T._reactRetry=r,r=null):(n=C.treeContext,Gt=oi(T.nextSibling),cn=r,Ge=!0,si=null,Ii=!1,n!==null&&(qn[Hn++]=er,qn[Hn++]=tr,qn[Hn++]=$s,er=n.id,tr=n.overflow,$s=r),r=Cd(r,u.children),r.flags|=4096);return r}return f?(Qr(),f=u.fallback,T=r.mode,C=n.child,U=C.sibling,u=rs(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&31457280,U!==null?f=rs(U,f):(f=ra(f,T,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,T=n.child.memoizedState,T===null?T=Sd(a):(C=T.cachePool,C!==null?(U=xt._currentValue,C=C.parent!==U?{parent:U,pool:U}:C):C=By(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=Rd(n,_,a),r.memoizedState=Ad,u):(Kr(r),a=n.child,n=a.sibling,a=rs(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function Cd(n,r){return r=Id({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Id(n,r){return f_(n,r,0,null)}function Nd(n,r,a){return Ys(r,n.child,null,a),n=Cd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Bv(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Md(n.return,r,a)}function Dd(n,r,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function qv(n,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if($t(n,r,u.children,a),u=Ot.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bv(n,a,r);else if(n.tag===19)Bv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(xe(Ot,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ec(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Dd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ec(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Dd(r,!0,a,null,m);break;case"together":Dd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function rr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ss|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(xl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=rs(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=rs(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Od(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&xc(n)))}function UA(n,r,a){switch(r.tag){case 3:Me(r,r.stateNode.containerInfo),Wr(r,xt,n.memoizedState.cache),El();break;case 27:case 5:pn(r);break;case 4:Me(r,r.stateNode.containerInfo);break;case 10:Wr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?zv(n,r,a):(Kr(r),n=rr(n,r,a),n!==null?n.sibling:null);Kr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(xl(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return qv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),xe(Ot,Ot.current),u)break;return null;case 22:case 23:return r.lanes=0,Vv(n,r,a);case 24:Wr(r,xt,n.memoizedState.cache)}return rr(n,r,a)}function Hv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)zt=!0;else{if(!Od(n,a)&&(r.flags&128)===0)return zt=!1,UA(n,r,a);zt=(n.flags&131072)!==0}else zt=!1,Ge&&(r.flags&1048576)!==0&&Cy(r,pc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Gd(u)?(n=ea(u,n),r.tag=1,r=Uv(null,r,u,n,a)):(r.tag=0,r=wd(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===V){r.tag=11,r=xv(null,r,u,n,a);break e}else if(f===G){r.tag=14,r=Mv(null,r,u,n,a);break e}}throw r=R(u)||u,Error(s(306,r,""))}}return r;case 0:return wd(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=ea(u,r.pendingProps),Uv(n,r,u,f,a);case 3:e:{if(Me(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,u=f.element,Pd(n,r),Vl(r,m,null,a);var _=r.memoizedState;if(m=_.cache,Wr(r,xt,m),m!==f.cache&&kd(r,[xt],a,!0),kl(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=jv(n,r,m,a);break e}else if(m!==u){u=Bn(Error(s(424)),r),Tl(u),r=jv(n,r,m,a);break e}else for(Gt=oi(r.stateNode.containerInfo.firstChild),cn=r,Ge=!0,si=null,Ii=!0,a=Py(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(El(),m===u){r=rr(n,r,a);break e}$t(n,r,m,a)}r=r.child}return r;case 26:return Ol(n,r),n===null?(a=$_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,u=Qc(gt.current).createElement(a),u[Lt]=r,u[It]=n,Kt(u,a,n),lt(u),r.stateNode=u):r.memoizedState=$_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return pn(r),n===null&&Ge&&(u=r.stateNode=H_(r.type,r.pendingProps,gt.current),cn=r,Ii=!0,Gt=oi(u.firstChild)),u=r.pendingProps.children,n!==null||Ge?$t(n,r,u,a):r.child=Ys(r,null,u,a),Ol(n,r),r.child;case 5:return n===null&&Ge&&((f=u=Gt)&&(u=mS(u,r.type,r.pendingProps,Ii),u!==null?(r.stateNode=u,cn=r,Gt=oi(u.firstChild),Ii=!1,f=!0):f=!1),f||Qs(r)),pn(r),f=r.type,m=r.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,ym(f,m)?u=null:_!==null&&ym(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=sd(n,r,OA,null,null,a),Xl._currentValue=f),Ol(n,r),$t(n,r,u,a),r.child;case 6:return n===null&&Ge&&((n=a=Gt)&&(a=pS(a,r.pendingProps,Ii),a!==null?(r.stateNode=a,cn=r,Gt=null,n=!0):n=!1),n||Qs(r)),null;case 13:return zv(n,r,a);case 4:return Me(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ys(r,null,u,a):$t(n,r,u,a),r.child;case 11:return xv(n,r,r.type,r.pendingProps,a);case 7:return $t(n,r,r.pendingProps,a),r.child;case 8:return $t(n,r,r.pendingProps.children,a),r.child;case 12:return $t(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,Wr(r,r.type,u.value),$t(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,na(r),f=en(f),u=u(f),r.flags|=1,$t(n,r,u,a),r.child;case 14:return Mv(n,r,r.type,r.pendingProps,a);case 15:return kv(n,r,r.type,r.pendingProps,a);case 19:return qv(n,r,a);case 22:return Vv(n,r,a);case 24:return na(r),u=en(xt),n===null?(f=id(),f===null&&(f=it,m=td(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},Vd(r),Wr(r,xt,f)):((n.lanes&a)!==0&&(Pd(n,r),Vl(r,null,null,a),kl()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Wr(r,xt,u)):(u=m.cache,Wr(r,xt,u),u!==f.cache&&kd(r,[xt],a,!0))),$t(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var xd=Oe(null),ta=null,sr=null;function Wr(n,r,a){xe(xd,r._currentValue),r._currentValue=a}function ar(n){n._currentValue=xd.current,Ke(xd)}function Md(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function kd(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Md(m.return,a,n),u||(_=null);break e}m=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Md(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function xl(n,r,a,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;Rn(f.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(f===Pt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Xl):n=[Xl])}f=f.return}n!==null&&kd(r,n,a,u),r.flags|=262144}function xc(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,sr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return Fv(ta,n)}function Mc(n,r){return ta===null&&na(n),Fv(n,r)}function Fv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},sr===null){if(n===null)throw Error(s(308));sr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else sr=sr.next=r;return a}var Zr=!1;function Vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Jr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function es(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(ct&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=dc(n),Sy(n,null,a),r}return fc(n,u,r,a),dc(n)}function Ml(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Pr(n,a)}}function Ld(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Ud=!1;function kl(){if(Ud){var n=Za;if(n!==null)throw n}}function Vl(n,r,a,u){Ud=!1;var f=n.updateQueue;Zr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,U=C.next;C.next=null,_===null?m=U:_.next=U,_=C;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==_&&(T===null?X.firstBaseUpdate=U:T.next=U,X.lastBaseUpdate=C))}if(m!==null){var ne=f.baseState;_=0,X=U=C=null,T=m;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(qe&F)===F:(u&F)===F){F!==0&&F===Wa&&(Ud=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=n,Re=T;F=r;var pt=a;switch(Re.tag){case 1:if(pe=Re.payload,typeof pe=="function"){ne=pe.call(pt,ne,F);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Re.payload,F=typeof pe=="function"?pe.call(pt,ne,F):pe,F==null)break e;ne=N({},ne,F);break e;case 2:Zr=!0}}F=T.callback,F!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(U=X=Q,C=ne):X=X.next=Q,_|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(C=ne),f.baseState=C,f.firstBaseUpdate=U,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),ss|=_,n.lanes=_,n.memoizedState=ne}}function Gv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function $v(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Gv(a[n],r)}function Pl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,_=a.inst;u=m(),_.destroy=u}a=a.next}while(a!==f)}}catch(T){tt(r,r.return,T)}}function ts(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=r;var C=a;try{T()}catch(U){tt(f,C,U)}}}u=u.next}while(u!==m)}}catch(U){tt(r,r.return,U)}}function Kv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{$v(r,a)}catch(u){tt(n,n.return,u)}}}function Qv(n,r,a){a.props=ea(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){tt(n,r,u)}}function ia(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){tt(n,r,m)}}function Cn(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){tt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(n,r,f)}else a.current=null}function Yv(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){tt(n,n.return,f)}}function Xv(n,r,a){try{var u=n.stateNode;uS(u,n.type,a,r),u[It]=r}catch(f){tt(n,n.return,f)}}function Wv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function jd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zd(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Kc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(zd(n,r,a),n=n.sibling;n!==null;)zd(n,r,a),n=n.sibling}function kc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(kc(n,r,a),n=n.sibling;n!==null;)kc(n,r,a),n=n.sibling}var or=!1,dt=!1,Bd=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,Bt=null,Jv=!1;function jA(n,r){if(n=n.containerInfo,pm=eh,n=gy(n),Hf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,U=0,X=0,ne=n,F=null;t:for(;;){for(var Q;ne!==a||f!==0&&ne.nodeType!==3||(T=_+f),ne!==m||u!==0&&ne.nodeType!==3||(C=_+u),ne.nodeType===3&&(_+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)F=ne,ne=Q;for(;;){if(ne===n)break t;if(F===a&&++U===f&&(T=_),F===m&&++X===u&&(C=_),(Q=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=Q}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:n,selectionRange:a},eh=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){switch(r=Bt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var pe=ea(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(pe,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Re){tt(a,a.return,Re)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Em(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Em(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}return pe=Jv,Jv=!1,pe}function e_(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ur(n,a),u&4&&Pl(5,a);break;case 1:if(ur(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){tt(a,a.return,T)}else{var f=ea(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){tt(a,a.return,T)}}u&64&&Kv(a),u&512&&ia(a,a.return);break;case 3:if(ur(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{$v(u,n)}catch(T){tt(a,a.return,T)}}break;case 26:ur(n,a),u&512&&ia(a,a.return);break;case 27:case 5:ur(n,a),r===null&&u&4&&Yv(a),u&512&&ia(a,a.return);break;case 12:ur(n,a);break;case 13:ur(n,a),u&4&&i_(n,a);break;case 22:if(f=a.memoizedState!==null||or,!f){r=r!==null&&r.memoizedState!==null||dt;var m=or,_=dt;or=f,(dt=r)&&!_?ns(n,a,(a.subtreeFlags&8772)!==0):ur(n,a),or=m,dt=_}u&512&&(a.memoizedProps.mode==="manual"?ia(a,a.return):Cn(a,a.return));break;default:ur(n,a)}}function t_(n){var r=n.alternate;r!==null&&(n.alternate=null,t_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ms(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var wt=null,In=!1;function lr(n,r,a){for(a=a.child;a!==null;)n_(n,r,a),a=a.sibling}function n_(n,r,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Or,a)}catch{}switch(a.tag){case 26:dt||Cn(a,r),lr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||Cn(a,r);var u=wt,f=In;for(wt=a.stateNode,lr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ms(a),wt=u,In=f;break;case 5:dt||Cn(a,r);case 6:f=wt;var m=In;if(wt=null,lr(n,r,a),wt=f,In=m,wt!==null)if(In)try{n=wt,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(_){tt(a,r,_)}else try{wt.removeChild(a.stateNode)}catch(_){tt(a,r,_)}break;case 18:wt!==null&&(In?(r=wt,a=a.stateNode,r.nodeType===8?_m(r.parentNode,a):r.nodeType===1&&_m(r,a),eu(r)):_m(wt,a.stateNode));break;case 4:u=wt,f=In,wt=a.stateNode.containerInfo,In=!0,lr(n,r,a),wt=u,In=f;break;case 0:case 11:case 14:case 15:dt||ts(2,a,r),dt||ts(4,a,r),lr(n,r,a);break;case 1:dt||(Cn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Qv(a,r,u)),lr(n,r,a);break;case 21:lr(n,r,a);break;case 22:dt||Cn(a,r),dt=(u=dt)||a.memoizedState!==null,lr(n,r,a),dt=u;break;default:lr(n,r,a)}}function i_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{eu(n)}catch(a){tt(r,r.return,a)}}function zA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Zv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Zv),r;default:throw Error(s(435,n.tag))}}function qd(n,r){var a=zA(n);r.forEach(function(u){var f=JA.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Gn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:wt=T.stateNode,In=!1;break e;case 3:wt=T.stateNode.containerInfo,In=!0;break e;case 4:wt=T.stateNode.containerInfo,In=!0;break e}T=T.return}if(wt===null)throw Error(s(160));n_(m,_,f),wt=null,In=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)r_(r,n),r=r.sibling}var ai=null;function r_(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gn(r,n),$n(n),u&4&&(ts(3,n,n.return),Pl(3,n),ts(5,n,n.return));break;case 1:Gn(r,n),$n(n),u&512&&(dt||a===null||Cn(a,a.return)),u&64&&or&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ai;if(Gn(r,n),$n(n),u&512&&(dt||a===null||Cn(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ur]||m[Lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Kt(m,u,a),m[Lt]=n,lt(m),u=m;break e;case"link":var _=Y_("link","href",f).get(u+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}m=f.createElement(u),Kt(m,u,a),f.head.appendChild(m);break;case"meta":if(_=Y_("meta","content",f).get(u+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}m=f.createElement(u),Kt(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Lt]=n,lt(m),u=m}n.stateNode=u}else X_(f,n.type,n.stateNode);else n.stateNode=Q_(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?X_(f,n.type,n.stateNode):Q_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Xv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var C=f.firstChild;C;){var U=C.nextSibling,X=C.nodeName;C[Ur]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=U}for(var ne=n.type,F=f.attributes;F.length;)f.removeAttributeNode(F[0]);Kt(f,ne,m),f[Lt]=n,f[It]=m}catch(pe){tt(n,n.return,pe)}}case 5:if(Gn(r,n),$n(n),u&512&&(dt||a===null||Cn(a,a.return)),n.flags&32){f=n.stateNode;try{Pn(f,"")}catch(pe){tt(n,n.return,pe)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Xv(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Bd=!0);break;case 6:if(Gn(r,n),$n(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(pe){tt(n,n.return,pe)}}break;case 3:if(Wc=null,f=ai,ai=Yc(r.containerInfo),Gn(r,n),ai=f,$n(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{eu(r.containerInfo)}catch(pe){tt(n,n.return,pe)}Bd&&(Bd=!1,s_(n));break;case 4:u=ai,ai=Yc(n.stateNode.containerInfo),Gn(r,n),$n(n),ai=u;break;case 12:Gn(r,n),$n(n);break;case 13:Gn(r,n),$n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wd=Ct()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qd(n,u)));break;case 22:if(u&512&&(dt||a===null||Cn(a,a.return)),C=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,X=or,ne=dt,or=X||C,dt=ne||U,Gn(r,n),dt=ne,or=X,$n(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=or||dt,a===null||U||r||no(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,C)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=U.stateNode,T=U.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){tt(U,U.return,pe)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=C?"":U.memoizedProps}catch(pe){tt(U,U.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,qd(n,a))));break;case 19:Gn(r,n),$n(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qd(n,u)));break;case 21:break;default:Gn(r,n),$n(n)}}function $n(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Wv(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=jd(n);kc(n,m,f);break;case 5:var _=u.stateNode;u.flags&32&&(Pn(_,""),u.flags&=-33);var T=jd(n);kc(n,T,_);break;case 3:case 4:var C=u.stateNode.containerInfo,U=jd(n);zd(n,U,C);break;default:throw Error(s(161))}}}catch(X){tt(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function s_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;s_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ur(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)e_(n,r.alternate,r),r=r.sibling}function no(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ts(4,r,r.return),no(r);break;case 1:Cn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Qv(r,r.return,a),no(r);break;case 26:case 27:case 5:Cn(r,r.return),no(r);break;case 22:Cn(r,r.return),r.memoizedState===null&&no(r);break;default:no(r)}n=n.sibling}}function ns(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:ns(f,m,a),Pl(4,m);break;case 1:if(ns(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){tt(u,u.return,U)}if(u=m,f=u.updateQueue,f!==null){var T=u.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Gv(C[f],T)}catch(U){tt(u,u.return,U)}}a&&_&64&&Kv(m),ia(m,m.return);break;case 26:case 27:case 5:ns(f,m,a),a&&u===null&&_&4&&Yv(m),ia(m,m.return);break;case 12:ns(f,m,a);break;case 13:ns(f,m,a),a&&_&4&&i_(f,m);break;case 22:m.memoizedState===null&&ns(f,m,a),ia(m,m.return);break;default:ns(f,m,a)}r=r.sibling}}function Hd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Rl(a))}function Fd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Rl(n))}function is(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)a_(n,r,a,u),r=r.sibling}function a_(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:is(n,r,a,u),f&2048&&Pl(9,r);break;case 3:is(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Rl(n)));break;case 12:if(f&2048){is(n,r,a,u),n=r.stateNode;try{var m=r.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){tt(r,r.return,C)}}else is(n,r,a,u);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?is(n,r,a,u):Ll(n,r):m._visibility&4?is(n,r,a,u):(m._visibility|=4,io(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Hd(r.alternate,r);break;case 24:is(n,r,a,u),f&2048&&Fd(r.alternate,r);break;default:is(n,r,a,u)}}function io(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,_=r,T=a,C=u,U=_.flags;switch(_.tag){case 0:case 11:case 15:io(m,_,T,C,f),Pl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&4?io(m,_,T,C,f):Ll(m,_):(X._visibility|=4,io(m,_,T,C,f)),f&&U&2048&&Hd(_.alternate,_);break;case 24:io(m,_,T,C,f),f&&U&2048&&Fd(_.alternate,_);break;default:io(m,_,T,C,f)}r=r.sibling}}function Ll(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Ll(a,u),f&2048&&Hd(u.alternate,u);break;case 24:Ll(a,u),f&2048&&Fd(u.alternate,u);break;default:Ll(a,u)}r=r.sibling}}var Ul=8192;function ro(n){if(n.subtreeFlags&Ul)for(n=n.child;n!==null;)o_(n),n=n.sibling}function o_(n){switch(n.tag){case 26:ro(n),n.flags&Ul&&n.memoizedState!==null&&IS(ai,n.memoizedState,n.memoizedProps);break;case 5:ro(n);break;case 3:case 4:var r=ai;ai=Yc(n.stateNode.containerInfo),ro(n),ai=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Ul,Ul=16777216,ro(n),Ul=r):ro(n));break;default:ro(n)}}function l_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function jl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Bt=u,c_(u,n)}l_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u_(n),n=n.sibling}function u_(n){switch(n.tag){case 0:case 11:case 15:jl(n),n.flags&2048&&ts(9,n,n.return);break;case 3:jl(n);break;case 12:jl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Vc(n)):jl(n);break;default:jl(n)}}function Vc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Bt=u,c_(u,n)}l_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ts(8,r,r.return),Vc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Vc(r));break;default:Vc(r)}n=n.sibling}}function c_(n,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:ts(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Rl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Bt=u;else e:for(a=n;Bt!==null;){u=Bt;var f=u.sibling,m=u.return;if(t_(u),u===a){Bt=null;break e}if(f!==null){f.return=m,Bt=f;break e}Bt=m}}}function BA(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(n,r,a,u){return new BA(n,r,a,u)}function Gd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rs(n,r){var a=n.alternate;return a===null?(a=Kn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function h_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Pc(n,r,a,u,f,m){var _=0;if(u=n,typeof n=="function")Gd(n)&&(_=1);else if(typeof n=="string")_=RS(n,a,ot.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ra(a.children,f,m,r);case g:_=8,f|=24;break;case E:return n=Kn(12,a,r,f|2),n.elementType=E,n.lanes=m,n;case $:return n=Kn(13,a,r,f),n.elementType=$,n.lanes=m,n;case j:return n=Kn(19,a,r,f),n.elementType=j,n.lanes=m,n;case Y:return f_(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case x:_=10;break e;case A:_=9;break e;case V:_=11;break e;case G:_=14;break e;case te:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Kn(_,a,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function ra(n,r,a,u){return n=Kn(7,n,u,r),n.lanes=a,n}function f_(n,r,a,u){n=Kn(22,n,u,r),n.elementType=Y,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=$r(m,2);_!==null&&(f._pendingVisibility|=2,hn(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=$r(m,2);_!==null&&(f._pendingVisibility&=-3,hn(_,m,2))}}};return n.stateNode=f,n}function $d(n,r,a){return n=Kn(6,n,null,r),n.lanes=a,n}function Kd(n,r,a){return r=Kn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function cr(n){n.flags|=4}function d_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!W_(r)){if(r=Fn.current,r!==null&&((qe&4194176)===qe?Ni!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==Ni))throw wl=Zf,Dy;n.flags|=8192}}function Lc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?kr():536870912,n.lanes|=r,ao|=r)}function zl(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ut(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function qA(n,r,a){var u=r.pendingProps;switch(Xf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ar(xt),Zt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(_l(r)?cr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,si!==null&&(tm(si),si=null))),ut(r),null;case 26:return a=r.memoizedState,n===null?(cr(r),a!==null?(ut(r),d_(r,a)):(ut(r),r.flags&=-16777217)):a?a!==n.memoizedState?(cr(r),ut(r),d_(r,a)):(ut(r),r.flags&=-16777217):(n.memoizedProps!==u&&cr(r),ut(r),r.flags&=-16777217),null;case 27:ei(r),a=gt.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&cr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ut(r),null}n=ot.current,_l(r)?Iy(r):(n=H_(f,u,a),r.stateNode=n,cr(r))}return ut(r),null;case 5:if(ei(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&cr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(n=ot.current,_l(r))Iy(r);else{switch(f=Qc(gt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Lt]=r,n[It]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Kt(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&cr(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&cr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=gt.current,_l(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Lt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||L_(n.nodeValue,a)),n||Qs(r)}else n=Qc(n).createTextNode(u),n[Lt]=r,r.stateNode=n}return ut(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=_l(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Lt]=r}else El(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else si!==null&&(tm(si),si=null),f=!0;if(!f)return r.flags&256?(nr(r),r):(nr(r),null)}if(nr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Lc(r,r.updateQueue),ut(r),null;case 4:return Zt(),n===null&&fm(r.stateNode.containerInfo),ut(r),null;case 10:return ar(r.type),ut(r),null;case 19:if(Ke(Ot),f=r.memoizedState,f===null)return ut(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)zl(f,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Ec(n),m!==null){for(r.flags|=128,zl(f,!1),n=m.updateQueue,r.updateQueue=n,Lc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)h_(a,n),a=a.sibling;return xe(Ot,Ot.current&1|2),r.child}n=n.sibling}f.tail!==null&&Ct()>Uc&&(r.flags|=128,u=!0,zl(f,!1),r.lanes=4194304)}else{if(!u)if(n=Ec(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,Lc(r,n),zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return ut(r),null}else 2*Ct()-f.renderingStartTime>Uc&&a!==536870912&&(r.flags|=128,u=!0,zl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ct(),r.sibling=null,n=Ot.current,xe(Ot,u?n&1|2:n&1),r):(ut(r),null);case 22:case 23:return nr(r),ed(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Lc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&Ke(Xs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(xt),ut(r),null;case 25:return null}throw Error(s(156,r.tag))}function HA(n,r){switch(Xf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ar(xt),Zt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ei(r),null;case 13:if(nr(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));El()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Ke(Ot),null;case 4:return Zt(),null;case 10:return ar(r.type),null;case 22:case 23:return nr(r),ed(),n!==null&&Ke(Xs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ar(xt),null;case 25:return null;default:return null}}function m_(n,r){switch(Xf(r),r.tag){case 3:ar(xt),Zt();break;case 26:case 27:case 5:ei(r);break;case 4:Zt();break;case 13:nr(r);break;case 19:Ke(Ot);break;case 10:ar(r.type);break;case 22:case 23:nr(r),ed(),n!==null&&Ke(Xs);break;case 24:ar(xt)}}var FA={getCacheForType:function(n){var r=en(xt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},GA=typeof WeakMap=="function"?WeakMap:Map,ct=0,it=null,Pe=null,qe=0,rt=0,Nn=null,hr=!1,so=!1,Qd=!1,fr=0,mt=0,ss=0,sa=0,Yd=0,Qn=0,ao=0,Bl=null,Oi=null,Xd=!1,Wd=0,Uc=1/0,jc=null,as=null,zc=!1,aa=null,ql=0,Zd=0,Jd=null,Hl=0,em=null;function Dn(){if((ct&2)!==0&&qe!==0)return qe&-qe;if(S.T!==null){var n=Wa;return n!==0?n:lm()}return $u()}function p_(){Qn===0&&(Qn=(qe&536870912)===0||Ge?tl():536870912);var n=Fn.current;return n!==null&&(n.flags|=32),Qn}function hn(n,r,a){(n===it&&rt===2||n.cancelPendingCommit!==null)&&(oo(n,0),dr(n,qe,Qn,!1)),yt(n,a),((ct&2)===0||n!==it)&&(n===it&&((ct&2)===0&&(sa|=a),mt===4&&dr(n,qe,Qn,!1)),xi(n))}function g_(n,r,a){if((ct&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||Mr(n,r),f=u?QA(n,r):rm(n,r,!0),m=u;do{if(f===0){so&&!u&&dr(n,r,0,!1);break}else if(f===6)dr(n,r,0,!hr);else{if(a=n.current.alternate,m&&!$A(a)){f=rm(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=n;f=Bl;var C=T.current.memoizedState.isDehydrated;if(C&&(oo(T,_).flags|=256),_=rm(T,_,!1),_!==2){if(Qd&&!C){T.errorRecoveryDisabledLanes|=m,sa|=m,f=4;break e}m=Oi,Oi=f,m!==null&&tm(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){oo(n,0),dr(n,r,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){dr(u,r,Qn,!hr);break e}break;case 2:Oi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(m=Wd+300-Ct(),10<m)){if(dr(u,r,Qn,!hr),kn(u,0)!==0)break e;u.timeoutHandle=z_(y_.bind(null,u,a,Oi,jc,Xd,r,Qn,sa,ao,hr,2,-0,0),m);break e}y_(u,a,Oi,jc,Xd,r,Qn,sa,ao,hr,0,-0,0)}}break}while(!0);xi(n)}function tm(n){Oi===null?Oi=n:Oi.push.apply(Oi,n)}function y_(n,r,a,u,f,m,_,T,C,U,X,ne,F){var Q=r.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Yl={stylesheets:null,count:0,unsuspend:CS},o_(r),r=NS(),r!==null)){n.cancelPendingCommit=r(A_.bind(null,n,a,u,f,_,T,C,1,ne,F)),dr(n,m,_,!U);return}A_(n,a,u,f,_,T,C,X,ne,F)}function $A(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!Rn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function dr(n,r,a,u){r&=~Yd,r&=~sa,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-on(f),_=1<<m;u[m]=-1,f&=~_}a!==0&&Vr(n,a,r)}function Bc(){return(ct&6)===0?(Fl(0),!1):!0}function nm(){if(Pe!==null){if(rt===0)var n=Pe.return;else n=Pe,sr=ta=null,ld(n),Ya=null,Al=0,n=Pe;for(;n!==null;)m_(n.alternate,n),n=n.return;Pe=null}}function oo(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,hS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),nm(),it=n,Pe=a=rs(n.current,null),qe=r,rt=0,Nn=null,hr=!1,so=Mr(n,r),Qd=!1,ao=Qn=Yd=sa=ss=mt=0,Oi=Bl=null,Xd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-on(u),m=1<<f;r|=n[f],u&=~m}return fr=r,hc(),a}function v_(n,r){Ne=null,S.H=Di,r===bl?(r=My(),rt=3):r===Dy?(r=My(),rt=4):rt=r===Ov?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Nn=r,Pe===null&&(mt=1,Oc(n,Bn(r,n.current)))}function __(){var n=S.H;return S.H=Di,n===null?Di:n}function E_(){var n=S.A;return S.A=FA,n}function im(){mt=4,hr||(qe&4194176)!==qe&&Fn.current!==null||(so=!0),(ss&134217727)===0&&(sa&134217727)===0||it===null||dr(it,qe,Qn,!1)}function rm(n,r,a){var u=ct;ct|=2;var f=__(),m=E_();(it!==n||qe!==r)&&(jc=null,oo(n,r)),r=!1;var _=mt;e:do try{if(rt!==0&&Pe!==null){var T=Pe,C=Nn;switch(rt){case 8:nm(),_=6;break e;case 3:case 2:case 6:Fn.current===null&&(r=!0);var U=rt;if(rt=0,Nn=null,lo(n,T,C,U),a&&so){_=0;break e}break;default:U=rt,rt=0,Nn=null,lo(n,T,C,U)}}KA(),_=mt;break}catch(X){v_(n,X)}while(!0);return r&&n.shellSuspendCounter++,sr=ta=null,ct=u,S.H=f,S.A=m,Pe===null&&(it=null,qe=0,hc()),_}function KA(){for(;Pe!==null;)T_(Pe)}function QA(n,r){var a=ct;ct|=2;var u=__(),f=E_();it!==n||qe!==r?(jc=null,Uc=Ct()+500,oo(n,r)):so=Mr(n,r);e:do try{if(rt!==0&&Pe!==null){r=Pe;var m=Nn;t:switch(rt){case 1:rt=0,Nn=null,lo(n,r,m,1);break;case 2:if(Oy(m)){rt=0,Nn=null,b_(r);break}r=function(){rt===2&&it===n&&(rt=7),xi(n)},m.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Oy(m)?(rt=0,Nn=null,b_(r)):(rt=0,Nn=null,lo(n,r,m,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var T=Pe;if(!_||W_(_)){rt=0,Nn=null;var C=T.sibling;if(C!==null)Pe=C;else{var U=T.return;U!==null?(Pe=U,qc(U)):Pe=null}break t}}rt=0,Nn=null,lo(n,r,m,5);break;case 6:rt=0,Nn=null,lo(n,r,m,6);break;case 8:nm(),mt=6;break e;default:throw Error(s(462))}}YA();break}catch(X){v_(n,X)}while(!0);return sr=ta=null,S.H=u,S.A=f,ct=a,Pe!==null?0:(it=null,qe=0,hc(),mt)}function YA(){for(;Pe!==null&&!Os();)T_(Pe)}function T_(n){var r=Hv(n.alternate,n,fr);n.memoizedProps=n.pendingProps,r===null?qc(n):Pe=r}function b_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Lv(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Lv(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:ld(r);default:m_(a,r),r=Pe=h_(r,fr),r=Hv(a,r,fr)}n.memoizedProps=n.pendingProps,r===null?qc(n):Pe=r}function lo(n,r,a,u){sr=ta=null,ld(r),Ya=null,Al=0;var f=r.return;try{if(LA(n,f,r,a,qe)){mt=1,Oc(n,Bn(a,n.current)),Pe=null;return}}catch(m){if(f!==null)throw Pe=f,m;mt=1,Oc(n,Bn(a,n.current)),Pe=null;return}r.flags&32768?(Ge||u===1?n=!0:so||(qe&536870912)!==0?n=!1:(hr=n=!0,(u===2||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),w_(r,n)):qc(r)}function qc(n){var r=n;do{if((r.flags&32768)!==0){w_(r,hr);return}n=r.return;var a=qA(r.alternate,r,fr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=n}while(r!==null);mt===0&&(mt=5)}function w_(n,r){do{var a=HA(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);mt=6,Pe=null}function A_(n,r,a,u,f,m,_,T,C,U){var X=S.T,ne=oe.p;try{oe.p=2,S.T=null,XA(n,r,a,u,ne,f,m,_,T,C,U)}finally{S.T=X,oe.p=ne}}function XA(n,r,a,u,f,m,_,T){do uo();while(aa!==null);if((ct&6)!==0)throw Error(s(327));var C=n.finishedWork;if(u=n.finishedLanes,C===null)return null;if(n.finishedWork=null,n.finishedLanes=0,C===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=C.lanes|C.childLanes;if(U|=Kf,Fu(n,u,U,m,_,T),n===it&&(Pe=it=null,qe=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||zc||(zc=!0,Zd=U,Jd=a,eS(gn,function(){return uo(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,m=oe.p,oe.p=2,_=ct,ct|=4,jA(n,C),r_(C,n),EA(gm,n.containerInfo),eh=!!pm,gm=pm=null,n.current=C,e_(n,C.alternate,C),Hi(),ct=_,oe.p=m,S.T=a):n.current=C,zc?(zc=!1,aa=n,ql=u):S_(n,U),U=n.pendingLanes,U===0&&(as=null),Jo(C.stateNode),xi(n),r!==null)for(f=n.onRecoverableError,C=0;C<r.length;C++)U=r[C],f(U.value,{componentStack:U.stack});return(ql&3)!==0&&uo(),U=n.pendingLanes,(u&4194218)!==0&&(U&42)!==0?n===em?Hl++:(Hl=0,em=n):Hl=0,Fl(0),null}function S_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Rl(r)))}function uo(){if(aa!==null){var n=aa,r=Zd;Zd=0;var a=Gu(ql),u=S.T,f=oe.p;try{if(oe.p=32>a?32:a,S.T=null,aa===null)var m=!1;else{a=Jd,Jd=null;var _=aa,T=ql;if(aa=null,ql=0,(ct&6)!==0)throw Error(s(331));var C=ct;if(ct|=4,u_(_.current),a_(_,_.current,T,a),ct=C,Fl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Or,_)}catch{}m=!0}return m}finally{oe.p=f,S.T=u,S_(n,r)}}return!1}function R_(n,r,a){r=Bn(a,r),r=bd(n.stateNode,r,2),n=es(n,r,2),n!==null&&(yt(n,2),xi(n))}function tt(n,r,a){if(n.tag===3)R_(n,n,a);else for(;r!==null;){if(r.tag===3){R_(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(as===null||!as.has(u))){n=Bn(a,n),a=Nv(2),u=es(r,a,2),u!==null&&(Dv(a,u,r,n),yt(u,2),xi(u));break}}r=r.return}}function sm(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new GA;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Qd=!0,f.add(a),n=WA.bind(null,n,r,a),r.then(n,n))}function WA(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,it===n&&(qe&a)===a&&(mt===4||mt===3&&(qe&62914560)===qe&&300>Ct()-Wd?(ct&2)===0&&oo(n,0):Yd|=a,ao===qe&&(ao=0)),xi(n)}function C_(n,r){r===0&&(r=kr()),n=$r(n,r),n!==null&&(yt(n,r),xi(n))}function ZA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),C_(n,a)}function JA(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),C_(n,a)}function eS(n,r){return wn(n,r)}var Hc=null,co=null,am=!1,Fc=!1,om=!1,oa=0;function xi(n){n!==co&&n.next===null&&(co===null?Hc=co=n:co=co.next=n),Fc=!0,am||(am=!0,nS(tS))}function Fl(n,r){if(!om&&Fc){om=!0;do for(var a=!1,u=Hc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,T=u.pingedLanes;m=(1<<31-on(42|n)+1)-1,m&=f&~(_&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,D_(u,m))}else m=qe,m=kn(u,u===it?m:0),(m&3)===0||Mr(u,m)||(a=!0,D_(u,m));u=u.next}while(a);om=!1}}function tS(){Fc=am=!1;var n=0;oa!==0&&(cS()&&(n=oa),oa=0);for(var r=Ct(),a=null,u=Hc;u!==null;){var f=u.next,m=I_(u,r);m===0?(u.next=null,a===null?Hc=f:a.next=f,f===null&&(co=a)):(a=u,(n!==0||(m&3)!==0)&&(Fc=!0)),u=f}Fl(n)}function I_(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-on(m),T=1<<_,C=f[_];C===-1?((T&a)===0||(T&u)!==0)&&(f[_]=Ia(T,r)):C<=r&&(n.expiredLanes|=T),m&=~T}if(r=it,a=qe,a=kn(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&rt===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ti(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Mr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&ti(u),Gu(a)){case 2:case 8:a=et;break;case 32:a=gn;break;case 268435456:a=Mn;break;default:a=gn}return u=N_.bind(null,n),a=wn(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&ti(u),n.callbackPriority=2,n.callbackNode=null,2}function N_(n,r){var a=n.callbackNode;if(uo()&&n.callbackNode!==a)return null;var u=qe;return u=kn(n,n===it?u:0),u===0?null:(g_(n,u,r),I_(n,Ct()),n.callbackNode!=null&&n.callbackNode===a?N_.bind(null,n):null)}function D_(n,r){if(uo())return null;g_(n,r,!0)}function nS(n){fS(function(){(ct&6)!==0?wn(_e,n):n()})}function lm(){return oa===0&&(oa=tl()),oa}function O_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ti(""+n)}function x_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function iS(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=O_((f[It]||null).action),_=u.submitter;_&&(r=(r=_[It]||null)?O_(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var T=new Va("action","action",null,u,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oa!==0){var C=_?x_(f,_):new FormData(f);yd(a,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(T.preventDefault(),C=_?x_(f,_):new FormData(f),yd(a,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var um=0;um<Ay.length;um++){var cm=Ay[um],rS=cm.toLowerCase(),sS=cm[0].toUpperCase()+cm.slice(1);ri(rS,"on"+sS)}ri(_y,"onAnimationEnd"),ri(Ey,"onAnimationIteration"),ri(Ty,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(bA,"onTransitionRun"),ri(wA,"onTransitionStart"),ri(AA,"onTransitionCancel"),ri(by,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),An("onBeforeInput",["compositionend","keypress","textInput","paste"]),An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function M_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var _=u.length-1;0<=_;_--){var T=u[_],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(X){Dc(X)}f.currentTarget=null,m=C}else for(_=0;_<u.length;_++){if(T=u[_],C=T.instance,U=T.currentTarget,T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(X){Dc(X)}f.currentTarget=null,m=C}}}}function je(n,r){var a=r[xs];a===void 0&&(a=r[xs]=new Set);var u=n+"__bubble";a.has(u)||(k_(r,n,2,!1),a.add(u))}function hm(n,r,a){var u=0;r&&(u|=4),k_(a,n,u,r)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function fm(n){if(!n[Gc]){n[Gc]=!0,il.forEach(function(a){a!=="selectionchange"&&(aS.has(a)||hm(a,!1,n),hm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Gc]||(r[Gc]=!0,hm("selectionchange",!1,r))}}function k_(n,r,a,u){switch(i0(r)){case 2:var f=xS;break;case 8:f=MS;break;default:f=Sm}a=f.bind(null,r,a,n),f=void 0,!Un||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function dm(n,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;_=_.return}for(;T!==null;){if(_=ii(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){u=m=_;continue e}T=T.parentNode}}u=u.return}Xu(function(){var U=m,X=ka(a),ne=[];e:{var F=wy.get(n);if(F!==void 0){var Q=Va,pe=n;switch(n){case"keypress":if(wi(a)===0)break e;case"keydown":case"keyup":Q=Ba;break;case"focusin":pe="focus",Q=Ua;break;case"focusout":pe="blur",Q=Ua;break;case"beforeblur":case"afterblur":Q=Ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=rc;break;case _y:case Ey:case Ty:Q=ja;break;case by:Q=ac;break;case"scroll":case"scrollend":Q=Wu;break;case"wheel":Q=qa;break;case"copy":case"cut":case"paste":Q=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=pl;break;case"toggle":case"beforetoggle":Q=lc}var Re=(r&4)!==0,pt=!Re&&(n==="scroll"||n==="scrollend"),B=Re?F!==null?F+"Capture":null:F;Re=[];for(var L=U,H;L!==null;){var W=L;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||B===null||(W=Ls(L,B),W!=null&&Re.push($l(L,W,H))),pt)break;L=L.return}0<Re.length&&(F=new Q(F,pe,null,a,X),ne.push({event:F,listeners:Re}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",F&&a!==Ln&&(pe=a.relatedTarget||a.fromElement)&&(ii(pe)||pe[Gi]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(pe=a.relatedTarget||a.toElement,Q=U,pe=pe?ii(pe):null,pe!==null&&(pt=ce(pe),Re=pe.tag,pe!==pt||Re!==5&&Re!==27&&Re!==6)&&(pe=null)):(Q=null,pe=U),Q!==pe)){if(Re=jn,W="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Re=pl,W="onPointerLeave",B="onPointerEnter",L="pointer"),pt=Q==null?F:jr(Q),H=pe==null?F:jr(pe),F=new Re(W,L+"leave",Q,a,X),F.target=pt,F.relatedTarget=H,W=null,ii(X)===U&&(Re=new Re(B,L+"enter",pe,a,X),Re.target=H,Re.relatedTarget=pt,W=Re),pt=W,Q&&pe)t:{for(Re=Q,B=pe,L=0,H=Re;H;H=ho(H))L++;for(H=0,W=B;W;W=ho(W))H++;for(;0<L-H;)Re=ho(Re),L--;for(;0<H-L;)B=ho(B),H--;for(;L--;){if(Re===B||B!==null&&Re===B.alternate)break t;Re=ho(Re),B=ho(B)}Re=null}else Re=null;Q!==null&&V_(ne,F,Q,Re,!1),pe!==null&&pt!==null&&V_(ne,pt,pe,Re,!0)}}e:{if(F=U?jr(U):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var me=ly;else if(Dt(F))if(uy)me=vA;else{me=gA;var ke=pA}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?U&&ll(U.elementType)&&(me=ly):me=yA;if(me&&(me=me(n,U))){Ji(ne,me,a,X);break e}ke&&ke(n,F,U),n==="focusout"&&U&&F.type==="number"&&U.memoizedProps.value!=null&&Ma(F,"number",F.value)}switch(ke=U?jr(U):window,n){case"focusin":(Dt(ke)||ke.contentEditable==="true")&&(Ha=ke,Ff=U,vl=null);break;case"focusout":vl=Ff=Ha=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,yy(ne,a,X);break;case"selectionchange":if(TA)break;case"keydown":case"keyup":yy(ne,a,X)}var ye;if(Ri)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ze?K(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(ze||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ze&&(ye=cl()):(bi=X,Gr="value"in bi?bi.value:bi.textContent,ze=!0)),ke=$c(U,Te),0<ke.length&&(Te=new dl(Te,n,null,a,X),ne.push({event:Te,listeners:ke}),ye?Te.data=ye:(ye=le(a),ye!==null&&(Te.data=ye)))),(ye=y?Nt(n,a):Be(n,a))&&(Te=$c(U,"onBeforeInput"),0<Te.length&&(ke=new dl("onBeforeInput","beforeinput",null,a,X),ne.push({event:ke,listeners:Te}),ke.data=ye)),iS(ne,n,U,a,X)}M_(ne,r)})}function $l(n,r,a){return{instance:n,listener:r,currentTarget:a}}function $c(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ls(n,a),f!=null&&u.unshift($l(n,f,m)),f=Ls(n,r),f!=null&&u.push($l(n,f,m))),n=n.return}return u}function ho(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function V_(n,r,a,u,f){for(var m=r._reactName,_=[];a!==null&&a!==u;){var T=a,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===u)break;T!==5&&T!==26&&T!==27||U===null||(C=U,f?(U=Ls(a,m),U!=null&&_.unshift($l(a,U,C))):f||(U=Ls(a,m),U!=null&&_.push($l(a,U,C)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var oS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function P_(n){return(typeof n=="string"?n:""+n).replace(oS,`
`).replace(lS,"")}function L_(n,r){return r=P_(r),P_(n)===r}function Kc(){}function We(n,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Pn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Pn(n,""+u);break;case"className":qr(n,"class",u);break;case"tabIndex":qr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(n,a,u);break;case"style":Yu(n,u,m);break;case"data":if(r!=="object"){qr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ti(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ti(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Kc);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Ti(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":je("beforetoggle",n),je("toggle",n),Br(n,"popover",u);break;case"xlinkActuate":Vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Br(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lf.get(a)||a,Br(n,a,u))}}function mm(n,r,a,u,f,m){switch(a){case"style":Yu(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Pn(n,u):(typeof u=="number"||typeof u=="bigint")&&Pn(n,""+u);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[It]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Br(n,a,u)}}}function Kt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,m,_,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),u&&We(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var T=m=_=f=null,C=null,U=null;for(u in a)if(a.hasOwnProperty(u)){var X=a[u];if(X!=null)switch(u){case"name":f=X;break;case"type":_=X;break;case"checked":C=X;break;case"defaultChecked":U=X;break;case"value":m=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(n,r,u,X,a,null)}}Vs(n,m,T,C,U,_,f,!1),ks(n);return;case"select":je("invalid",n),u=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:We(n,r,f,T,a,null)}r=m,a=_,n.multiple=!!u,r!=null?Fe(n,!!u,r,!1):a!=null&&Fe(n,!!u,a,!0);return;case"textarea":je("invalid",n),m=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,r,_,T,a,null)}Fr(n,u,f,m),ks(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(u=a[C],u!=null))switch(C){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(n,r,C,u,a,null)}return;case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(u=0;u<Gl.length;u++)je(Gl[u],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(u=a[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,U,u,a,null)}return;default:if(ll(r)){for(X in a)a.hasOwnProperty(X)&&(u=a[X],u!==void 0&&mm(n,r,X,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&We(n,r,T,u,a,null))}function uS(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,T=null,C=null,U=null,X=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=ne;default:u.hasOwnProperty(Q)||We(n,r,Q,null,u,ne)}}for(var F in u){var Q=u[F];if(ne=a[F],u.hasOwnProperty(F)&&(Q!=null||ne!=null))switch(F){case"type":m=Q;break;case"name":f=Q;break;case"checked":U=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ne&&We(n,r,F,Q,u,ne)}}Hr(n,_,T,C,U,X,m,f);return;case"select":Q=_=T=F=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":Q=C;default:u.hasOwnProperty(m)||We(n,r,m,null,u,C)}for(f in u)if(m=u[f],C=a[f],u.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":F=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==C&&We(n,r,f,m,u,C)}r=T,a=_,u=Q,F!=null?Fe(n,!!a,F,!1):!!u!=!!a&&(r!=null?Fe(n,!!a,r,!0):Fe(n,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,r,T,null,u,f)}for(_ in u)if(f=u[_],m=a[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":F=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,r,_,f,u,m)}Ps(n,F,Q);return;case"option":for(var pe in a)if(F=a[pe],a.hasOwnProperty(pe)&&F!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:We(n,r,pe,null,u,F)}for(C in u)if(F=u[C],Q=a[C],u.hasOwnProperty(C)&&F!==Q&&(F!=null||Q!=null))switch(C){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(n,r,C,F,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)F=a[Re],a.hasOwnProperty(Re)&&F!=null&&!u.hasOwnProperty(Re)&&We(n,r,Re,null,u,F);for(U in u)if(F=u[U],Q=a[U],u.hasOwnProperty(U)&&F!==Q&&(F!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(n,r,U,F,u,Q)}return;default:if(ll(r)){for(var pt in a)F=a[pt],a.hasOwnProperty(pt)&&F!==void 0&&!u.hasOwnProperty(pt)&&mm(n,r,pt,void 0,u,F);for(X in u)F=u[X],Q=a[X],!u.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||mm(n,r,X,F,u,Q);return}}for(var B in a)F=a[B],a.hasOwnProperty(B)&&F!=null&&!u.hasOwnProperty(B)&&We(n,r,B,null,u,F);for(ne in u)F=u[ne],Q=a[ne],!u.hasOwnProperty(ne)||F===Q||F==null&&Q==null||We(n,r,ne,F,u,Q)}var pm=null,gm=null;function Qc(n){return n.nodeType===9?n:n.ownerDocument}function U_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function ym(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vm=null;function cS(){var n=window.event;return n&&n.type==="popstate"?n===vm?!1:(vm=n,!0):(vm=null,!1)}var z_=typeof setTimeout=="function"?setTimeout:void 0,hS=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(n){return B_.resolve(null).then(n).catch(dS)}:z_;function dS(n){setTimeout(function(){throw n})}function _m(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),eu(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);eu(r)}function Em(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),Ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function mS(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ur])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=oi(n.nextSibling),n===null)break}return null}function pS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=oi(n.nextSibling),n===null))return null;return n}function oi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function q_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function H_(n,r,a){switch(r=Qc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Yn=new Map,F_=new Set;function Yc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var mr=oe.d;oe.d={f:gS,r:yS,D:vS,C:_S,L:ES,m:TS,X:wS,S:bS,M:AS};function gS(){var n=mr.f(),r=Bc();return n||r}function yS(n){var r=$i(n);r!==null&&r.tag===5&&r.type==="form"?yv(r):mr.r(n)}var fo=typeof document>"u"?null:document;function G_(n,r,a){var u=fo;if(u&&typeof r=="string"&&r){var f=ft(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),F_.has(f)||(F_.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Kt(r,"link",n),lt(r),u.head.appendChild(r)))}}function vS(n){mr.D(n),G_("dns-prefetch",n,null)}function _S(n,r){mr.C(n,r),G_("preconnect",n,r)}function ES(n,r,a){mr.L(n,r,a);var u=fo;if(u&&n&&r){var f='link[rel="preload"][as="'+ft(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ft(a.imageSizes)+'"]')):f+='[href="'+ft(n)+'"]';var m=f;switch(r){case"style":m=mo(n);break;case"script":m=po(n)}Yn.has(m)||(n=N({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Yn.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Kl(m))||r==="script"&&u.querySelector(Ql(m))||(r=u.createElement("link"),Kt(r,"link",n),lt(r),u.head.appendChild(r)))}}function TS(n,r){mr.m(n,r);var a=fo;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ft(u)+'"][href="'+ft(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=po(n)}if(!Yn.has(m)&&(n=N({rel:"modulepreload",href:n},r),Yn.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(m)))return}u=a.createElement("link"),Kt(u,"link",n),lt(u),a.head.appendChild(u)}}}function bS(n,r,a){mr.S(n,r,a);var u=fo;if(u&&n){var f=zr(u).hoistableStyles,m=mo(n);r=r||"default";var _=f.get(m);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(Kl(m)))T.loading=5;else{n=N({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Yn.get(m))&&Tm(n,a);var C=_=u.createElement("link");lt(C),Kt(C,"link",n),C._p=new Promise(function(U,X){C.onload=U,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Xc(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(m,_)}}}function wS(n,r){mr.X(n,r);var a=fo;if(a&&n){var u=zr(a).hoistableScripts,f=po(n),m=u.get(f);m||(m=a.querySelector(Ql(f)),m||(n=N({src:n,async:!0},r),(r=Yn.get(f))&&bm(n,r),m=a.createElement("script"),lt(m),Kt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function AS(n,r){mr.M(n,r);var a=fo;if(a&&n){var u=zr(a).hoistableScripts,f=po(n),m=u.get(f);m||(m=a.querySelector(Ql(f)),m||(n=N({src:n,async:!0,type:"module"},r),(r=Yn.get(f))&&bm(n,r),m=a.createElement("script"),lt(m),Kt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function $_(n,r,a,u){var f=(f=gt.current)?Yc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=mo(a.href),a=zr(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=mo(a.href);var m=zr(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(Kl(n)))&&!m._p&&(_.instance=m,_.state.loading=5),Yn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(n,a),m||SS(f,n,a,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=po(a),a=zr(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function mo(n){return'href="'+ft(n)+'"'}function Kl(n){return'link[rel="stylesheet"]['+n+"]"}function K_(n){return N({},n,{"data-precedence":n.precedence,precedence:null})}function SS(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Kt(r,"link",a),lt(r),n.head.appendChild(r))}function po(n){return'[src="'+ft(n)+'"]'}function Ql(n){return"script[async]"+n}function Q_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+ft(a.href)+'"]');if(u)return r.instance=u,lt(u),u;var f=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),lt(u),Kt(u,"style",f),Xc(u,a.precedence,n),r.instance=u;case"stylesheet":f=mo(a.href);var m=n.querySelector(Kl(f));if(m)return r.state.loading|=4,r.instance=m,lt(m),m;u=K_(a),(f=Yn.get(f))&&Tm(u,f),m=(n.ownerDocument||n).createElement("link"),lt(m);var _=m;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Kt(m,"link",u),r.state.loading|=4,Xc(m,a.precedence,n),r.instance=m;case"script":return m=po(a.src),(f=n.querySelector(Ql(m)))?(r.instance=f,lt(f),f):(u=a,(f=Yn.get(m))&&(u=N({},a),bm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),lt(f),Kt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Xc(u,a.precedence,n));return r.instance}function Xc(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===r)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function bm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Wc=null;function Y_(n,r,a){if(Wc===null){var u=new Map,f=Wc=new Map;f.set(a,u)}else f=Wc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ur]||m[Lt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=n+_;var T=u.get(_);T?T.push(m):u.set(_,[m])}}return u}function X_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function RS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function W_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Yl=null;function CS(){}function IS(n,r,a){if(Yl===null)throw Error(s(475));var u=Yl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=mo(a.href),m=n.querySelector(Kl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Zc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,lt(m);return}m=n.ownerDocument||n,a=K_(a),(f=Yn.get(f))&&Tm(a,f),m=m.createElement("link"),lt(m);var _=m;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Kt(m,"link",a),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Zc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function NS(){if(Yl===null)throw Error(s(475));var n=Yl;return n.stylesheets&&n.count===0&&wm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&wm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Zc(){if(this.count--,this.count===0){if(this.stylesheets)wm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jc=null;function wm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jc=new Map,r.forEach(DS,n),Jc=null,Zc.call(n))}function DS(n,r){if(!(r.state.loading&4)){var a=Jc.get(n);if(a)var u=a.get(null);else{a=new Map,Jc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||u,m===u&&a.set(null,f),a.set(_,f),this.count++,u=Zc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Xl={$$typeof:x,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function OS(n,r,a,u,f,m,_,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Na(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.hiddenUpdates=Na(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Z_(n,r,a,u,f,m,_,T,C,U,X,ne){return n=new OS(n,r,a,_,T,C,U,ne),r=1,m===!0&&(r|=24),m=Kn(3,null,null,r),n.current=m,m.stateNode=n,r=td(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},Vd(m),n}function J_(n){return n?(n=$a,n):$a}function e0(n,r,a,u,f,m){f=J_(f),u.context===null?u.context=f:u.pendingContext=f,u=Jr(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=es(n,u,r),a!==null&&(hn(a,n,r),Ml(a,n,r))}function t0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Am(n,r){t0(n,r),(n=n.alternate)&&t0(n,r)}function n0(n){if(n.tag===13){var r=$r(n,67108864);r!==null&&hn(r,n,67108864),Am(n,67108864)}}var eh=!0;function xS(n,r,a,u){var f=S.T;S.T=null;var m=oe.p;try{oe.p=2,Sm(n,r,a,u)}finally{oe.p=m,S.T=f}}function MS(n,r,a,u){var f=S.T;S.T=null;var m=oe.p;try{oe.p=8,Sm(n,r,a,u)}finally{oe.p=m,S.T=f}}function Sm(n,r,a,u){if(eh){var f=Rm(u);if(f===null)dm(n,r,u,th,a),r0(n,u);else if(VS(f,n,r,a,u))u.stopPropagation();else if(r0(n,u),r&4&&-1<kS.indexOf(n)){for(;f!==null;){var m=$i(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=ni(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-on(_);T.entanglements[1]|=C,_&=~C}xi(m),(ct&6)===0&&(Uc=Ct()+500,Fl(0))}}break;case 13:T=$r(m,2),T!==null&&hn(T,m,2),Bc(),Am(m,2)}if(m=Rm(u),m===null&&dm(n,r,u,th,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else dm(n,r,u,null,a)}}function Rm(n){return n=ka(n),Cm(n)}var th=null;function Cm(n){if(th=null,n=ii(n),n!==null){var r=ce(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Ve(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return th=n,null}function i0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case _e:return 2;case et:return 8;case gn:case Fi:return 32;case Mn:return 268435456;default:return 32}default:return 32}}var Im=!1,os=null,ls=null,us=null,Wl=new Map,Zl=new Map,cs=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r0(n,r){switch(n){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Wl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(r.pointerId)}}function Jl(n,r,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=$i(r),r!==null&&n0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function VS(n,r,a,u,f){switch(r){case"focusin":return os=Jl(os,n,r,a,u,f),!0;case"dragenter":return ls=Jl(ls,n,r,a,u,f),!0;case"mouseover":return us=Jl(us,n,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return Wl.set(m,Jl(Wl.get(m)||null,n,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Zl.set(m,Jl(Zl.get(m)||null,n,r,a,u,f)),!0}return!1}function s0(n){var r=ii(n.target);if(r!==null){var a=ce(r);if(a!==null){if(r=a.tag,r===13){if(r=Ve(a),r!==null){n.blockedOn=r,Lr(n.priority,function(){if(a.tag===13){var u=Dn(),f=$r(a,u);f!==null&&hn(f,a,u),Am(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Rm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Ln=u,a.target.dispatchEvent(u),Ln=null}else return r=$i(a),r!==null&&n0(r),n.blockedOn=a,!1;r.shift()}return!0}function a0(n,r,a){nh(n)&&a.delete(r)}function PS(){Im=!1,os!==null&&nh(os)&&(os=null),ls!==null&&nh(ls)&&(ls=null),us!==null&&nh(us)&&(us=null),Wl.forEach(a0),Zl.forEach(a0)}function ih(n,r){n.blockedOn===r&&(n.blockedOn=null,Im||(Im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,PS)))}var rh=null;function o0(n){rh!==n&&(rh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){rh===n&&(rh=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Cm(u||a)===null)continue;break}var m=$i(a);m!==null&&(n.splice(r,3),r-=3,yd(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function eu(n){function r(C){return ih(C,n)}os!==null&&ih(os,n),ls!==null&&ih(ls,n),us!==null&&ih(us,n),Wl.forEach(r),Zl.forEach(r);for(var a=0;a<cs.length;a++){var u=cs[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<cs.length&&(a=cs[0],a.blockedOn===null);)s0(a),a.blockedOn===null&&cs.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],_=f[It]||null;if(typeof m=="function")_||o0(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[It]||null)T=_.formAction;else if(Cm(f)!==null)continue}else T=_.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),o0(a)}}}function Nm(n){this._internalRoot=n}sh.prototype.render=Nm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Dn();e0(a,u,n,r,null,null)},sh.prototype.unmount=Nm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&uo(),e0(n.current,2,null,n,null,null),Bc(),r[Gi]=null}};function sh(n){this._internalRoot=n}sh.prototype.unstable_scheduleHydration=function(n){if(n){var r=$u();n={blockedOn:null,target:n,priority:r};for(var a=0;a<cs.length&&r!==0&&r<cs[a].priority;a++);cs.splice(a,0,n),a===0&&s0(n)}};var l0=e.version;if(l0!=="19.0.0")throw Error(s(527,l0,"19.0.0"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=ee(r),n=n!==null?he(n):null,n=n===null?null:n.stateNode,n};var LS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:ii,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Or=ah.inject(LS),Jt=ah}catch{}}return nu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=Sv,m=Rv,_=Cv,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Z_(n,1,!1,null,null,a,u,f,m,_,T,null),n[Gi]=r.current,fm(n.nodeType===8?n.parentNode:n),new Nm(r)},nu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=Sv,_=Rv,T=Cv,C=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=Z_(n,1,!0,r,a??null,u,f,m,_,T,C,U),r.context=J_(null),a=r.current,u=Dn(),f=Jr(u),f.callback=null,es(a,f,u),r.current.lanes=u,yt(r,u),xi(r),n[Gi]=r.current,fm(n),new sh(r)},nu.version="19.0.0",nu}var v0;function $S(){if(v0)return xm.exports;v0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xm.exports=GS(),xm.exports}var KS=$S();const QS=Uo(KS);var iu={},_0;function YS(){if(_0)return iu;_0=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.parse=h,iu.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,x){const V=new l,$=A.length;if($<2)return V;const j=(x==null?void 0:x.decode)||E;let G=0;do{const te=A.indexOf("=",G);if(te===-1)break;const Y=A.indexOf(";",G),ie=Y===-1?$:Y;if(te>ie){G=A.lastIndexOf(";",te-1)+1;continue}const ae=d(A,G,te),re=p(A,te,ae),M=A.slice(ae,re);if(V[M]===void 0){let R=d(A,te+1,ie),S=p(A,ie,R);const N=j(A.slice(R,S));V[M]=N}G=ie+1}while(G<$);return V}function d(A,x,V){do{const $=A.charCodeAt(x);if($!==32&&$!==9)return x}while(++x<V);return V}function p(A,x,V){for(;x>V;){const $=A.charCodeAt(--x);if($!==32&&$!==9)return x+1}return V}function g(A,x,V){const $=(V==null?void 0:V.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=$(x);if(!e.test(j))throw new TypeError(`argument val is invalid: ${x}`);let G=A+"="+j;if(!V)return G;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);G+="; Max-Age="+V.maxAge}if(V.domain){if(!t.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);G+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);G+="; Path="+V.path}if(V.expires){if(!b(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);G+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(G+="; HttpOnly"),V.secure&&(G+="; Secure"),V.partitioned&&(G+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return G}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return iu}YS();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E0="popstate";function XS(i={}){function e(s,o){let{pathname:l,search:h,hash:d}=s.location;return cp("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:_u(o)}return ZS(e,t,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function hi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WS(){return Math.random().toString(36).substring(2,10)}function T0(i,e){return{usr:i.state,key:i.key,idx:e}}function cp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:t,key:e&&e.key||s||WS()}}function _u({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function jo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function ZS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){d="POP";let j=E(),G=j==null?null:j-g;g=j,p&&p({action:d,location:$.location,delta:G})}function A(j,G){d="PUSH";let te=cp($.location,j,G);g=E()+1;let Y=T0(te,g),ie=$.createHref(te);try{h.pushState(Y,"",ie)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ie)}l&&p&&p({action:d,location:$.location,delta:1})}function x(j,G){d="REPLACE";let te=cp($.location,j,G);g=E();let Y=T0(te,g),ie=$.createHref(te);h.replaceState(Y,"",ie),l&&p&&p({action:d,location:$.location,delta:0})}function V(j){let G=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof j=="string"?j:_u(j);return te=te.replace(/ $/,"%20"),at(G,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,G)}let $={get action(){return d},get location(){return i(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(E0,b),p=j,()=>{o.removeEventListener(E0,b),p=null}},createHref(j){return e(o,j)},createURL:V,encodeLocation(j){let G=V(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:x,go(j){return h.go(j)}};return $}function NT(i,e,t="/"){return JS(i,e,t,!1)}function JS(i,e,t,s){let o=typeof e=="string"?jo(e):e,l=Tr(o.pathname||"/",t);if(l==null)return null;let h=DT(i);eR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=hR(l);d=uR(h[p],g,s)}return d}function DT(i,e=[],t=[],s=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=vr([s,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(at(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),DT(l.children,e,E,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:oR(g,l.index),routesMeta:E})};return i.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of OT(l.path))o(l,h,p)}),e}function OT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=OT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function eR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:lR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var tR=/^:[\w-]+$/,nR=3,iR=2,rR=1,sR=10,aR=-2,b0=i=>i==="*";function oR(i,e){let t=i.split("/"),s=t.length;return t.some(b0)&&(s+=aR),e&&(s+=iR),t.filter(o=>!b0(o)).reduce((o,l)=>o+(tR.test(l)?nR:l===""?rR:sR),s)}function lR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function uR(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",b=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:vr([l,b.pathname]),pathnameBase:pR(vr([l,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(l=vr([l,b.pathnameBase]))}return h}function Nh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=cR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},A)=>{if(E==="*"){let V=d[A]||"";h=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const x=d[A];return b&&!x?g[E]=void 0:g[E]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:i}}function cR(i,e=!1,t=!0){hi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function hR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Tr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function fR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?jo(i):i;return{pathname:t?t.startsWith("/")?t:dR(t,e):e,search:gR(s),hash:yR(o)}}function dR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Pm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $p(i){let e=mR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Kp(i,e,t,s=!1){let o;typeof i=="string"?o=jo(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}d=b>=0?e[b]:"/"}let p=fR(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var vr=i=>i.join("/").replace(/\/\/+/g,"/"),pR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,yR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function vR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var xT=["POST","PUT","PATCH","DELETE"];new Set(xT);var _R=["GET",...xT];new Set(_R);var zo=O.createContext(null);zo.displayName="DataRouter";var nf=O.createContext(null);nf.displayName="DataRouterState";var MT=O.createContext({isTransitioning:!1});MT.displayName="ViewTransition";var ER=O.createContext(new Map);ER.displayName="Fetchers";var TR=O.createContext(null);TR.displayName="Await";var mi=O.createContext(null);mi.displayName="Navigation";var Du=O.createContext(null);Du.displayName="Location";var Bi=O.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var Qp=O.createContext(null);Qp.displayName="RouteError";function bR(i,{relative:e}={}){at(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=O.useContext(mi),{hash:o,pathname:l,search:h}=Ou(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:vr([t,l])),s.createHref({pathname:d,search:h,hash:o})}function Bo(){return O.useContext(Du)!=null}function Ir(){return at(Bo(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Du).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VT(i){O.useContext(mi).static||O.useLayoutEffect(i)}function qo(){let{isDataRoute:i}=O.useContext(Bi);return i?VR():wR()}function wR(){at(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(zo),{basename:e,navigator:t}=O.useContext(mi),{matches:s}=O.useContext(Bi),{pathname:o}=Ir(),l=JSON.stringify($p(s)),h=O.useRef(!1);return VT(()=>{h.current=!0}),O.useCallback((p,g={})=>{if(hi(h.current,kT),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=Kp(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,o,i])}O.createContext(null);function Ou(i,{relative:e}={}){let{matches:t}=O.useContext(Bi),{pathname:s}=Ir(),o=JSON.stringify($p(t));return O.useMemo(()=>Kp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function AR(i,e){return PT(i,e)}function PT(i,e,t,s){var te;at(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=O.useContext(mi),{matches:h}=O.useContext(Bi),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",b=d&&d.route;{let Y=b&&b.path||"";LT(g,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=Ir(),x;if(e){let Y=typeof e=="string"?jo(e):e;at(E==="/"||((te=Y.pathname)==null?void 0:te.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),x=Y}else x=A;let V=x.pathname||"/",$=V;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");$="/"+V.replace(/^\//,"").split("/").slice(Y.length).join("/")}let j=!l&&t&&t.matches&&t.matches.length>0?t.matches:NT(i,{pathname:$});hi(b||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),hi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=NR(j&&j.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:vr([E,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:vr([E,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,t,s);return e&&G?O.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},G):G}function SR(){let i=kR(),e=vR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,h)}var RR=O.createElement(SR,null),CR=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?O.createElement(Bi.Provider,{value:this.props.routeContext},O.createElement(Qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function IR({routeContext:i,match:e,children:t}){let s=O.useContext(zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Bi.Provider,{value:i},t)}function NR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:b}=t,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||A){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,A=!1,x=null,V=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||RR,h&&(d<0&&E===0?(LT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,V=null):d===E&&(A=!0,V=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),j=()=>{let G;return b?G=x:A?G=V:g.route.Component?G=O.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,O.createElement(IR,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:G})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?O.createElement(CR,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function Yp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DR(i){let e=O.useContext(zo);return at(e,Yp(i)),e}function OR(i){let e=O.useContext(nf);return at(e,Yp(i)),e}function xR(i){let e=O.useContext(Bi);return at(e,Yp(i)),e}function Xp(i){let e=xR(i),t=e.matches[e.matches.length-1];return at(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function MR(){return Xp("useRouteId")}function kR(){var s;let i=O.useContext(Qp),e=OR("useRouteError"),t=Xp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function VR(){let{router:i}=DR("useNavigate"),e=Xp("useNavigate"),t=O.useRef(!1);return VT(()=>{t.current=!0}),O.useCallback(async(o,l={})=>{hi(t.current,kT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var w0={};function LT(i,e,t){!e&&!w0[i]&&(w0[i]=!0,hi(!1,t))}O.memo(PR);function PR({routes:i,future:e,state:t}){return PT(i,void 0,t,e)}function ru({to:i,replace:e,state:t,relative:s}){at(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(mi);hi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(Bi),{pathname:h}=Ir(),d=qo(),p=Kp(i,$p(l),h,s==="path"),g=JSON.stringify(p);return O.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function _o(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){at(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=jo(t));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:A="default"}=t,x=O.useMemo(()=>{let V=Tr(p,h);return V==null?null:{location:{pathname:V,search:g,hash:E,state:b,key:A},navigationType:s}},[h,p,g,E,b,A,s]);return hi(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(mi.Provider,{value:d},O.createElement(Du.Provider,{children:e,value:x}))}function UR({children:i,location:e}){return AR(hp(i),e)}function hp(i,e=[]){let t=[];return O.Children.forEach(i,(s,o)=>{if(!O.isValidElement(s))return;let l=[...e,o];if(s.type===O.Fragment){t.push.apply(t,hp(s.props.children,l));return}at(s.type===_o,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hp(s.props.children,l)),t.push(h)}),t}var yh="get",vh="application/x-www-form-urlencoded";function rf(i){return i!=null&&typeof i.tagName=="string"}function jR(i){return rf(i)&&i.tagName.toLowerCase()==="button"}function zR(i){return rf(i)&&i.tagName.toLowerCase()==="form"}function BR(i){return rf(i)&&i.tagName.toLowerCase()==="input"}function qR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function HR(i,e){return i.button===0&&(!e||e==="_self")&&!qR(i)}var oh=null;function FR(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var GR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(i){return i!=null&&!GR.has(i)?(hi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):i}function $R(i,e){let t,s,o,l,h;if(zR(i)){let d=i.getAttribute("action");s=d?Tr(d,e):null,t=i.getAttribute("method")||yh,o=Lm(i.getAttribute("enctype"))||vh,l=new FormData(i)}else if(jR(i)||BR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?Tr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||yh,o=Lm(i.getAttribute("formenctype"))||Lm(d.getAttribute("enctype"))||vh,l=new FormData(d,i),!FR()){let{name:g,type:E,value:b}=i;if(E==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,b)}}else{if(rf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yh,s=null,o=vh,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Wp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function KR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function YR(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await KR(l,t);return h.links?h.links():[]}return[]}));return JR(s.flat(1).filter(QR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A0(i,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function XR(i,e,{includeHydrateFallback:t}={}){return WR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function WR(i){return[...new Set(i)]}function ZR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function JR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(ZR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function e2(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Tr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function UT(){let i=O.useContext(zo);return Wp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function t2(){let i=O.useContext(nf);return Wp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zp=O.createContext(void 0);Zp.displayName="FrameworkContext";function jT(){let i=O.useContext(Zp);return Wp(i,"You must render this element inside a <HydratedRouter> element"),i}function n2(i,e){let t=O.useContext(Zp),[s,o]=O.useState(!1),[l,h]=O.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,A=O.useRef(null);O.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=G=>{G.forEach(te=>{h(te.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),O.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let x=()=>{o(!0)},V=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,A,{}]:[l,A,{onFocus:su(d,x),onBlur:su(p,V),onMouseEnter:su(g,x),onMouseLeave:su(E,V),onTouchStart:su(b,x)}]:[!1,A,{}]}function su(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function i2({page:i,...e}){let{router:t}=UT(),s=O.useMemo(()=>NT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?O.createElement(s2,{page:i,matches:s,...e}):null}function r2(i){let{manifest:e,routeModules:t}=jT(),[s,o]=O.useState([]);return O.useEffect(()=>{let l=!1;return YR(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function s2({page:i,matches:e,...t}){let s=Ir(),{manifest:o,routeModules:l}=jT(),{basename:h}=UT(),{loaderData:d,matches:p}=t2(),g=O.useMemo(()=>A0(i,e,p,o,s,"data"),[i,e,p,o,s]),E=O.useMemo(()=>A0(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=O.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let V=new Set,$=!1;if(e.forEach(G=>{var Y;let te=o.routes[G.route.id];!te||!te.hasLoader||(!g.some(ie=>ie.route.id===G.route.id)&&G.route.id in d&&((Y=l[G.route.id])!=null&&Y.shouldRevalidate)||te.hasClientLoader?$=!0:V.add(G.route.id))}),V.size===0)return[];let j=e2(i,h);return $&&V.size>0&&j.searchParams.set("_routes",e.filter(G=>V.has(G.route.id)).map(G=>G.route.id).join(",")),[j.pathname+j.search]},[h,d,s,o,g,e,i,l]),A=O.useMemo(()=>XR(E,o),[E,o]),x=r2(E);return O.createElement(O.Fragment,null,b.map(V=>O.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),A.map(V=>O.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),x.map(({key:V,link:$})=>O.createElement("link",{key:V,...$})))}function a2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zT&&(window.__reactRouterVersion="7.5.0")}catch{}function o2({basename:i,children:e,window:t}){let s=O.useRef();s.current==null&&(s.current=XS({window:t,v5Compat:!0}));let o=s.current,[l,h]=O.useState({action:o.action,location:o.location}),d=O.useCallback(p=>{O.startTransition(()=>h(p))},[h]);return O.useLayoutEffect(()=>o.listen(d),[o,d]),O.createElement(LR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qT=O.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:b,...A},x){let{basename:V}=O.useContext(mi),$=typeof g=="string"&&BT.test(g),j,G=!1;if(typeof g=="string"&&$&&(j=g,zT))try{let S=new URL(window.location.href),N=g.startsWith("//")?new URL(S.protocol+g):new URL(g),P=Tr(N.pathname,V);N.origin===S.origin&&P!=null?g=P+N.search+N.hash:G=!0}catch{hi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=bR(g,{relative:o}),[Y,ie,ae]=n2(s,A),re=h2(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:b});function M(S){e&&e(S),S.defaultPrevented||re(S)}let R=O.createElement("a",{...A,...ae,href:j||te,onClick:G||l?e:M,ref:a2(x,ie),target:p,"data-discover":!$&&t==="render"?"true":void 0});return Y&&!$?O.createElement(O.Fragment,null,R,O.createElement(i2,{page:te})):R});qT.displayName="Link";var l2=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},E){let b=Ou(h,{relative:g.relative}),A=Ir(),x=O.useContext(nf),{navigator:V,basename:$}=O.useContext(mi),j=x!=null&&g2(b)&&d===!0,G=V.encodeLocation?V.encodeLocation(b).pathname:b.pathname,te=A.pathname,Y=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(te=te.toLowerCase(),Y=Y?Y.toLowerCase():null,G=G.toLowerCase()),Y&&$&&(Y=Tr(Y,$)||Y);const ie=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ae=te===G||!o&&te.startsWith(G)&&te.charAt(ie)==="/",re=Y!=null&&(Y===G||!o&&Y.startsWith(G)&&Y.charAt(G.length)==="/"),M={isActive:ae,isPending:re,isTransitioning:j},R=ae?e:void 0,S;typeof s=="function"?S=s(M):S=[s,ae?"active":null,re?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(M):l;return O.createElement(qT,{...g,"aria-current":R,className:S,ref:E,style:N,to:h,viewTransition:d},typeof p=="function"?p(M):p)});l2.displayName="NavLink";var u2=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=yh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...A},x)=>{let V=m2(),$=p2(d,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&BT.test(d),te=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,ae=(ie==null?void 0:ie.getAttribute("formmethod"))||h;V(ie||Y.currentTarget,{fetcherKey:e,method:ae,navigate:t,replace:o,state:l,relative:g,preventScrollReset:E,viewTransition:b})};return O.createElement("form",{ref:x,method:j,action:$,onSubmit:s?p:te,...A,"data-discover":!G&&i==="render"?"true":void 0})});u2.displayName="Form";function c2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HT(i){let e=O.useContext(zo);return at(e,c2(i)),e}function h2(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=qo(),p=Ir(),g=Ou(i,{relative:l});return O.useCallback(E=>{if(HR(E,e)){E.preventDefault();let b=t!==void 0?t:_u(p)===_u(g);d(i,{replace:b,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,i,o,l,h])}var f2=0,d2=()=>`__${String(++f2)}__`;function m2(){let{router:i}=HT("useSubmit"),{basename:e}=O.useContext(mi),t=MR();return O.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=$R(s,e);if(o.navigate===!1){let E=o.fetcherKey||d2();await i.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function p2(i,{relative:e}={}){let{basename:t}=O.useContext(mi),s=O.useContext(Bi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ou(i||".",{relative:e})},h=Ir();if(i==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let E=d.toString();l.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:vr([t,l.pathname])),_u(l)}function g2(i,e={}){let t=O.useContext(MT);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HT("useViewTransitionState"),o=Ou(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Tr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Tr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Nh(o.pathname,h)!=null||Nh(o.pathname,l)!=null}new TextEncoder;var y2=IT();const Ao=Uo(y2);var Um={},S0;function v2(){return S0||(S0=1,function(i){Object.defineProperty(i,"__esModule",{value:!0});var e=tf();function t(h){if(h&&h.__esModule)return h;var d=Object.create(null);return h&&Object.keys(h).forEach(function(p){if(p!=="default"){var g=Object.getOwnPropertyDescriptor(h,p);Object.defineProperty(d,p,g.get?g:{enumerable:!0,get:function(){return h[p]}})}}),d.default=h,Object.freeze(d)}var s=t(e);/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var o=function(){return o=Object.assign||function(d){for(var p,g=1,E=arguments.length;g<E;g++){p=arguments[g];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(d[b]=p[b])}return d},o.apply(this,arguments)},l=function(h){var d=h.bgColor,p=d===void 0?"#6a1b9a":d,g=h.height,E=g===void 0?"20px":g,b=h.width,A=b===void 0?"100%":b,x=h.borderRadius,V=x===void 0?"50px":x,$=h.labelAlignment,j=$===void 0?"right":$,G=h.baseBgColor,te=G===void 0?"#e0e0de":G,Y=h.labelColor,ie=Y===void 0?"#fff":Y,ae=h.labelSize,re=ae===void 0?"15px":ae,M=h.isLabelVisible,R=M===void 0?!0:M,S=h.dir,N=S===void 0?"ltr":S,P=h.ariaValuemin,z=P===void 0?0:P,D=h.ariaValuemax,nt=D===void 0?100:D,Ze=h.ariaValuetext,se=Ze===void 0?null:Ze,ge=h.maxCompleted,ce=ge===void 0?100:ge,Ve=h.animateOnRender,k=Ve===void 0?!1:Ve,ee=h.initCompletedOnAnimation,he=ee===void 0?0:ee,ue=h.isIndeterminate,oe=ue===void 0?!1:ue,Ee=h.completed,we=h.margin,Je=h.padding,Oe=h.customLabelStyles,Ke=h.transitionDuration,xe=h.transitionTimingFunction,ot=h.className,Rt=h.customLabel,gt=h.barContainerClassName,Pt=h.completedClassName,Me=h.labelClassName,Zt=function(Mn){return Mn==="left"?"flex-start":Mn==="center"?"center":Mn==="right"?"flex-end":null},pn=Zt(j),ei=typeof he=="number"?"".concat(he,"%"):he,pi=function(Mn,Zo){if(Mn){var gi=Number(Zo)/Mn;return gi>1?"100%":"".concat(gi*100,"%")}return ei},wn=pi(ce,Ee),ti=s.useState(ei),Os=ti[0],Hi=ti[1],Ct={height:E,background:te,borderRadius:V,padding:Je,width:A,margin:we,overflow:"hidden"},Dr={height:E,width:oe?"100%":k?Os:wn,background:p,transition:oe?"none":"width ".concat(Ke||"1s"," ").concat(xe||"ease-in-out"),borderRadius:"inherit",display:"flex",alignItems:"center",justifyContent:j!=="outside"&&pn?pn:"normal",animation:oe?"indeterminate 1.5s infinite linear":"none"},_e=o({padding:j==="outside"?"0 0 0 5px":"5px",color:ie,fontWeight:"bold",fontSize:re,display:R?"initial":"none"},Oe),et={display:j==="outside"?"flex":"initial",alignItems:j==="outside"?"center":"initial"},gn=typeof Ee=="number"?"".concat(Ee,"%"):"".concat(Ee),Fi=Rt||gn;return s.useEffect(function(){k&&!oe&&requestAnimationFrame(function(){return Hi(wn)})},[wn,k,oe]),s.createElement("div",{style:ot?void 0:et,className:ot,dir:N,role:"progressbar","aria-valuenow":oe?void 0:parseFloat(Fi),"aria-valuemin":z,"aria-valuemax":nt,"aria-valuetext":"".concat(se===null?Fi:se)},s.createElement("div",{style:gt?void 0:Ct,className:gt},s.createElement("div",{style:Pt?void 0:Dr,className:Pt},j!=="outside"&&s.createElement("span",{style:Me?void 0:_e,className:Me},Fi))),j==="outside"&&s.createElement("span",{style:Me?void 0:_e,className:Me},Fi),s.createElement("style",null,`
          @keyframes indeterminate {
            0% {
              width: 30%;
              transform: translateX(-50%);
            }
            50% {
              width: 30%;
              transform: translateX(250%);
            }
            100% {
              width: 30%;
              transform: translateX(-50%);
            }
          }
        `))};i.default=l}(Um)),Um}var _2=v2();const au=Uo(_2);var FT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R0=fn.createContext&&fn.createContext(FT),E2=["attr","size","title"];function T2(i,e){if(i==null)return{};var t=b2(i,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function b2(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Dh(){return Dh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Dh.apply(this,arguments)}function C0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Oh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C0(Object(t),!0).forEach(function(s){w2(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):C0(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function w2(i,e,t){return e=A2(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function A2(i){var e=S2(i,"string");return typeof e=="symbol"?e:e+""}function S2(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function GT(i){return i&&i.map((e,t)=>fn.createElement(e.tag,Oh({key:t},e.attr),GT(e.child)))}function Vt(i){return e=>fn.createElement(R2,Dh({attr:Oh({},i.attr)},e),GT(i.child))}function R2(i){var e=t=>{var{attr:s,size:o,title:l}=i,h=T2(i,E2),d=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),fn.createElement("svg",Dh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Oh(Oh({color:i.color||t.color},t.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&fn.createElement("title",null,l),i.children)};return R0!==void 0?fn.createElement(R0.Consumer,null,t=>e(t)):e(FT)}function C2(i){return Vt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,40V224a8,8,0,0,1-16,0V176H152a8,8,0,0,1-8-8,268.75,268.75,0,0,1,7.22-56.88c9.78-40.49,28.32-67.63,53.63-78.47A8,8,0,0,1,216,40Zm-96.11-1.31a8,8,0,1,0-15.78,2.63L111.89,88H88V40a8,8,0,0,0-16,0V88H48.11l7.78-46.68a8,8,0,1,0-15.78-2.63l-8,48A8.17,8.17,0,0,0,32,88a48.07,48.07,0,0,0,40,47.32V224a8,8,0,0,0,16,0V135.32A48.07,48.07,0,0,0,128,88a8.17,8.17,0,0,0-.11-1.31Z"},child:[]}]})(i)}function I2(i){return Vt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"},child:[]}]})(i)}function N2(i){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M346.7 6C337.6 17 320 42.3 320 72c0 40 15.3 55.3 40 80s40 40 80 40c29.7 0 55-17.6 66-26.7c4-3.3 6-8.2 6-13.3s-2-10-6-13.2c-11.4-9.1-38.3-26.8-74-26.8c-32 0-40 8-40 8s8-8 8-40c0-35.7-17.7-62.6-26.8-74C370 2 365.1 0 360 0s-10 2-13.3 6zM244.6 136c-40 0-77.1 18.1-101.7 48.2l60.5 60.5c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0l-55.3-55.3 0 .1L2.2 477.9C-2 487-.1 497.8 7 505s17.9 9 27.1 4.8l134.7-62.4-52.1-52.1c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L199.7 433l100.2-46.4c46.4-21.5 76.2-68 76.2-119.2C376 194.8 317.2 136 244.6 136z"},child:[]}]})(i)}function D2(i){return Vt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 512C86 512 0 426 0 320C0 228.8 130.2 57.7 166.6 11.7C172.6 4.2 181.5 0 191.1 0l1.8 0c9.6 0 18.5 4.2 24.5 11.7C253.8 57.7 384 228.8 384 320c0 106-86 192-192 192zM96 336c0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.9 50.1 112 112 112c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.2 0-80-35.8-80-80z"},child:[]}]})(i)}function O2(i){return Vt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 160 0 64 0 160c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-64-32 0c-17.7 0-32-14.3-32-32l0-64c-17.7 0-32-14.3-32-32s14.3-32 32-32l0-64c0-17.7 14.3-32 32-32l32 0 0-64zm448 0l0 64 32 0c17.7 0 32 14.3 32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 64c0 17.7-14.3 32-32 32l-32 0 0 64c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-160 0-64 0-160c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32zM416 224l0 64-192 0 0-64 192 0z"},child:[]}]})(i)}function x2(i){return Vt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM125.7 175.5c9.9-9.9 23.4-15.5 37.5-15.5c1.9 0 3.8 .1 5.6 .3L137.6 254c-9.3 28 1.7 58.8 26.8 74.5l86.2 53.9-25.4 88.8c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l28.7-100.4c5.9-20.6-2.6-42.6-20.7-53.9L238 299l30.9-82.4 5.1 12.3C289 264.7 323.9 288 362.7 288l21.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-21.3 0c-12.9 0-24.6-7.8-29.5-19.7l-6.3-15c-14.6-35.1-44.1-61.9-80.5-73.1l-48.7-15c-11.1-3.4-22.7-5.2-34.4-5.2c-31 0-60.8 12.3-82.7 34.3L57.4 153.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l23.1-23.1zM91.2 352L32 352c-17.7 0-32 14.3-32 32s14.3 32 32 32l69.6 0c19 0 36.2-11.2 43.9-28.5L157 361.6l-9.5-6c-17.5-10.9-30.5-26.8-37.9-44.9L91.2 352z"},child:[]}]})(i)}function M2(i){return Vt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(i)}function k2(i){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M445.588 56l-.026 384.352c6.881 11.323 14 15.677 19.97 15.648 5.924-.028 12.967-4.434 19.714-15.418L466.82 244.27l-.215-2.391 1.475-1.906c21.174-27.169 28.573-74.108 22.533-113.81-3.02-19.852-9.342-37.82-18.195-50.522-7.424-10.652-16.28-17.447-26.828-19.641h-.002zm-372.375.004l-.016 67.127-12.56-.016V56.008H46.332l.002 67.11H33.756v-67.11h-14.57v103.228c-.001 11.417 6.23 17.748 16.04 21.662l4.06 1.622-.09 4.37c-2 84.57-3.977 169.139-5.962 253.708C40.074 451.79 47.1 456.028 52.95 456c5.85-.028 12.87-4.377 19.623-15.432-2.315-84.547-4.63-169.096-6.941-253.644l-.12-4.4 4.073-1.606c10.324-4.106 17.039-11.074 17.039-21.676V56.004h-13.41zM256 95A161 161 0 0 0 95 256a161 161 0 0 0 161 161 161 161 0 0 0 161-161A161 161 0 0 0 256 95z"},child:[]}]})(i)}function V2(i){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.188 40.375c-168.48 35.59-220.94 167.97-17 187.47-13.147 35.014-21.172 74.948-22.22 114.218-35.694 33.01-59.593 66.343-59.593 66.343l47.72 47.72-39.345 26.218h113.28c-73.368-73.383-21.278-104.5 65.626-104.5 88.096 0 134.175 35.905 65.594 104.5h114.5l-40.563-26.22 47.72-47.718s-22.25-31.027-55.844-62.844c-.65-40.39-8.807-81.663-22.344-117.718 203.953-19.496 151.482-151.878-17-187.47-40.813 30.863 6.55 79.75 43.717 44.626 36.908 54.048 8.752 99.845-71.937 65.594-.02-.022-.042-.04-.063-.063-9.66 28.054-33.333 48.47-61.968 48.47-28.637 0-52.332-20.416-62-48.47l-.064.064C111.736 184.826 83.596 139.042 120.5 85c37.168 35.125 84.5-13.763 43.688-44.625zm90.28 24.063c-25.736 0-48 25.088-48 57.937 0 32.85 22.264 57.938 48 57.938 25.738 0 47.97-25.086 47.97-57.938 0-32.852-22.232-57.938-47.97-57.938z"},child:[]}]})(i)}const P2=()=>{};var I0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},L2=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=l>>2,b=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,x=g&63;p||(x=64,h||(A=64)),s.push(t[E],t[b],t[A],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray($T(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):L2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||b==null)throw new U2;const A=l<<2|d>>4;if(s.push(A),g!==64){const x=d<<4&240|g>>2;if(s.push(x),b!==64){const V=g<<6&192|b;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class U2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j2=function(i){const e=$T(i);return KT.encodeByteArray(e,!0)},xh=function(i){return j2(i).replace(/\./g,"")},QT=function(i){try{return KT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=()=>z2().__FIREBASE_DEFAULTS__,q2=()=>{if(typeof process>"u"||typeof I0>"u")return;const i=I0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},H2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&QT(i[1]);return e&&JSON.parse(e)},sf=()=>{try{return P2()||B2()||q2()||H2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},YT=i=>{var e,t;return(t=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},XT=i=>{const e=YT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},WT=()=>{var i;return(i=sf())===null||i===void 0?void 0:i.config},ZT=i=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[xh(JSON.stringify(t)),xh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function $2(){var i;const e=(i=sf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Q2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y2(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function X2(){return!$2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function n1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function W2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="FirebaseError";class Jn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Z2,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wa.prototype.create)}}class wa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?J2(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Jn(o,d,s)}}function J2(i,e){return i.replace(eC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eC=/\{\$([^}]+)}/g;function tC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function br(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(N0(l)&&N0(h)){if(!br(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function N0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nC(i,e){const t=new iC(i,e);return t.subscribe.bind(t)}class iC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");rC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=jm),o.error===void 0&&(o.error=jm),o.complete===void 0&&(o.complete=jm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1e3,aC=2,oC=4*60*60*1e3,lC=.5;function D0(i,e=sC,t=aC){const s=e*Math.pow(t,i),o=Math.round(lC*s*(Math.random()-.5)*2);return Math.min(oC,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(i){return i&&i._delegate?i._delegate:i}class Wn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new F2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hC(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cC(i){return i===la?void 0:i}function hC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const dC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},mC=Le.INFO,pC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},gC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=pC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class af{constructor(e){this.name=e,this._logLevel=mC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const yC=(i,e)=>e.some(t=>i instanceof t);let O0,x0;function vC(){return O0||(O0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _C(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i1=new WeakMap,fp=new WeakMap,r1=new WeakMap,zm=new WeakMap,Jp=new WeakMap;function EC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(vs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&i1.set(t,i)}).catch(()=>{}),Jp.set(e,i),e}function TC(i){if(fp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});fp.set(i,e)}let dp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return fp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||r1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bC(i){dp=i(dp)}function wC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Bm(this),e,...t);return r1.set(s,e.sort?e.sort():[e]),vs(s)}:_C().includes(i)?function(...e){return i.apply(Bm(this),e),vs(i1.get(this))}:function(...e){return vs(i.apply(Bm(this),e))}}function AC(i){return typeof i=="function"?wC(i):(i instanceof IDBTransaction&&TC(i),yC(i,vC())?new Proxy(i,dp):i)}function vs(i){if(i instanceof IDBRequest)return EC(i);if(zm.has(i))return zm.get(i);const e=AC(i);return e!==i&&(zm.set(i,e),Jp.set(e,i)),e}const Bm=i=>Jp.get(i);function s1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),d=vs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(vs(h.result),p.oldVersion,p.newVersion,vs(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const SC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],qm=new Map;function M0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=RC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SC.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return qm.set(e,l),l}bC(i=>({...i,get:(e,t,s)=>M0(e,t)||i.get(e,t,s),has:(e,t)=>!!M0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function IC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",k0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new af("@firebase/app"),NC="@firebase/app-compat",DC="@firebase/analytics-compat",OC="@firebase/analytics",xC="@firebase/app-check-compat",MC="@firebase/app-check",kC="@firebase/auth",VC="@firebase/auth-compat",PC="@firebase/database",LC="@firebase/data-connect",UC="@firebase/database-compat",jC="@firebase/functions",zC="@firebase/functions-compat",BC="@firebase/installations",qC="@firebase/installations-compat",HC="@firebase/messaging",FC="@firebase/messaging-compat",GC="@firebase/performance",$C="@firebase/performance-compat",KC="@firebase/remote-config",QC="@firebase/remote-config-compat",YC="@firebase/storage",XC="@firebase/storage-compat",WC="@firebase/firestore",ZC="@firebase/vertexai",JC="@firebase/firestore-compat",eI="firebase",tI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",nI={[mp]:"fire-core",[NC]:"fire-core-compat",[OC]:"fire-analytics",[DC]:"fire-analytics-compat",[MC]:"fire-app-check",[xC]:"fire-app-check-compat",[kC]:"fire-auth",[VC]:"fire-auth-compat",[PC]:"fire-rtdb",[LC]:"fire-data-connect",[UC]:"fire-rtdb-compat",[jC]:"fire-fn",[zC]:"fire-fn-compat",[BC]:"fire-iid",[qC]:"fire-iid-compat",[HC]:"fire-fcm",[FC]:"fire-fcm-compat",[GC]:"fire-perf",[$C]:"fire-perf-compat",[KC]:"fire-rc",[QC]:"fire-rc-compat",[YC]:"fire-gcs",[XC]:"fire-gcs-compat",[WC]:"fire-fst",[JC]:"fire-fst-compat",[ZC]:"fire-vertex","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,iI=new Map,gp=new Map;function V0(i,e){try{i.container.addComponent(e)}catch(t){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function fi(i){const e=i.name;if(gp.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,i);for(const t of Mh.values())V0(t,i);for(const t of iI.values())V0(t,i);return!0}function Is(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Xn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new wa("app","Firebase",rI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=tI;function a1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(t||(t=WT()),!t)throw _s.create("no-options");const l=Mh.get(o);if(l){if(br(t,l.options)&&br(s,l.config))return l;throw _s.create("duplicate-app",{appName:o})}const h=new fC(o);for(const p of gp.values())h.addComponent(p);const d=new sI(t,s,h);return Mh.set(o,d),d}function of(i=pp){const e=Mh.get(i);if(!e&&i===pp&&WT())return a1();if(!e)throw _s.create("no-app",{appName:i});return e}function Tn(i,e,t){var s;let o=(s=nI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(d.join(" "));return}fi(new Wn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebase-heartbeat-database",oI=1,Eu="firebase-heartbeat-store";let Hm=null;function o1(){return Hm||(Hm=s1(aI,oI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Eu)}catch(t){console.warn(t)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),Hm}async function lI(i){try{const t=(await o1()).transaction(Eu),s=await t.objectStore(Eu).get(l1(i));return await t.done,s}catch(e){if(e instanceof Jn)wr.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(t.message)}}}async function P0(i,e){try{const s=(await o1()).transaction(Eu,"readwrite");await s.objectStore(Eu).put(e,l1(i)),await s.done}catch(t){if(t instanceof Jn)wr.warn(t.message);else{const s=_s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wr.warn(s.message)}}}function l1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,cI=30;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=L0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>cI){const h=mI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){wr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L0(),{heartbeatsToSend:s,unsentEntries:o}=fI(this._heartbeatsCache.heartbeats),l=xh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return wr.warn(t),""}}}function L0(){return new Date().toISOString().substring(0,10)}function fI(i,e=uI){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),U0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),U0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class dI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?n1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return P0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return P0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function U0(i){return xh(JSON.stringify({version:2,heartbeats:i})).length}function mI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){fi(new Wn("platform-logger",e=>new CC(e),"PRIVATE")),fi(new Wn("heartbeat",e=>new hI(e),"PRIVATE")),Tn(mp,k0,i),Tn(mp,k0,"esm2017"),Tn("fire-js","")}pI("");var gI="firebase",yI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn(gI,yI,"app");function eg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function u1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=u1,c1=new wa("auth","Firebase",u1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new af("@firebase/auth");function _I(i,...e){kh.logLevel<=Le.WARN&&kh.warn(`Auth (${Aa}): ${i}`,...e)}function _h(i,...e){kh.logLevel<=Le.ERROR&&kh.error(`Auth (${Aa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(i,...e){throw ng(i,...e)}function ci(i,...e){return ng(i,...e)}function tg(i,e,t){const s=Object.assign(Object.assign({},vI()),{[e]:t});return new wa("auth","Firebase",s).create(e,{appName:i.name})}function pa(i){return tg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EI(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ui(i,"argument-error"),tg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ng(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return c1.create(i,...e)}function Ae(i,e,...t){if(!i)throw ng(e,...t)}function gr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw _h(e),new Error(e)}function Ar(i,e){i||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function TI(){return j0()==="http:"||j0()==="https:"}function j0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TI()||e1()||"connection"in navigator)?navigator.onLine:!0}function wI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=G2()||Q2()}get(){return bI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e){Ar(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RI=new Mu(3e4,6e4);function rg(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ho(i,e,t,s,o={}){return f1(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=xu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},l);return K2()||(g.referrerPolicy="no-referrer"),h1.fetch()(await d1(i,i.config.apiHost,t,d),g)})}async function f1(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},AI),e);try{const o=new II(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw lh(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw lh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw lh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tg(i,E,g);Ui(i,E)}}catch(o){if(o instanceof Jn)throw o;Ui(i,"network-request-failed",{message:String(o)})}}async function CI(i,e,t,s,o={}){const l=await Ho(i,e,t,s,o);return"mfaPendingCredential"in l&&Ui(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function d1(i,e,t,s){const o=`${e}${t}?${s}`,l=i,h=l.config.emulator?ig(i.config,o):`${i.config.apiScheme}://${o}`;return SI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class II{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),RI.get())})}}function lh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ci(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(i,e){return Ho(i,"POST","/v1/accounts:delete",e)}async function Vh(i,e){return Ho(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DI(i,e=!1){const t=kt(i),s=await t.getIdToken(e),o=sg(s);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:du(Fm(o.auth_time)),issuedAtTime:du(Fm(o.iat)),expirationTime:du(Fm(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Fm(i){return Number(i)*1e3}function sg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const o=QT(t);return o?JSON.parse(o):(_h("Failed to decode base64 JWT payload"),null)}catch(o){return _h("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function z0(i){const e=sg(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Jn&&OI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function OI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Tu(i,Vh(t,{idToken:s}));Ae(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?m1(l.providerUserInfo):[],d=kI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vp(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function MI(i){const e=kt(i);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function m1(i){return i.map(e=>{var{providerId:t}=e,s=eg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(i,e){const t=await f1(i,{},async()=>{const s=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=await d1(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",h1.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function PI(i,e){return Ho(i,"POST","/v2/accounts:revokeToken",rg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=z0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await VI(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new So;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ae(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=eg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DI(this,e)}reload(){return MI(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(pa(this.auth));const e=await this.getIdToken();return await Tu(this,NI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,E;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,x=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,V=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=t.createdAt)!==null&&g!==void 0?g:void 0,te=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Y,emailVerified:ie,isAnonymous:ae,providerData:re,stsTokenManager:M}=t;Ae(Y&&M,e,"internal-error");const R=So.fromJSON(this.name,M);Ae(typeof Y=="string",e,"internal-error"),fs(b,e.name),fs(A,e.name),Ae(typeof ie=="boolean",e,"internal-error"),Ae(typeof ae=="boolean",e,"internal-error"),fs(x,e.name),fs(V,e.name),fs($,e.name),fs(j,e.name),fs(G,e.name),fs(te,e.name);const S=new li({uid:Y,auth:e,email:A,emailVerified:ie,displayName:b,isAnonymous:ae,photoURL:V,phoneNumber:x,tenantId:$,stsTokenManager:R,createdAt:G,lastLoginAt:te});return re&&Array.isArray(re)&&(S.providerData=re.map(N=>Object.assign({},N))),j&&(S._redirectEventId=j),S}static async _fromIdTokenResponse(e,t,s=!1){const o=new So;o.updateFromServerResponse(t);const l=new li({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ph(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?m1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new So;d.updateFromIdToken(s);const p=new li({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;function yr(i){Ar(i instanceof Function,"Expected a class definition");let e=B0.get(i);return e?(Ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,B0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}p1.type="NONE";const q0=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(i,e,t){return`firebase:${i}:${e}:${t}`}class Ro{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Eh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vh(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ro(yr(q0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||yr(q0);const h=Eh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){let b;if(typeof E=="string"){const A=await Vh(e,{idToken:E}).catch(()=>{});if(!A)break;b=await li._fromGetAccountInfoResponse(e,A,E)}else b=li._fromJSON(e,E);g!==l&&(d=b),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ro(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new Ro(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T1(e))return"Blackberry";if(b1(e))return"Webos";if(y1(e))return"Safari";if((e.includes("chrome/")||v1(e))&&!e.includes("edge/"))return"Chrome";if(E1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function g1(i=an()){return/firefox\//i.test(i)}function y1(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v1(i=an()){return/crios\//i.test(i)}function _1(i=an()){return/iemobile/i.test(i)}function E1(i=an()){return/android/i.test(i)}function T1(i=an()){return/blackberry/i.test(i)}function b1(i=an()){return/webos/i.test(i)}function ag(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function LI(i=an()){var e;return ag(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UI(){return Y2()&&document.documentMode===10}function w1(i=an()){return ag(i)||E1(i)||b1(i)||T1(i)||/windows phone/i.test(i)||_1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(i,e=[]){let t;switch(i){case"Browser":t=H0(an());break;case"Worker":t=`${H0(an())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Aa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(i,e={}){return Ho(i,"GET","/v2/passwordPolicy",rg(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=6;class qI{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:BI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F0(this),this.idTokenSubscription=new F0(this),this.beforeStateQueue=new jI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vh(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(pa(this));const t=e?kt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zI(this),t=new qI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await PI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yr(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&_I(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function lf(i){return kt(i)}class F0{constructor(e){this.auth=e,this.observer=null,this.addObserver=nC(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FI(i){og=i}function GI(i){return og.loadJS(i)}function $I(){return og.gapiScript}function KI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(i,e){const t=Is(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(br(l,e??{}))return o;Ui(o,"already-initialized")}return t.initialize({options:e})}function YI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(yr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function XI(i,e,t){const s=lf(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=S1(e),{host:h,port:d}=WI(e),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(br(g,s.config.emulator)&&br(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ZI()}function S1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function WI(i){const e=S1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:G0(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:G0(h)}}}function G0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function ZI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i,e){return CI(i,"POST","/v1/accounts:signInWithIdp",rg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="http://localhost";class va extends R1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new va(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=eg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new va(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Co(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Co(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}buildRequest(){const e={requestUri:JI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ku{constructor(){super("facebook.com")}static credential(e){return va._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return va._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return pr.credential(t,s)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends ku{constructor(){super("github.com")}static credential(e){return va._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends ku{constructor(){super("twitter.com")}static credential(e,t){return va._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return gs.credential(t,s)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await li._fromIdTokenResponse(e,s,o),h=$0(s);return new No({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=$0(s);return new No({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function $0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends Jn{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Lh(e,t,s,o)}}function C1(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(i,l,e,s):l})}async function e4(i,e,t=!1){const s=await Tu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return No._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(i,e,t=!1){const{auth:s}=i;if(Xn(s.app))return Promise.reject(pa(s));const o="reauthenticate";try{const l=await Tu(i,C1(s,o,e,i),t);Ae(l.idToken,s,"internal-error");const h=sg(l.idToken);Ae(h,s,"internal-error");const{sub:d}=h;return Ae(i.uid===d,s,"user-mismatch"),No._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ui(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(i,e,t=!1){if(Xn(i.app))return Promise.reject(pa(i));const s="signIn",o=await C1(i,s,e),l=await No._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}function i4(i,e,t,s){return kt(i).onIdTokenChanged(e,t,s)}function r4(i,e,t){return kt(i).beforeAuthStateChanged(e,t)}function s4(i,e,t,s){return kt(i).onAuthStateChanged(e,t,s)}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1e3,o4=10;class N1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);UI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o4):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},a4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}N1.type="LOCAL";const l4=N1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}D1.type="SESSION";const O1=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new uf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await u4(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=ug("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function h4(i){ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function f4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d4(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function m4(){return x1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebaseLocalStorageDb",p4=1,jh="firebaseLocalStorage",k1="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cf(i,e){return i.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function g4(){const i=indexedDB.deleteDatabase(M1);return new Vu(i).toPromise()}function _p(){const i=indexedDB.open(M1,p4);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(jh,{keyPath:k1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await g4(),e(await _p()))})})}async function K0(i,e,t){const s=cf(i,!0).put({[k1]:e,value:t});return new Vu(s).toPromise()}async function y4(i,e){const t=cf(i,!1).get(e),s=await new Vu(t).toPromise();return s===void 0?null:s.value}function Q0(i,e){const t=cf(i,!0).delete(e);return new Vu(t).toPromise()}const v4=800,_4=3;class V1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>_4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(m4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await f4(),!this.activeServiceWorker)return;this.sender=new c4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await K0(e,Uh,"1"),await Q0(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>K0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>y4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Q0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=cf(o,!1).getAll();return new Vu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V1.type="LOCAL";const E4=V1;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(i,e){return e?yr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends R1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function T4(i){return n4(i.auth,new cg(i),i.bypassAuthState)}function b4(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),t4(t,new cg(i),i.bypassAuthState)}async function w4(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),e4(t,new cg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T4;case"linkViaPopup":case"linkViaRedirect":return w4;case"reauthViaPopup":case"reauthViaRedirect":return b4;default:Ui(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new Mu(2e3,1e4);async function S4(i,e,t){if(Xn(i.app))return Promise.reject(ci(i,"operation-not-supported-in-this-environment"));const s=lf(i);EI(i,e,lg);const o=P1(s,t);return new fa(s,"signInViaPopup",e,o).executeNotNull()}class fa extends L1{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,fa.currentPopupAction&&fa.currentPopupAction.cancel(),fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A4.get())};e()}}fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="pendingRedirect",Th=new Map;class C4 extends L1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await I4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I4(i,e){const t=O4(e),s=D4(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function N4(i,e){Th.set(i._key(),e)}function D4(i){return yr(i._redirectPersistence)}function O4(i){return Eh(R4,i.config.apiKey,i.name)}async function x4(i,e,t=!1){if(Xn(i.app))return Promise.reject(pa(i));const s=lf(i),o=P1(s,e),h=await new C4(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=10*60*1e3;class k4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!U1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ci(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y0(e))}saveEventToCache(e){this.cachedEventUids.add(Y0(e)),this.lastProcessedEventTime=Date.now()}}function Y0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function U1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(i,e={}){return Ho(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U4=/^https?/;async function j4(i){if(i.config.emulator)return;const{authorizedDomains:e}=await P4(i);for(const t of e)try{if(z4(t))return}catch{}Ui(i,"unauthorized-domain")}function z4(i){const e=yp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!U4.test(t))return!1;if(L4.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Mu(3e4,6e4);function X0(){const i=ki().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function q4(i){return new Promise((e,t)=>{var s,o,l;function h(){X0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X0(),t(ci(i,"network-request-failed"))},timeout:B4.get()})}if(!((o=(s=ki().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ki().gapi)===null||l===void 0)&&l.load)h();else{const d=KI("iframefcb");return ki()[d]=()=>{gapi.load?h():t(ci(i,"network-request-failed"))},GI(`${$I()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw bh=null,e})}let bh=null;function H4(i){return bh=bh||q4(i),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new Mu(5e3,15e3),G4="__/auth/iframe",$4="emulator/auth/iframe",K4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y4(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ig(e,$4):`https://${i.config.authDomain}/${G4}`,s={apiKey:e.apiKey,appName:i.name,v:Aa},o=Q4.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${xu(s).slice(1)}`}async function X4(i){const e=await H4(i),t=ki().gapi;return Ae(t,i,"internal-error"),e.open({where:document.body,url:Y4(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=ci(i,"network-request-failed"),d=ki().setTimeout(()=>{l(h)},F4.get());function p(){ki().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z4=500,J4=600,eN="_blank",tN="http://localhost";class W0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nN(i,e,t,s=Z4,o=J4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},W4),{width:s.toString(),height:o.toString(),top:l,left:h}),g=an().toLowerCase();t&&(d=v1(g)?eN:t),g1(g)&&(e=e||tN,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[x,V])=>`${A}${x}=${V},`,"");if(LI(g)&&d!=="_self")return iN(e||"",d),new W0(null);const b=window.open(e||"",d,E);Ae(b,i,"popup-blocked");try{b.focus()}catch{}return new W0(b)}function iN(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="__/auth/handler",sN="emulator/auth/handler",aN=encodeURIComponent("fac");async function Z0(i,e,t,s,o,l){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Aa,eventId:o};if(e instanceof lg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",tC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof ku){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${aN}=${encodeURIComponent(p)}`:"";return`${oN(i)}?${xu(d).slice(1)}${g}`}function oN({config:i}){return i.emulator?ig(i,sN):`https://${i.authDomain}/${rN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O1,this._completeRedirectFn=x4,this._overrideRedirectResult=N4}async _openPopup(e,t,s,o){var l;Ar((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Z0(e,t,s,yp(),o);return nN(e,h,ug())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Z0(e,t,s,yp(),o);return h4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ar(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await X4(e),s=new k4(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gm,{type:Gm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Gm];h!==void 0&&t(!!h),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=j4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return w1()||y1()||ag()}}const uN=lN;var J0="@firebase/auth",eE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fN(i){fi(new Wn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A1(i)},g=new HI(s,o,l,p);return YI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),fi(new Wn("auth-internal",e=>{const t=lf(e.getProvider("auth").getImmediate());return(s=>new cN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(J0,eE,hN(i)),Tn(J0,eE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=5*60,mN=ZT("authIdTokenMaxAge")||dN;let tE=null;const pN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>mN)return;const o=t==null?void 0:t.token;tE!==o&&(tE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gN(i=of()){const e=Is(i,"auth");if(e.isInitialized())return e.getImmediate();const t=QI(i,{popupRedirectResolver:uN,persistence:[E4,l4,O1]}),s=ZT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=pN(l.toString());r4(t,h,()=>h(t.currentUser)),i4(t,d=>h(d))}}const o=YT("auth");return o&&XI(t,`http://${o}`),t}function yN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}FI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=ci("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",yN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fN("Browser");var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,j1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function S(){}S.prototype=R.prototype,M.D=R.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(N,P,z){for(var D=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)D[nt-2]=arguments[nt];return R.prototype[P].apply(N,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,S){S||(S=0);var N=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)N[P]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(P=0;16>P;++P)N[P]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=M.g[0],S=M.g[1],P=M.g[2];var z=M.g[3],D=R+(z^S&(P^z))+N[0]+3614090360&4294967295;R=S+(D<<7&4294967295|D>>>25),D=z+(P^R&(S^P))+N[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=P+(S^z&(R^S))+N[2]+606105819&4294967295,P=z+(D<<17&4294967295|D>>>15),D=S+(R^P&(z^R))+N[3]+3250441966&4294967295,S=P+(D<<22&4294967295|D>>>10),D=R+(z^S&(P^z))+N[4]+4118548399&4294967295,R=S+(D<<7&4294967295|D>>>25),D=z+(P^R&(S^P))+N[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=P+(S^z&(R^S))+N[6]+2821735955&4294967295,P=z+(D<<17&4294967295|D>>>15),D=S+(R^P&(z^R))+N[7]+4249261313&4294967295,S=P+(D<<22&4294967295|D>>>10),D=R+(z^S&(P^z))+N[8]+1770035416&4294967295,R=S+(D<<7&4294967295|D>>>25),D=z+(P^R&(S^P))+N[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=P+(S^z&(R^S))+N[10]+4294925233&4294967295,P=z+(D<<17&4294967295|D>>>15),D=S+(R^P&(z^R))+N[11]+2304563134&4294967295,S=P+(D<<22&4294967295|D>>>10),D=R+(z^S&(P^z))+N[12]+1804603682&4294967295,R=S+(D<<7&4294967295|D>>>25),D=z+(P^R&(S^P))+N[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=P+(S^z&(R^S))+N[14]+2792965006&4294967295,P=z+(D<<17&4294967295|D>>>15),D=S+(R^P&(z^R))+N[15]+1236535329&4294967295,S=P+(D<<22&4294967295|D>>>10),D=R+(P^z&(S^P))+N[1]+4129170786&4294967295,R=S+(D<<5&4294967295|D>>>27),D=z+(S^P&(R^S))+N[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=P+(R^S&(z^R))+N[11]+643717713&4294967295,P=z+(D<<14&4294967295|D>>>18),D=S+(z^R&(P^z))+N[0]+3921069994&4294967295,S=P+(D<<20&4294967295|D>>>12),D=R+(P^z&(S^P))+N[5]+3593408605&4294967295,R=S+(D<<5&4294967295|D>>>27),D=z+(S^P&(R^S))+N[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=P+(R^S&(z^R))+N[15]+3634488961&4294967295,P=z+(D<<14&4294967295|D>>>18),D=S+(z^R&(P^z))+N[4]+3889429448&4294967295,S=P+(D<<20&4294967295|D>>>12),D=R+(P^z&(S^P))+N[9]+568446438&4294967295,R=S+(D<<5&4294967295|D>>>27),D=z+(S^P&(R^S))+N[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=P+(R^S&(z^R))+N[3]+4107603335&4294967295,P=z+(D<<14&4294967295|D>>>18),D=S+(z^R&(P^z))+N[8]+1163531501&4294967295,S=P+(D<<20&4294967295|D>>>12),D=R+(P^z&(S^P))+N[13]+2850285829&4294967295,R=S+(D<<5&4294967295|D>>>27),D=z+(S^P&(R^S))+N[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=P+(R^S&(z^R))+N[7]+1735328473&4294967295,P=z+(D<<14&4294967295|D>>>18),D=S+(z^R&(P^z))+N[12]+2368359562&4294967295,S=P+(D<<20&4294967295|D>>>12),D=R+(S^P^z)+N[5]+4294588738&4294967295,R=S+(D<<4&4294967295|D>>>28),D=z+(R^S^P)+N[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=P+(z^R^S)+N[11]+1839030562&4294967295,P=z+(D<<16&4294967295|D>>>16),D=S+(P^z^R)+N[14]+4259657740&4294967295,S=P+(D<<23&4294967295|D>>>9),D=R+(S^P^z)+N[1]+2763975236&4294967295,R=S+(D<<4&4294967295|D>>>28),D=z+(R^S^P)+N[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=P+(z^R^S)+N[7]+4139469664&4294967295,P=z+(D<<16&4294967295|D>>>16),D=S+(P^z^R)+N[10]+3200236656&4294967295,S=P+(D<<23&4294967295|D>>>9),D=R+(S^P^z)+N[13]+681279174&4294967295,R=S+(D<<4&4294967295|D>>>28),D=z+(R^S^P)+N[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=P+(z^R^S)+N[3]+3572445317&4294967295,P=z+(D<<16&4294967295|D>>>16),D=S+(P^z^R)+N[6]+76029189&4294967295,S=P+(D<<23&4294967295|D>>>9),D=R+(S^P^z)+N[9]+3654602809&4294967295,R=S+(D<<4&4294967295|D>>>28),D=z+(R^S^P)+N[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=P+(z^R^S)+N[15]+530742520&4294967295,P=z+(D<<16&4294967295|D>>>16),D=S+(P^z^R)+N[2]+3299628645&4294967295,S=P+(D<<23&4294967295|D>>>9),D=R+(P^(S|~z))+N[0]+4096336452&4294967295,R=S+(D<<6&4294967295|D>>>26),D=z+(S^(R|~P))+N[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=P+(R^(z|~S))+N[14]+2878612391&4294967295,P=z+(D<<15&4294967295|D>>>17),D=S+(z^(P|~R))+N[5]+4237533241&4294967295,S=P+(D<<21&4294967295|D>>>11),D=R+(P^(S|~z))+N[12]+1700485571&4294967295,R=S+(D<<6&4294967295|D>>>26),D=z+(S^(R|~P))+N[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=P+(R^(z|~S))+N[10]+4293915773&4294967295,P=z+(D<<15&4294967295|D>>>17),D=S+(z^(P|~R))+N[1]+2240044497&4294967295,S=P+(D<<21&4294967295|D>>>11),D=R+(P^(S|~z))+N[8]+1873313359&4294967295,R=S+(D<<6&4294967295|D>>>26),D=z+(S^(R|~P))+N[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=P+(R^(z|~S))+N[6]+2734768916&4294967295,P=z+(D<<15&4294967295|D>>>17),D=S+(z^(P|~R))+N[13]+1309151649&4294967295,S=P+(D<<21&4294967295|D>>>11),D=R+(P^(S|~z))+N[4]+4149444226&4294967295,R=S+(D<<6&4294967295|D>>>26),D=z+(S^(R|~P))+N[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=P+(R^(z|~S))+N[2]+718787259&4294967295,P=z+(D<<15&4294967295|D>>>17),D=S+(z^(P|~R))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var S=R-this.blockSize,N=this.B,P=this.h,z=0;z<R;){if(P==0)for(;z<=S;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(N[P++]=M.charCodeAt(z++),P==this.blockSize){o(this,N),P=0;break}}else for(;z<R;)if(N[P++]=M[z++],P==this.blockSize){o(this,N),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var S=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=S&255,S/=256;for(this.u(M),M=Array(16),R=S=0;4>R;++R)for(var N=0;32>N;N+=8)M[S++]=this.g[R]>>>N&255;return M};function l(M,R){var S=d;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=R(M)}function h(M,R){this.h=R;for(var S=[],N=!0,P=M.length-1;0<=P;P--){var z=M[P]|0;N&&z==R||(S[P]=z,N=!1)}this.g=S}var d={};function p(M){return-128<=M&&128>M?l(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return j(g(-M));for(var R=[],S=1,N=0;M>=S;N++)R[N]=M/S|0,S*=4294967296;return new h(R,0)}function E(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return j(E(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),N=b,P=0;P<M.length;P+=8){var z=Math.min(8,M.length-P),D=parseInt(M.substring(P,P+z),R);8>z?(z=g(Math.pow(R,z)),N=N.j(z).add(g(D))):(N=N.j(S),N=N.add(g(D)))}return N}var b=p(0),A=p(1),x=p(16777216);i=h.prototype,i.m=function(){if($(this))return-j(this).m();for(var M=0,R=1,S=0;S<this.g.length;S++){var N=this.i(S);M+=(0<=N?N:4294967296+N)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if($(this))return"-"+j(this).toString(M);for(var R=g(Math.pow(M,6)),S=this,N="";;){var P=ie(S,R).g;S=G(S,P.j(R));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=P,V(S))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function $(M){return M.h==-1}i.l=function(M){return M=G(this,M),$(M)?-1:V(M)?0:1};function j(M){for(var R=M.g.length,S=[],N=0;N<R;N++)S[N]=~M.g[N];return new h(S,~M.h).add(A)}i.abs=function(){return $(this)?j(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],N=0,P=0;P<=R;P++){var z=N+(this.i(P)&65535)+(M.i(P)&65535),D=(z>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);N=D>>>16,z&=65535,D&=65535,S[P]=D<<16|z}return new h(S,S[S.length-1]&-2147483648?-1:0)};function G(M,R){return M.add(j(R))}i.j=function(M){if(V(this)||V(M))return b;if($(this))return $(M)?j(this).j(j(M)):j(j(this).j(M));if($(M))return j(this.j(j(M)));if(0>this.l(x)&&0>M.l(x))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,S=[],N=0;N<2*R;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<M.g.length;P++){var z=this.i(N)>>>16,D=this.i(N)&65535,nt=M.i(P)>>>16,Ze=M.i(P)&65535;S[2*N+2*P]+=D*Ze,te(S,2*N+2*P),S[2*N+2*P+1]+=z*Ze,te(S,2*N+2*P+1),S[2*N+2*P+1]+=D*nt,te(S,2*N+2*P+1),S[2*N+2*P+2]+=z*nt,te(S,2*N+2*P+2)}for(N=0;N<R;N++)S[N]=S[2*N+1]<<16|S[2*N];for(N=R;N<2*R;N++)S[N]=0;return new h(S,0)};function te(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function Y(M,R){this.g=M,this.h=R}function ie(M,R){if(V(R))throw Error("division by zero");if(V(M))return new Y(b,b);if($(M))return R=ie(j(M),R),new Y(j(R.g),j(R.h));if($(R))return R=ie(M,j(R)),new Y(j(R.g),R.h);if(30<M.g.length){if($(M)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var S=A,N=R;0>=N.l(M);)S=ae(S),N=ae(N);var P=re(S,1),z=re(N,1);for(N=re(N,2),S=re(S,2);!V(N);){var D=z.add(N);0>=D.l(M)&&(P=P.add(S),z=D),N=re(N,1),S=re(S,1)}return R=G(M,P.j(R)),new Y(P,R)}for(P=b;0<=M.l(R);){for(S=Math.max(1,Math.floor(M.m()/R.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=g(S),D=z.j(R);$(D)||0<D.l(M);)S-=N,z=g(S),D=z.j(R);V(z)&&(z=A),P=P.add(z),M=G(M,D)}return new Y(P,M)}i.A=function(M){return ie(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)&M.i(N);return new h(S,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)|M.i(N);return new h(S,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],N=0;N<R;N++)S[N]=this.i(N)^M.i(N);return new h(S,this.h^M.h)};function ae(M){for(var R=M.g.length+1,S=[],N=0;N<R;N++)S[N]=M.i(N)<<1|M.i(N-1)>>>31;return new h(S,M.h)}function re(M,R){var S=R>>5;R%=32;for(var N=M.g.length-S,P=[],z=0;z<N;z++)P[z]=0<R?M.i(z+S)>>>R|M.i(z+S+1)<<32-R:M.i(z+S);return new h(P,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,j1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Es=h}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z1,lu,B1,wh,Ep,q1,H1,F1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in v))break e;v=v[q]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,w=!1,q={next:function(){if(!w&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,w),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,A.apply(null,arguments)}function x(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,q,K){for(var le=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)le[ze-2]=arguments[ze];return y.prototype[q].apply(w,le)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function j(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const q=c.length||0,K=w.length||0;c.length=q+K;for(let le=0;le<K;le++)c[q+le]=w[le]}else c.push(w)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var ae=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function re(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(v in w)c[v]=w[v];for(let K=0;K<S.length;K++)v=S[K],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){d.setTimeout(()=>{throw c},0)}function D(){var c=Ve;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,v){const w=Ze.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var Ze=new G(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ce=!1,Ve=new nt,k=()=>{const c=d.Promise.resolve(void 0);ge=()=>{c.then(ee)}};var ee=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){z(v)}var y=Ze;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ce=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ee(c,y){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ae){e:{try{ie(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}V(Ee,ue);var we={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ke(c,y,v,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=q,this.key=++Oe,this.da=this.fa=!1}function xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,y,v,w,q){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var le=gt(c,y,w,q);return-1<le?(y=c[le],v||(y.fa=!1)):(y=new Ke(y,this.src,K,!!w,q),y.fa=v,c.push(y)),y};function Rt(c,y){var v=y.type;if(v in c.g){var w=c.g[v],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=q)&&Array.prototype.splice.call(w,q,1),K&&(xe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function gt(c,y,v,w){for(var q=0;q<c.length;++q){var K=c[q];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==w)return q}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),Me={};function Zt(c,y,v,w,q){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Zt(c,y[K],v,w,q);return null}return v=Dr(v),c&&c[Je]?c.K(y,v,g(w)?!!w.capture:!1,q):pn(c,y,v,!1,w,q)}function pn(c,y,v,w,q,K){if(!y)throw Error("Invalid event type");var le=g(q)?!!q.capture:!!q,ze=Hi(c);if(ze||(c[Pt]=ze=new ot(c)),v=ze.add(y,v,w,le,K),v.proxy)return v;if(w=ei(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)oe||(q=le),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(ti(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ei(){function c(v){return y.call(c.src,c.listener,v)}const y=Os;return c}function pi(c,y,v,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)pi(c,y[K],v,w,q);else w=g(w)?!!w.capture:!!w,v=Dr(v),c&&c[Je]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=gt(K,v,w,q),-1<v&&(xe(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Hi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=gt(y,v,w,q)),(v=-1<c?y[c]:null)&&wn(v))}function wn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Je])Rt(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(ti(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Hi(y))?(Rt(v,c),v.h==0&&(v.src=null,y[Pt]=null)):xe(c)}}}function ti(c){return c in Me?Me[c]:Me[c]="on"+c}function Os(c,y){if(c.da)c=!0;else{y=new Ee(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&wn(c),c=v.call(w,y)}return c}function Hi(c){return c=c[Pt],c instanceof ot?c:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dr(c){return typeof c=="function"?c:(c[Ct]||(c[Ct]=function(y){return c.handleEvent(y)}),c[Ct])}function _e(){he.call(this),this.i=new ot(this),this.M=this,this.F=null}V(_e,he),_e.prototype[Je]=!0,_e.prototype.removeEventListener=function(c,y,v,w){pi(this,c,y,v,w)};function et(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ue(y,c);else if(y instanceof ue)y.target=y.target||c;else{var q=y;y=new ue(w,c),N(y,q)}if(q=!0,v)for(var K=v.length-1;0<=K;K--){var le=y.g=v[K];q=gn(le,w,!0,y)&&q}if(le=y.g=c,q=gn(le,w,!0,y)&&q,q=gn(le,w,!1,y)&&q,v)for(K=0;K<v.length;K++)le=y.g=v[K],q=gn(le,w,!1,y)&&q}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)xe(v[w]);delete c.g[y],c.h--}}this.F=null},_e.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},_e.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function gn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,K=0;K<y.length;++K){var le=y[K];if(le&&!le.da&&le.capture==v){var ze=le.listener,Nt=le.ha||le.src;le.fa&&Rt(c.i,le),q=ze.call(Nt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Fi(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Mn(c){c.g=Fi(()=>{c.g=null,c.i&&(c.i=!1,Mn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zo extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(c){he.call(this),this.h=c,this.g={}}V(gi,he);var Or=[];function Jt(c){re(c.g,function(y,v){this.g.hasOwnProperty(v)&&wn(y)},c),c.g={}}gi.prototype.N=function(){gi.aa.N.call(this),Jt(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jo=d.JSON.stringify,yi=d.JSON.parse,on=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function el(){}el.prototype.h=null;function qu(c){return c.h||(c.h=c.i())}function Hu(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ue.call(this,"d")}V(xr,ue);function ni(){ue.call(this,"c")}V(ni,ue);var kn={},Mr=null;function Ia(){return Mr=Mr||new _e}kn.La="serverreachability";function tl(c){ue.call(this,kn.La,c)}V(tl,ue);function kr(c){const y=Ia();et(y,new tl(y))}kn.STAT_EVENT="statevent";function Na(c,y){ue.call(this,kn.STAT_EVENT,c),this.stat=y}V(Na,ue);function yt(c){const y=Ia();et(y,new Na(y,c))}kn.Ma="timingevent";function Fu(c,y){ue.call(this,kn.Ma,c),this.size=y}V(Fu,ue);function Vr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Pr(){this.g=!0}Pr.prototype.xa=function(){this.g=!1};function Gu(c,y,v,w,q,K){c.info(function(){if(c.g)if(K)for(var le="",ze=K.split("&"),Nt=0;Nt<ze.length;Nt++){var Be=ze[Nt].split("=");if(1<Be.length){var jt=Be[0];Be=Be[1];var Dt=jt.split("_");le=2<=Dt.length&&Dt[1]=="type"?le+(jt+"="+Be+"&"):le+(jt+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+v+`
`+le})}function $u(c,y,v,w,q,K,le){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+v+`
`+K+" "+le})}function Lr(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Lt(c,v)+(w?" "+w:"")})}function _i(c,y){c.info(function(){return"TIMEOUT: "+y})}Pr.prototype.info=function(){};function Lt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var q=w[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return Jo(v)}catch{return y}}var It={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function Da(){}V(Da,el),Da.prototype.g=function(){return new XMLHttpRequest},Da.prototype.i=function(){return{}},xs=new Da;function Ei(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nl}function nl(){this.i=null,this.g="",this.h=!1}var Ur={},Ms={};function ii(c,y,v){c.L=1,c.v=Ps(ft(y)),c.m=v,c.P=!0,$i(c,null)}function $i(c,y){c.F=Date.now(),lt(c),c.A=ft(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Yi(v.i,"t",w),c.C=0,v=c.j.J,c.h=new nl,c.g=ac(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Zo(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Or[0]=q.toString()),q=Or);for(var K=0;K<q.length;K++){var le=Zt(v,q[K],w||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),kr(),Gu(c.i,c.u,c.A,c.l,c.R,c.m)}Ei.prototype.ca=function(c){c=c.target;const y=this.M;y&&jn(c)==3?y.j():this.Y(c)},Ei.prototype.Y=function(c){try{if(c==this.g)e:{const Dt=jn(this.g);var y=this.g.Ba();const Ji=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||Dt!=4||y==7||(y==8||0>=Ji?kr(3):kr(2)),Oa(this);var v=this.g.Z();this.X=v;t:if(jr(this)){var w=Zu(this.g);c="";var q=w.length,K=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),An(this);var le="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==q-1)});w.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,$u(this.i,this.u,this.A,this.l,this.R,Dt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Nt=this.g;if((ze=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(ze)){var Be=ze;break t}}Be=null}if(v=Be)Lr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sn(this,v);else{this.o=!1,this.s=3,yt(12),yn(this),An(this);break e}}if(this.P){v=!0;let Ft;for(;!this.J&&this.C<le.length;)if(Ft=zr(this,le),Ft==Ms){Dt==4&&(this.s=4,yt(14),v=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Ur){this.s=4,yt(15),Lr(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else Lr(this.i,this.l,Ft,null),Sn(this,Ft);if(jr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||le.length!=0||this.h.h||(this.s=1,yt(16),v=!1),this.o=this.o&&v,!v)Lr(this.i,this.l,le,"[Invalid Chunked Response]"),yn(this),An(this);else if(0<le.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Hs(jt),jt.M=!0,yt(11))}}else Lr(this.i,this.l,le,null),Sn(this,le);Dt==4&&yn(this),this.o&&!this.J&&(Dt==4?ic(this.j,this):(this.o=!1,lt(this)))}else jf(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),yn(this),An(this)}}}catch{}finally{}};function jr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zr(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Ms:(v=Number(y.substring(v,w)),isNaN(v)?Ur:(w+=1,w+v>y.length?Ms:(y=y.slice(w,w+v),c.C=w+v,y)))}Ei.prototype.cancel=function(){this.J=!0,yn(this)};function lt(c){c.S=Date.now()+c.I,il(c,c.I)}function il(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vr(A(c.ba,c),y)}function Oa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_i(this.i,this.A),this.L!=2&&(kr(),yt(17)),yn(this),this.s=2,An(this)):il(this,this.S-c)};function An(c){c.j.G==0||c.J||ic(c.j,c)}function yn(c){Oa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Jt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Sn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Br(v.h,c))){if(!c.K&&Br(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ba(v),ja(v);else break e;ml(v),yt(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Vr(A(v.Za,v),6e3));if(1>=Ku(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Zi(v,11)}else if((c.K||v.g==c)&&Ba(v),!te(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let Be=q[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const jt=Be[3];jt!=null&&(v.la=jt,v.j.info("VER="+v.la));const Dt=Be[4];Dt!=null&&(v.Aa=Dt,v.j.info("SVER="+v.Aa));const Ji=Be[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(w=1.5*Ji,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Ft=c.g;if(Ft){const Ci=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var K=w.h;K.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(qr(K,K.h),K.h=null))}if(w.D){const gl=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(w.ya=gl,Fe(w.I,w.D,gl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var le=c;if(w.qa=sc(w,w.J?w.ia:null,w.W),le.K){Vn(w.h,le);var ze=le,Nt=w.L;Nt&&(ze.I=Nt),ze.B&&(Oa(ze),lt(ze)),w.g=le}else tc(w);0<v.i.length&&za(v)}else Be[0]!="stop"&&Be[0]!="close"||Zi(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Zi(v,7):fl(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}kr(4)}catch{}}var kf=class{constructor(c,y){this.g=c,this.map=y}};function rl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ku(c){return c.h?1:c.g?c.g.size:0}function Br(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qr(c,y){c.g?c.g.add(y):c.h=y}function Vn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}rl.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ln(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function Qu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function Vf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function ks(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Vf(c),w=Qu(c),q=w.length,K=0;K<q;K++)y.call(void 0,w[K],v&&v[K],c)}var al=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xa(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),q=null;if(0<=w){var K=c[v].substring(0,w);q=c[v].substring(w+1)}else K=c[v];y(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ki){this.h=c.h,Hr(this,c.j),this.o=c.o,this.g=c.g,Vs(this,c.s),this.l=c.l;var y=c.i,v=new Ti;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ma(this,v),this.m=c.m}else c&&(y=String(c).match(al))?(this.h=!1,Hr(this,y[1]||"",!0),this.o=Fr(y[2]||""),this.g=Fr(y[3]||"",!0),Vs(this,y[4]),this.l=Fr(y[5]||"",!0),Ma(this,y[6]||"",!0),this.m=Fr(y[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Ki.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Pn(y,ol,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Pn(y,ol,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Pn(v,v.charAt(0)=="/"?ll:Yu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Pn(v,Uf)),c.join("")};function ft(c){return new Ki(c)}function Hr(c,y,v){c.j=v?Fr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Vs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ma(c,y,v){y instanceof Ti?(c.i=y,ul(c.i,c.h)):(v||(y=Pn(y,Lf)),c.i=new Ti(y,c.h))}function Fe(c,y,v){c.i.set(y,v)}function Ps(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Pn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Pf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ol=/[#\/\?@]/g,Yu=/[#\?:]/g,ll=/[#\?]/g,Lf=/[#\?@]/g,Uf=/#/g;function Ti(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&xa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ti.prototype,i.add=function(c,y){Ln(this),this.i=null,c=Xi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ka(c,y){Ln(c),y=Xi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qi(c,y){return Ln(c),y=Xi(c,y),c.g.has(y)}i.forEach=function(c,y){Ln(this),this.g.forEach(function(v,w){v.forEach(function(q){c.call(y,q,w,this)},this)},this)},i.na=function(){Ln(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const q=c[w];for(let K=0;K<q.length;K++)v.push(y[w])}return v},i.V=function(c){Ln(this);let y=[];if(typeof c=="string")Qi(this,c)&&(y=y.concat(this.g.get(Xi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Ln(this),this.i=null,c=Xi(this,c),Qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yi(c,y,v){ka(c,y),0<v.length&&(c.i=null,c.g.set(Xi(c,y),$(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const K=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var q=K;le[w]!==""&&(q+="="+encodeURIComponent(String(le[w]))),c.push(q)}}return this.i=c.join("&")};function Xi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ul(c,y){y&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(v,w){var q=w.toLowerCase();w!=q&&(ka(this,w),Yi(this,q,v))},c)),c.j=y}function Xu(c,y){const v=new Pr;if(d.Image){const w=new Image;w.onload=x(Un,v,"TestLoadImage: loaded",!0,y,w),w.onerror=x(Un,v,"TestLoadImage: error",!1,y,w),w.onabort=x(Un,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=x(Un,v,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Ls(c,y){const v=new Pr,w=new AbortController,q=setTimeout(()=>{w.abort(),Un(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?Un(v,"TestPingServer: ok",!0,y):Un(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Un(v,"TestPingServer: error",!1,y)})}function Un(c,y,v,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(v)}catch{}}function Us(){this.g=new on}function bi(c,y,v){const w=v||"";try{ks(c,function(q,K){let le=q;g(q)&&(le=Jo(q)),y.push(w+K+"="+encodeURIComponent(le))})}catch(q){throw y.push(w+"type="+encodeURIComponent("_badmap")),q}}function Gr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Gr,el),Gr.prototype.g=function(){return new Wi(this.l,this.j)},Gr.prototype.i=function(c){return function(){return c}}({});function Wi(c,y){_e.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Wi,_e),i=Wi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wi(this):Ai(this),this.readyState==3&&cl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,wi(this))},i.Qa=function(c){this.g&&(this.response=c,wi(this))},i.ga=function(){this.g&&wi(this)};function wi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function hl(c){let y="";return re(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Ut(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=hl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Fe(c,y,v))}function Qe(c){_e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Qe,_e);var Va=/^https?$/i,js=["POST","PUT"];i=Qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?qu(this.o):qu(xs),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Wu(this,K);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)v.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(js,y,void 0))||w||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of v)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Wu(this,K)}};function Wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Pa(c),Si(c)}function Pa(c){c.A||(c.A=!0,et(c,"complete"),et(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,et(this,"complete"),et(this,"abort"),Si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},i.bb=function(){La(this)};function La(c){if(c.h&&typeof h<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)Fi(c.Ea,0,c);else if(et(c,"readystatechange"),jn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=le===0){var q=String(c.D).match(al)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),w=!Va.test(q?q.toLowerCase():"")}v=w}if(v)et(c,"complete"),et(c,"success");else{c.m=6;try{var K=2<jn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Pa(c)}}finally{Si(c)}}}}function Si(c,y){if(c.g){zs(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||et(c,"ready");try{v.onreadystatechange=w}catch{}}}function zs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),yi(y)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jf(c){const y={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(te(c[w]))continue;var v=P(c[w]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[q]||[];y[q]=K,K.push(v)}M(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ua(c){this.Aa=0,this.i=[],this.j=new Pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new rl(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ua.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){yt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=sc(this,null,this.W),za(this)};function fl(c){if(Ju(c),c.G==3){var y=c.U++,v=ft(c.I);if(Fe(v,"SID",c.K),Fe(v,"RID",y),Fe(v,"TYPE","terminate"),qs(c,v),y=new Ei(c,c.j,y),y.L=2,y.v=Ps(ft(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=ac(y.j,null),y.g.ea(y.v)),y.F=Date.now(),lt(y)}rc(c)}function ja(c){c.g&&(Hs(c),c.g.cancel(),c.g=null)}function Ju(c){ja(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function za(c){if(!sl(c.h)&&!c.s){c.s=!0;var y=c.Ga;ge||k(),ce||(ge(),ce=!0),Ve.add(y,c),c.B=0}}function zf(c,y){return Ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vr(A(c.Ga,c,y),pl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Ei(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ec(this,q,y),v=ft(this.I),Fe(v,"RID",c),Fe(v,"CVER",22),this.D&&Fe(v,"X-HTTP-Session-Id",this.D),qs(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(hl(K)))+"&"+y:this.m&&Ut(v,this.m,K)),qr(this.h,q),this.Ua&&Fe(v,"TYPE","init"),this.P?(Fe(v,"$req",y),Fe(v,"SID","null"),q.T=!0,ii(q,v,null)):ii(q,v,y),this.G=2}}else this.G==3&&(c?dl(this,c):this.i.length==0||sl(this.h)||dl(this))};function dl(c,y){var v;y?v=y.l:v=c.U++;const w=ft(c.I);Fe(w,"SID",c.K),Fe(w,"RID",v),Fe(w,"AID",c.T),qs(c,w),c.m&&c.o&&Ut(w,c.m,c.o),v=new Ei(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ec(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qr(c.h,v),ii(v,w,y)}function qs(c,y){c.H&&re(c.H,function(v,w){Fe(y,w,v)}),c.l&&ks({},function(v,w){Fe(y,w,v)})}function ec(c,y,v){v=Math.min(c.i.length,v);var w=c.l?A(c.l.Na,c.l,c):null;e:{var q=c.i;let K=-1;for(;;){const le=["count="+v];K==-1?0<v?(K=q[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let ze=!0;for(let Nt=0;Nt<v;Nt++){let Be=q[Nt].g;const jt=q[Nt].map;if(Be-=K,0>Be)K=Math.max(0,q[Nt].g-100),ze=!1;else try{bi(jt,le,"req"+Be+"_")}catch{w&&w(jt)}}if(ze){w=le.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function tc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ge||k(),ce||(ge(),ce=!0),Ve.add(y,c),c.v=0}}function ml(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vr(A(c.Fa,c),pl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vr(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),ja(this),nc(this))};function Hs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function nc(c){c.g=new Ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ft(c.qa);Fe(y,"RID","rpc"),Fe(y,"SID",c.K),Fe(y,"AID",c.T),Fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(y,"TO",c.ja),Fe(y,"TYPE","xmlhttp"),qs(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ps(ft(y)),v.m=null,v.P=!0,$i(v,c)}i.Za=function(){this.C!=null&&(this.C=null,ja(this),ml(this),yt(19))};function Ba(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ic(c,y){var v=null;if(c.g==y){Ba(c),Hs(c),c.g=null;var w=2}else if(Br(c.h,y))v=y.D,Vn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;w=Ia(),et(w,new Fu(w,v)),za(c)}else tc(c);else if(q=y.s,q==3||q==0&&0<y.X||!(w==1&&zf(c,y)||w==2&&ml(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function pl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Zi(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),w=c.Xa;const q=!w;w=new Ki(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hr(w,"https"),Ps(w),q?Xu(w.toString(),v):Ls(w.toString(),v)}else yt(2);c.G=0,c.l&&c.l.sa(y),rc(c),Ju(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function rc(c){if(c.G=0,c.ka=[],c.l){const y=ln(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function sc(c,y,v){var w=v instanceof Ki?ft(v):new Ki(v);if(w.g!="")y&&(w.g=y+"."+w.g),Vs(w,w.s);else{var q=d.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var K=new Ki(null);w&&Hr(K,w),y&&(K.g=y),q&&Vs(K,q),v&&(K.l=v),w=K}return v=c.D,y=c.ya,v&&y&&Fe(w,v,y),Fe(w,"VER",c.la),qs(c,w),w}function ac(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new Gr({eb:v})):new Qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}i=oc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function qa(){}qa.prototype.g=function(c,y){return new un(c,y)};function un(c,y){_e.call(this),this.g=new Ua(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ri(this)}V(un,_e),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){fl(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Jo(c),c=v);y.i.push(new kf(y.Ya++,c)),y.G==3&&za(y)},un.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,un.aa.N.call(this)};function lc(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(lc,xr);function uc(){ni.call(this),this.status=1}V(uc,ni);function Ri(c){this.g=c}V(Ri,oc),Ri.prototype.ua=function(){et(this.g,"a")},Ri.prototype.ta=function(c){et(this.g,new lc(c))},Ri.prototype.sa=function(c){et(this.g,new uc)},Ri.prototype.ra=function(){et(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,F1=function(){return new qa},H1=function(){return Ia()},q1=kn,Ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},It.NO_ERROR=0,It.TIMEOUT=8,It.HTTP_ERROR=6,wh=It,Gi.COMPLETE="complete",B1=Gi,Hu.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",_e.prototype.listen=_e.prototype.K,lu=Hu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,z1=Qe}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",rE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new af("@firebase/firestore");function Eo(){return _a.logLevel}function fe(i,...e){if(_a.logLevel<=Le.DEBUG){const t=e.map(hg);_a.debug(`Firestore (${Fo}): ${i}`,...t)}}function Sr(i,...e){if(_a.logLevel<=Le.ERROR){const t=e.map(hg);_a.error(`Firestore (${Fo}): ${i}`,...t)}}function Do(i,...e){if(_a.logLevel<=Le.WARN){const t=e.map(hg);_a.warn(`Firestore (${Fo}): ${i}`,...t)}}function hg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+i;throw Sr(e),new Error(e)}function Ye(i,e){i||be()}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EN{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new _r,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new _r)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string"),new G1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new rn(e)}}class TN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new TN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new sE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new sE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function De(i,e){return i<e?-1:i>e?1:0}function Tp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const l=$1(),h=SN(l.encode(aE(i,t)),l.encode(aE(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(i.length,e.length)}function aE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function SN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return De(i[t],e[t]);return De(i.length,e.length)}function Oo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=-62135596800,lE=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*lE);return new Et(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<oE)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lE}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-oE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Et(0,0))}static max(){return new Se(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__name__";class Mi{constructor(e,t,s){t===void 0?t=0:t>e.length&&be(),s===void 0?s=e.length-t:s>e.length-t&&be(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Mi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const s=Mi.isNumericId(e),o=Mi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(t)):Tp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class st extends Mi{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const RN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Mi{construct(e,t,s){return new Yt(e,t,s)}static isValidIdentifier(e){return RN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new Yt([uE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function CN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Et(t+1,0):new Et(t,s));return new bs(o,ve.empty(),e)}function IN(i){return new bs(i.readTime,i.key,bu)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(Se.min(),ve.empty(),bu)}static max(){return new bs(Se.max(),ve.empty(),bu)}}function NN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==DN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++d,d===l&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Z((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function xN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}hf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=-1;function ff(i){return i==null}function zh(i){return i===0&&1/i==-1/0}function MN(i){return typeof i=="number"&&Number.isInteger(i)&&!zh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="";function kN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=cE(e)),e=VN(i.get(t),e);return cE(e)}function VN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case Q1:t+="";break;default:t+=l}}return t}function cE(i){return i+Q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ns(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Y1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=l??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Qt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(e){return new fE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class fE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Mt(Yt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new X1("Invalid base64 string: "+l):l}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const PN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(i){if(Ye(!!i),typeof i=="string"){let e=0;const t=PN.exec(i);if(Ye(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function As(i){return typeof i=="string"?Wt.fromBase64String(i):Wt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="server_timestamp",Z1="__type__",J1="__previous_value__",eb="__local_write_time__";function dg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z1])===null||t===void 0?void 0:t.stringValue)===W1}function df(i){const e=i.mapValue.fields[J1];return dg(e)?df(e):e}function wu(i){const e=ws(i.mapValue.fields[eb].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t,s,o,l,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Bh="(default)";class Au{constructor(e,t){this.projectId=e,this.database=t||Bh}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="__type__",UN="__max__",hh={mapValue:{}},nb="__vector__",qh="value";function Ss(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?dg(i)?4:zN(i)?9007199254740991:jN(i)?10:11:be()}function ji(i,e){if(i===e)return!0;const t=Ss(i);if(t!==Ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wu(i).isEqual(wu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ws(o.timestampValue),d=ws(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return As(o.bytesValue).isEqual(As(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return _t(o.geoPointValue.latitude)===_t(l.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return _t(o.integerValue)===_t(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=_t(o.doubleValue),d=_t(l.doubleValue);return h===d?zh(h)===zh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Oo(i.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(hE(h)!==hE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!ji(h[p],d[p])))return!1;return!0}(i,e);default:return be()}}function Su(i,e){return(i.values||[]).find(t=>ji(t,e))!==void 0}function xo(i,e){if(i===e)return 0;const t=Ss(i),s=Ss(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(l,h){const d=_t(l.integerValue||l.doubleValue),p=_t(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return dE(i.timestampValue,e.timestampValue);case 4:return dE(wu(i),wu(e));case 5:return Tp(i.stringValue,e.stringValue);case 6:return function(l,h){const d=As(l),p=As(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=De(d[g],p[g]);if(E!==0)return E}return De(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const d=De(_t(l.latitude),_t(h.latitude));return d!==0?d:De(_t(l.longitude),_t(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return mE(i.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,E;const b=l.fields||{},A=h.fields||{},x=(d=b[qh])===null||d===void 0?void 0:d.arrayValue,V=(p=A[qh])===null||p===void 0?void 0:p.arrayValue,$=De(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:mE(x,V)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===hh.mapValue&&h===hh.mapValue)return 0;if(l===hh.mapValue)return 1;if(h===hh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const A=Tp(p[b],E[b]);if(A!==0)return A;const x=xo(d[p[b]],g[E[b]]);if(x!==0)return x}return De(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function dE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const t=ws(i),s=ws(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function mE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=xo(t[o],s[o]);if(l)return l}return De(t.length,s.length)}function Mo(i){return bp(i)}function bp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ws(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return As(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=bp(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${bp(t.fields[h])}`;return o+"}"}(i.mapValue):be()}function Ah(i){switch(Ss(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=df(i);return e?16+Ah(e):16;case 5:return 2*i.stringValue.length;case 6:return As(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+Ah(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ns(s.fields,(l,h)=>{o+=l.length+Ah(h)}),o}(i.mapValue);default:throw be()}}function pE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wp(i){return!!i&&"integerValue"in i}function mg(i){return!!i&&"arrayValue"in i}function gE(i){return!!i&&"nullValue"in i}function yE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function jN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[tb])===null||t===void 0?void 0:t.stringValue)===nb}function mu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ns(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=mu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function zN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(t)}setAll(e){let t=Yt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=mu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ns(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new En(mu(this.value))}}function ib(i){const e=[];return Ns(i.fields,(t,s)=>{const o=new Yt([t]);if(Sh(s)){const l=ib(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,Se.min(),Se.min(),Se.min(),En.empty(),0)}static newFoundDocument(e,t,s,o){return new sn(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new sn(e,2,t,Se.min(),Se.min(),En.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Se.min(),Se.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t){this.position=e,this.inclusive=t}}function vE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=xo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function _E(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ji(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t="asc"){this.field=e,this.dir=t}}function BN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{}class St extends rb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new HN(e,t,s):t==="array-contains"?new $N(e,s):t==="in"?new KN(e,s):t==="not-in"?new QN(e,s):t==="array-contains-any"?new YN(e,s):new St(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new FN(e,s):new GN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(xo(t,this.value)):t!==null&&Ss(this.value)===Ss(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends rb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new di(e,t)}matches(e){return sb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sb(i){return i.op==="and"}function ab(i){return qN(i)&&sb(i)}function qN(i){for(const e of i.filters)if(e instanceof di)return!1;return!0}function Ap(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+Mo(i.value);if(ab(i))return i.filters.map(e=>Ap(e)).join(",");{const e=i.filters.map(t=>Ap(t)).join(",");return`${i.op}(${e})`}}function ob(i,e){return i instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&ji(s.value,o.value)}(i,e):i instanceof di?function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&ob(h,o.filters[d]),!0):!1}(i,e):void be()}function lb(i){return i instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(i):i instanceof di?function(t){return t.op.toString()+" {"+t.getFilters().map(lb).join(" ,")+"}"}(i):"Filter"}class HN extends St{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class FN extends St{constructor(e,t){super(e,"in",t),this.keys=ub("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GN extends St{constructor(e,t){super(e,"not-in",t),this.keys=ub("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ub(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class $N extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mg(t)&&Su(t.arrayValue,this.value)}}class KN extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}}class QN extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Su(this.value.arrayValue,t)}}class YN extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.le=null}}function EE(i,e=null,t=[],s=[],o=null,l=null,h=null){return new XN(i,e,t,s,o,l,h)}function pg(i){const e=Ce(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ap(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Mo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Mo(s)).join(",")),e.le=t}return e.le}function gg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!BN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ob(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_E(i.startAt,e.startAt)&&_E(i.endAt,e.endAt)}function Sp(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WN(i,e,t,s,o,l,h,d){return new Pu(i,e,t,s,o,l,h,d)}function yg(i){return new Pu(i)}function TE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cb(i){return i.collectionGroup!==null}function pu(i){const e=Ce(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Mt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Fh(l,s))}),t.has(Yt.keyField().canonicalString())||e.he.push(new Fh(Yt.keyField(),s))}return e.he}function Vi(i){const e=Ce(i);return e.Pe||(e.Pe=ZN(e,pu(i))),e.Pe}function ZN(i,e){if(i.limitType==="F")return EE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Fh(o.field,l)});const t=i.endAt?new Hh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hh(i.startAt.position,i.startAt.inclusive):null;return EE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Rp(i,e){const t=i.filters.concat([e]);return new Pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Cp(i,e,t){return new Pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function mf(i,e){return gg(Vi(i),Vi(e))&&i.limitType===e.limitType}function hb(i){return`${pg(Vi(i))}|lt:${i.limitType}`}function To(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>lb(o)).join(", ")}]`),ff(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Mo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Mo(o)).join(",")),`Target(${s})`}(Vi(i))}; limitType=${i.limitType})`}function pf(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of pu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=vE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,pu(s),o)||s.endAt&&!function(h,d,p){const g=vE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,pu(s),o))}(i,e)}function JN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fb(i){return(e,t)=>{let s=!1;for(const o of pu(i)){const l=eD(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function eD(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?xo(p,g):be()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return Y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new ht(ve.comparator);function Rr(){return tD}const db=new ht(ve.comparator);function uu(...i){let e=db;for(const t of i)e=e.insert(t.key,t);return e}function mb(i){let e=db;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function da(){return gu()}function pb(){return gu()}function gu(){return new Sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const nD=new ht(ve.comparator),iD=new Mt(ve.comparator);function Ue(...i){let e=iD;for(const t of i)e=e.add(t);return e}const rD=new Mt(De);function sD(){return rD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function gb(i){return{integerValue:""+i}}function yb(i,e){return MN(e)?gb(e):vg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function aD(i,e,t){return i instanceof Ru?function(o,l){const h={fields:{[Z1]:{stringValue:W1},[eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&dg(l)&&(l=df(l)),l&&(h.fields[J1]=l),{mapValue:h}}(t,e):i instanceof ko?_b(i,e):i instanceof Cu?Eb(i,e):function(o,l){const h=vb(o,l),d=bE(h)+bE(o.Ie);return wp(h)&&wp(o.Ie)?gb(d):vg(o.serializer,d)}(i,e)}function oD(i,e,t){return i instanceof ko?_b(i,e):i instanceof Cu?Eb(i,e):t}function vb(i,e){return i instanceof Iu?function(s){return wp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Ru extends gf{}class ko extends gf{constructor(e){super(),this.elements=e}}function _b(i,e){const t=Tb(e);for(const s of i.elements)t.some(o=>ji(o,s))||t.push(s);return{arrayValue:{values:t}}}class Cu extends gf{constructor(e){super(),this.elements=e}}function Eb(i,e){let t=Tb(e);for(const s of i.elements)t=t.filter(o=>!ji(o,s));return{arrayValue:{values:t}}}class Iu extends gf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function bE(i){return _t(i.integerValue||i.doubleValue)}function Tb(i){return mg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.field=e,this.transform=t}}function lD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof ko&&o instanceof ko||s instanceof Cu&&o instanceof Cu?Oo(s.elements,o.elements,ji):s instanceof Iu&&o instanceof Iu?ji(s.Ie,o.Ie):s instanceof Ru&&o instanceof Ru}(i.transform,e.transform)}class uD{constructor(e,t){this.version=e,this.transformResults=t}}class Pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class yf{}function bb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ab(i.key,Pi.none()):new Lu(i.key,i.data,Pi.none());{const t=i.data,s=En.empty();let o=new Mt(Yt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Ds(i.key,s,new On(o.toArray()),Pi.none())}}function cD(i,e,t){i instanceof Lu?function(o,l,h){const d=o.value.clone(),p=AE(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Ds?function(o,l,h){if(!Rh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=AE(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(wb(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function yu(i,e,t,s){return i instanceof Lu?function(l,h,d,p){if(!Rh(l.precondition,h))return d;const g=l.value.clone(),E=SE(l.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ds?function(l,h,d,p){if(!Rh(l.precondition,h))return d;const g=SE(l.fieldTransforms,p,h),E=h.data;return E.setAll(wb(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(i,e,t,s):function(l,h,d){return Rh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function hD(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=vb(s.transform,o||null);l!=null&&(t===null&&(t=En.empty()),t.set(s.field,l))}return t||null}function wE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Oo(s,o,(l,h)=>lD(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lu extends yf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends yf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function AE(i,e,t){const s=new Map;Ye(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,oD(h,d,t[o]))}return s}function SE(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,aD(l,h,e))}return s}class Ab extends yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fD extends yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&cD(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=yu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=yu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=pb();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=bb(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(t,s)=>wE(t,s))&&Oo(this.baseMutations,e.baseMutations,(t,s)=>wE(t,s))}}class Eg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ye(e.mutations.length===s.length);let o=function(){return nD}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Eg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,He;function gD(i){switch(i){case J.OK:return be();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return be()}}function Sb(i){if(i===void 0)return Sr("GRPC error has no .code"),J.UNKNOWN;switch(i){case At.OK:return J.OK;case At.CANCELLED:return J.CANCELLED;case At.UNKNOWN:return J.UNKNOWN;case At.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case At.INTERNAL:return J.INTERNAL;case At.UNAVAILABLE:return J.UNAVAILABLE;case At.UNAUTHENTICATED:return J.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case At.NOT_FOUND:return J.NOT_FOUND;case At.ALREADY_EXISTS:return J.ALREADY_EXISTS;case At.PERMISSION_DENIED:return J.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case At.ABORTED:return J.ABORTED;case At.OUT_OF_RANGE:return J.OUT_OF_RANGE;case At.UNIMPLEMENTED:return J.UNIMPLEMENTED;case At.DATA_LOSS:return J.DATA_LOSS;default:return be()}}(He=At||(At={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Es([4294967295,4294967295],0);function RE(i){const e=$1().encode(i),t=new j1;return t.update(e),new Uint8Array(t.digest())}function CE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Es([t,s],0),new Es([o,l],0)]}class Tg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new cu(`Invalid padding: ${t}`);if(s<0)throw new cu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new cu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Es.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(Es.fromNumber(s)));return o.compare(yD)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=RE(e),[s,o]=CE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Tg(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=RE(e),[s,o]=CE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new vf(Se.min(),o,new ht(De),Rr(),Ue())}}class Uu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Uu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Rb{constructor(e,t){this.targetId=e,this.ge=t}}class Cb{constructor(e,t,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class IE{constructor(){this.pe=0,this.ye=NE(),this.we=Wt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),s=Ue();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:be()}}),new Uu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=NE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class vD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Rr(),this.$e=fh(),this.Ue=fh(),this.Ke=new ht(De)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Sp(l))if(s===0){const h=new ve(l.path);this.ze(t,h,sn.newNoDocument(h,Se.min()))}else Ye(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=As(s).toUint8Array()}catch(p){if(p instanceof X1)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Tg(h,o,l)}catch(p){return Do(p instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const d=this.Xe(h);if(d){if(l.current&&Sp(d.target)){const p=new ve(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,sn.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=Ue();this.Ue.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new vf(e,t,this.Ke,this.Qe,s);return this.Qe=Rr(),this.$e=fh(),this.Ue=fh(),this.Ke=new ht(De),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new IE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Mt(De),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Mt(De),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new IE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function fh(){return new ht(ve.comparator)}function NE(){return new ht(ve.comparator)}const _D={asc:"ASCENDING",desc:"DESCENDING"},ED={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TD={and:"AND",or:"OR"};class bD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ip(i,e){return i.useProto3Json||ff(e)?e:{value:e}}function Gh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ib(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function wD(i,e){return Gh(i,e.toTimestamp())}function Li(i){return Ye(!!i),Se.fromTimestamp(function(t){const s=ws(t);return new Et(s.seconds,s.nanos)}(i))}function bg(i,e){return Np(i,e).canonicalString()}function Np(i,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Nb(i){const e=st.fromString(i);return Ye(kb(e)),e}function Dp(i,e){return bg(i.databaseId,e.path)}function $m(i,e){const t=Nb(e);if(t.get(1)!==i.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(Ob(t))}function Db(i,e){return bg(i.databaseId,e)}function AD(i){const e=Nb(i);return e.length===4?st.emptyPath():Ob(e)}function Op(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ob(i){return Ye(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function DE(i,e,t){return{name:Dp(i,e),fields:t.value.mapValue.fields}}function SD(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(Ye(E===void 0||typeof E=="string"),Wt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Wt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?J.UNKNOWN:Sb(g.code);return new de(E,g.message||"")}(h);t=new Cb(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$m(i,s.document.name),l=Li(s.document.updateTime),h=s.document.createTime?Li(s.document.createTime):Se.min(),d=new En({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,l,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Ch(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$m(i,s.document),l=s.readTime?Li(s.readTime):Se.min(),h=sn.newNoDocument(o,l),d=s.removedTargetIds||[];t=new Ch([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$m(i,s.document),l=s.removedTargetIds||[];t=new Ch([],l,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new pD(o,l),d=s.targetId;t=new Rb(d,h)}}return t}function RD(i,e){let t;if(e instanceof Lu)t={update:DE(i,e.key,e.value)};else if(e instanceof Ab)t={delete:Dp(i,e.key)};else if(e instanceof Ds)t={update:DE(i,e.key,e.data),updateMask:VD(e.fieldMask)};else{if(!(e instanceof fD))return be();t={verify:Dp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Ru)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ko)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Iu)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw be()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:wD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be()}(i,e.precondition)),t}function CD(i,e){return i&&i.length>0?(Ye(e!==void 0),i.map(t=>function(o,l){let h=o.updateTime?Li(o.updateTime):Li(l);return h.isEqual(Se.min())&&(h=Li(l)),new uD(h,o.transformResults||[])}(t,e))):[]}function ID(i,e){return{documents:[Db(i,e.path)]}}function ND(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Db(i,o);const l=function(g){if(g.length!==0)return Mb(di.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:bo(A.field),direction:xD(A.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Ip(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function DD(i){let e=AD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ye(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(b){const A=xb(b);return A instanceof di&&ab(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(A=>function(V){return new Fh(wo(V.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(b){let A;return A=typeof b=="object"?b.value:b,ff(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(b){const A=!!b.before,x=b.values||[];return new Hh(x,A)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const A=!b.before,x=b.values||[];return new Hh(x,A)}(t.endAt)),WN(e,o,h,l,d,"F",p,g)}function OD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=wo(t.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return St.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(t.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(t){return St.create(wo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return di.create(t.compositeFilter.filters.map(s=>xb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(i):be()}function xD(i){return _D[i]}function MD(i){return ED[i]}function kD(i){return TD[i]}function bo(i){return{fieldPath:i.canonicalString()}}function wo(i){return Yt.fromServerFormat(i.fieldPath)}function Mb(i){return i instanceof St?function(t){if(t.op==="=="){if(yE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(gE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(gE(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:MD(t.op),value:t.value}}}(i):i instanceof di?function(t){const s=t.getFilters().map(o=>Mb(o));return s.length===1?s[0]:{compositeFilter:{op:kD(t.op),filters:s}}}(i):be()}function VD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,s,o,l=Se.min(),h=Se.min(),d=Wt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.Tt=e}}function LD(i){const e=DD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Tn=new jD}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(bs.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class jD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Mt(st.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vb=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Vb,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Vo(0)}static Kn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="LruGarbageCollector",zD=1048576;function ME([i,e],[t,s]){const o=De(i,t);return o===0?De(e,s):o}class BD{constructor(e){this.Hn=e,this.buffer=new Mt(ME),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ME(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(xE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$o(t)?fe(xE,"Ignoring IndexedDB error during garbage collection: ",t):await Go(t)}await this.er(3e5)})}}class HD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(hf.ae);const s=new BD(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(OE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),Eo()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function FD(i,e){return new HD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.changes=new Sa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&yu(s.mutation,o,On.empty(),Et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=da();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=uu();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=da();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=Rr();const h=gu(),d=function(){return gu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ds)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),yu(E.mutation,g,E.mutation.getFieldMask(),Et.now())):h.set(g.key,On.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var b;return d.set(g,new $D(E,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=gu();let o=new ht((h,d)=>h-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||On.empty();E=d.applyToLocalView(g,E),s.set(p,E);const b=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,b=pb();E.forEach(A=>{if(!l.has(A)){const x=bb(t.get(A),s.get(A));x!==null&&b.set(A,x),l=l.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Z.resolve(da());let d=bu,p=l;return h.next(g=>Z.forEach(g,(E,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ue())).next(E=>({batchId:d,changes:mb(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=uu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=uu();return this.indexManager.getCollectionParents(e,l).next(d=>Z.forEach(d,p=>{const g=function(b,A){return new Pu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,A)=>{h=h.insert(b,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,sn.newInvalidDocument(E)))});let d=uu();return h.forEach((p,g)=>{const E=l.get(p);E!==void 0&&yu(E.mutation,g,On.empty(),Et.now()),pf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:LD(o.bundledQuery),readTime:Li(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new ht(ve.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=da();return Z.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=da(),l=t.length+1,h=new ve(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ht((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=da(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=da(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return Z.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new mD(t,s));let l=this.Rr.get(t);l===void 0&&(l=Ue(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Vr=new Mt(Ht.mr),this.gr=new Mt(Ht.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ht(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ve(new st([])),s=new Ht(t,e),o=new Ht(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new st([])),s=new Ht(t,e),o=new Ht(t,e+1);let l=Ue();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Ht(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||De(e.Cr,t.Cr)}static pr(e,t){return De(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(Ht.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new dD(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ht(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?fg:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);l.push(d)}),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Mt(De);return t.forEach(o=>{const l=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],d=>{s=s.add(d.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const h=new Ht(new ve(l),0);let d=new Mt(De);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ye(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(t.mutations,o=>{const l=new Ht(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.kr=e,this.docs=function(){return new ht(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let s=Rr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():sn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Rr();const h=t.path,d=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||NN(IN(E),s)<=0||(o.has(E.key)||pf(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,t,s,o){be()}qr(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new JD(this)}getSize(e){return Z.resolve(this.size)}}class JD extends GD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.persistence=e,this.Qr=new Sa(t=>pg(t),gg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wg,this.targetCount=0,this.Kr=Vo.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Vo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(l).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new hf(0),this.zr=!1,this.zr=!0,this.jr=new XD,this.referenceDelegate=e(this),this.Hr=new eO(this),this.indexManager=new UD,this.remoteDocumentCache=function(o){return new ZD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new PD(t),this.Yr=new QD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new WD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new tO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class tO extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.ti=new wg,this.ni=null}static ri(e){return new Ag(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class $h{constructor(e,t){this.persistence=e,this.oi=new Sa(s=>kN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=FD(this,t)}static ri(e,t){return new $h(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Se.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ah(e.data.value)),t}ar(e,t,s){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Sg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return X2()?8:xN(an())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new nO;return this._s(e,t,h).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Eo()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",To(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Eo()<=Le.DEBUG&&fe("QueryEngine","Query:",To(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Eo()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",To(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):Z.resolve())}rs(e,t){if(TE(t))return Z.resolve(null);let s=Vi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Cp(t,null,"F"),s=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ue(...l);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,Cp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return TE(t)||o.isEqual(Se.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?Z.resolve(null):(Eo()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(t)),this.hs(e,h,t,CN(o,bu)).next(d=>d))})}cs(e,t){let s=new Mt(fb(e));return t.forEach((o,l)=>{pf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return Eo()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",To(t)),this.ns.getDocumentsMatchingQuery(e,t,bs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",rO=3e8;class sO{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ht(De),this.Is=new Sa(l=>pg(l),gg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function aO(i,e,t,s){return new sO(i,e,t,s)}async function Lb(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function oO(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const b=g.batch,A=b.keys();let x=Z.resolve();return A.forEach(V=>{x=x.next(()=>E.getEntry(p,V)).next($=>{const j=g.docVersions.get(V);Ye(j!==null),$.version.compareTo(j)<0&&(b.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Ub(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function lO(i,e){const t=Ce(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,b)=>{const A=o.get(b);if(!A)return;d.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,b)));let x=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Wt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(b,x),function($,j,G){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=rO?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(A,x,E)&&d.push(t.Hr.updateTargetData(l,x))});let p=Rr(),g=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(uO(l,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Se.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return Z.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=o,l))}function uO(i,e,t){let s=Ue(),o=Ue();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=Rr();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):fe(Rg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function cO(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=fg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hO(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,Z.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new ys(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function xp(i,e,t){const s=Ce(i),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!$o(h))throw h;fe(Rg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function kE(i,e,t){const s=Ce(i);let o=Se.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const b=Ce(p),A=b.Is.get(E);return A!==void 0?Z.resolve(b.Ts.get(A)):b.Hr.getTargetData(g,E)}(s,h,Vi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?l:Ue())).next(d=>(fO(s,JN(e),d),{documents:d,gs:l})))}function fO(i,e,t){let s=i.Es.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(e,s)}class VE{constructor(){this.activeTargetIds=sD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dO{constructor(){this.ho=new VE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new VE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="ConnectivityMonitor";class LE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(PE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(PE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Mp(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",pO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,l){const h=Mp(),d=this.bo(e,t.toUriEncodedString());fe(Km,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,s).then(g=>(fe(Km,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Do(Km,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,l,h){return this.So(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const s=pO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class vO extends gO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=Mp();return new Promise((h,d)=>{const p=new z1;p.setWithCredentials(!0),p.listenOnce(B1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case wh.NO_ERROR:const E=p.getResponseJson();fe(nn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case wh.TIMEOUT:fe(nn,`RPC '${e}' ${l} timed out`),d(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const b=p.getStatus();if(fe(nn,`RPC '${e}' ${l} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const x=A==null?void 0:A.error;if(x&&x.status&&x.message){const V=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN}(x.status);d(new de(V,x.message))}else d(new de(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new de(J.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{fe(nn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);fe(nn,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Mp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=F1(),d=H1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");fe(nn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);let A=!1,x=!1;const V=new yO({Fo:j=>{x?fe(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(fe(nn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),fe(nn,`RPC '${e}' stream ${o} sending:`,j),b.send(j))},Mo:()=>b.close()}),$=(j,G,te)=>{j.listen(G,Y=>{try{te(Y)}catch(ie){setTimeout(()=>{throw ie},0)}})};return $(b,lu.EventType.OPEN,()=>{x||(fe(nn,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),$(b,lu.EventType.CLOSE,()=>{x||(x=!0,fe(nn,`RPC '${e}' stream ${o} transport closed`),V.Uo())}),$(b,lu.EventType.ERROR,j=>{x||(x=!0,Do(nn,`RPC '${e}' stream ${o} transport errored:`,j),V.Uo(new de(J.UNAVAILABLE,"The operation could not be completed")))}),$(b,lu.EventType.MESSAGE,j=>{var G;if(!x){const te=j.data[0];Ye(!!te);const Y=te,ie=(Y==null?void 0:Y.error)||((G=Y[0])===null||G===void 0?void 0:G.error);if(ie){fe(nn,`RPC '${e}' stream ${o} received error:`,ie);const ae=ie.status;let re=function(S){const N=At[S];if(N!==void 0)return Sb(N)}(ae),M=ie.message;re===void 0&&(re=J.INTERNAL,M="Unknown error status: "+ae+" with message "+ie.message),x=!0,V.Uo(new de(re,M)),b.close()}else fe(nn,`RPC '${e}' stream ${o} received:`,te),V.Ko(te)}}),$(d,q1.STAT_EVENT,j=>{j.stat===Ep.PROXY?fe(nn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Ep.NOPROXY&&fe(nn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i){return new bD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="PersistentStream";class zb{constructor(e,t,s,o,l,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new jb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(UE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(UE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _O extends zb{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=SD(this.serializer,e),s=function(l){if(!("targetChange"in l))return Se.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Li(h.readTime):Se.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Op(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=Sp(p)?{documents:ID(l,p)}:{query:ND(l,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Ib(l,h.resumeToken);const g=Ip(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){d.readTime=Gh(l,h.snapshotVersion.toTimestamp());const g=Ip(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=OD(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Op(this.serializer),t.removeTarget=e,this.I_(t)}}class EO extends zb{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=CD(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Op(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>RD(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{}class bO extends TO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,Np(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(J.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Np(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class wO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sr(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class AO{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{Ra(this)&&(fe(Ea,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await ju(g),g.j_.set("Unknown"),g.W_.delete(4),await Ef(g)}(this))})}),this.j_=new wO(s,o)}}async function Ef(i){if(Ra(i))for(const e of i.G_)await e(!0)}async function ju(i){for(const e of i.G_)await e(!1)}function Bb(i,e){const t=Ce(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Dg(t)?Ng(t):Ko(t).c_()&&Ig(t,e))}function Cg(i,e){const t=Ce(i),s=Ko(t);t.K_.delete(e),s.c_()&&qb(t,e),t.K_.size===0&&(s.c_()?s.P_():Ra(t)&&t.j_.set("Unknown"))}function Ig(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ko(i).y_(e)}function qb(i,e){i.H_.Ne(e),Ko(i).w_(e)}function Ng(i){i.H_=new vD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Ko(i).start(),i.j_.B_()}function Dg(i){return Ra(i)&&!Ko(i).u_()&&i.K_.size>0}function Ra(i){return Ce(i).W_.size===0}function Hb(i){i.H_=void 0}async function SO(i){i.j_.set("Online")}async function RO(i){i.K_.forEach((e,t)=>{Ig(i,e)})}async function CO(i,e){Hb(i),Dg(i)?(i.j_.q_(e),Ng(i)):i.j_.set("Unknown")}async function IO(i,e,t){if(i.j_.set("Online"),e instanceof Cb&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){fe(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(i,s)}else if(e instanceof Ch?i.H_.We(e):e instanceof Rb?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Se.min()))try{const s=await Ub(i.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.K_.get(g);E&&l.K_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=l.K_.get(p);if(!E)return;l.K_.set(p,E.withResumeToken(Wt.EMPTY_BYTE_STRING,E.snapshotVersion)),qb(l,p);const b=new ys(E.target,p,g,E.sequenceNumber);Ig(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){fe(Ea,"Failed to raise snapshot:",s),await Kh(i,s)}}async function Kh(i,e,t){if(!$o(e))throw e;i.W_.add(1),await ju(i),i.j_.set("Offline"),t||(t=()=>Ub(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(Ea,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await Ef(i)})}function Fb(i,e){return e().catch(t=>Kh(i,t,e))}async function Tf(i){const e=Ce(i),t=Rs(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:fg;for(;NO(e);)try{const o=await cO(e.localStore,s);if(o===null){e.U_.length===0&&t.P_();break}s=o.batchId,DO(e,o)}catch(o){await Kh(e,o)}Gb(e)&&$b(e)}function NO(i){return Ra(i)&&i.U_.length<10}function DO(i,e){i.U_.push(e);const t=Rs(i);t.c_()&&t.S_&&t.b_(e.mutations)}function Gb(i){return Ra(i)&&!Rs(i).u_()&&i.U_.length>0}function $b(i){Rs(i).start()}async function OO(i){Rs(i).C_()}async function xO(i){const e=Rs(i);for(const t of i.U_)e.b_(t.mutations)}async function MO(i,e,t){const s=i.U_.shift(),o=Eg.from(s,e,t);await Fb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Tf(i)}async function kO(i,e){e&&Rs(i).S_&&await async function(s,o){if(function(h){return gD(h)&&h!==J.ABORTED}(o.code)){const l=s.U_.shift();Rs(s).h_(),await Fb(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Tf(s)}}(i,e),Gb(i)&&$b(i)}async function jE(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),fe(Ea,"RemoteStore received new credentials");const s=Ra(t);t.W_.add(3),await ju(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ef(t)}async function VO(i,e){const t=Ce(i);e?(t.W_.delete(2),await Ef(t)):e||(t.W_.add(2),await ju(t),t.j_.set("Unknown"))}function Ko(i){return i.J_||(i.J_=function(t,s,o){const l=Ce(t);return l.M_(),new _O(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:SO.bind(null,i),No:RO.bind(null,i),Lo:CO.bind(null,i),p_:IO.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Dg(i)?Ng(i):i.j_.set("Unknown")):(await i.J_.stop(),Hb(i))})),i.J_}function Rs(i){return i.Y_||(i.Y_=function(t,s,o){const l=Ce(t);return l.M_(),new EO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:OO.bind(null,i),Lo:kO.bind(null,i),D_:xO.bind(null,i),v_:MO.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Tf(i)):(await i.Y_.stop(),i.U_.length>0&&(fe(Ea,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new Og(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(i,e){if(Sr("AsyncQueue",`${e}: ${i}`),$o(i))return new de(J.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=uu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Z_=new ht(ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Po{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new Po(e,t,Io.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class LO{constructor(){this.queries=BE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ce(t),l=o.queries;o.queries=BE(),l.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function BE(){return new Sa(i=>hb(i),mf)}async function Kb(i,e){const t=Ce(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new PO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=xg(h,`Initialization of query '${To(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Mg(t)}async function Qb(i,e){const t=Ce(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function UO(i,e){const t=Ce(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&Mg(t)}function jO(i,e,t){const s=Ce(i),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function Mg(i){i.ia.forEach(e=>{e.next()})}var kp,qE;(qE=kp||(kp={}))._a="default",qE.Cache="cache";class Yb{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.key=e}}class Wb{constructor(e){this.key=e}}class zO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=fb(e),this.wa=new Io(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new zE,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const A=o.get(E),x=pf(this.query,b)?b:null,V=!!A&&this.mutatedKeys.has(A.key),$=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;A&&x?A.data.isEqual(x.data)?V!==$&&(s.track({type:3,doc:x}),j=!0):this.va(A,x)||(s.track({type:2,doc:x}),j=!0,(p&&this.ya(x,p)>0||g&&this.ya(x,g)<0)&&(d=!0)):!A&&x?(s.track({type:0,doc:x}),j=!0):A&&!x&&(s.track({type:1,doc:A}),j=!0,(p||g)&&(d=!0)),j&&(x?(h=h.add(x),l=$?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,b)=>function(x,V){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return $(x)-$(V)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Po(this.query,e.wa,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Wb(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Xb(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Po.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const kg="SyncEngine";class BO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class qO{constructor(e){this.key=e,this.Ba=!1}}class HO{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Sa(d=>hb(d),mf),this.qa=new Map,this.Qa=new Set,this.$a=new ht(ve.comparator),this.Ua=new Map,this.Ka=new wg,this.Wa={},this.Ga=new Map,this.za=Vo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function FO(i,e,t=!0){const s=iw(i);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Zb(s,e,t,!0),o}async function GO(i,e){const t=iw(i);await Zb(t,e,!0,!1)}async function Zb(i,e,t,s){const o=await hO(i.localStore,Vi(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await $O(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Bb(i.remoteStore,o),d}async function $O(i,e,t,s,o){i.Ha=(b,A,x)=>async function($,j,G,te){let Y=j.view.ba(G);Y.ls&&(Y=await kE($.localStore,j.query,!1).then(({documents:M})=>j.view.ba(M,Y)));const ie=te&&te.targetChanges.get(j.targetId),ae=te&&te.targetMismatches.get(j.targetId)!=null,re=j.view.applyChanges(Y,$.isPrimaryClient,ie,ae);return FE($,j.targetId,re.Ma),re.snapshot}(i,b,A,x);const l=await kE(i.localStore,e,!0),h=new zO(e,l.gs),d=h.ba(l.documents),p=Uu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);FE(i,t,g.Ma);const E=new BO(e,t,h);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function KO(i,e,t){const s=Ce(i),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!mf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Cg(s.remoteStore,o.targetId),Vp(s,o.targetId)}).catch(Go)):(Vp(s,o.targetId),await xp(s.localStore,o.targetId,!0))}async function QO(i,e){const t=Ce(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Cg(t.remoteStore,s.targetId))}async function YO(i,e,t){const s=nx(i);try{const o=await function(h,d){const p=Ce(h),g=Et.now(),E=d.reduce((x,V)=>x.add(V.key),Ue());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=Rr(),$=Ue();return p.ds.getEntries(x,E).next(j=>{V=j,V.forEach((G,te)=>{te.isValidDocument()||($=$.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,V)).next(j=>{b=j;const G=[];for(const te of d){const Y=hD(te,b.get(te.key).overlayedDocument);Y!=null&&G.push(new Ds(te.key,Y,ib(Y.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,G,d)}).next(j=>{A=j;const G=j.applyToLocalDocumentSet(b,$);return p.documentOverlayCache.saveOverlays(x,j.batchId,G)})}).then(()=>({batchId:A.batchId,changes:mb(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ht(De)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await zu(s,o.changes),await Tf(s.remoteStore)}catch(o){const l=xg(o,"Failed to persist write");t.reject(l)}}async function Jb(i,e){const t=Ce(i);try{const s=await lO(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ua.get(l);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ye(h.Ba):o.removedDocuments.size>0&&(Ye(h.Ba),h.Ba=!1))}),await zu(t,s,e)}catch(s){await Go(s)}}function HE(i,e,t){const s=Ce(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ce(h);p.onlineState=d;let g=!1;p.queries.forEach((E,b)=>{for(const A of b.ta)A.sa(d)&&(g=!0)}),g&&Mg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XO(i,e,t){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),l=o&&o.key;if(l){let h=new ht(ve.comparator);h=h.insert(l,sn.newNoDocument(l,Se.min()));const d=Ue().add(l),p=new vf(Se.min(),new Map,new ht(De),h,d);await Jb(s,p),s.$a=s.$a.remove(l),s.Ua.delete(e),Vg(s)}else await xp(s.localStore,e,!1).then(()=>Vp(s,e,t)).catch(Go)}async function WO(i,e){const t=Ce(i),s=e.batch.batchId;try{const o=await oO(t.localStore,e);tw(t,s,null),ew(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zu(t,o)}catch(o){await Go(o)}}async function ZO(i,e,t){const s=Ce(i);try{const o=await function(h,d){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(Ye(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);tw(s,e,t),ew(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zu(s,o)}catch(o){await Go(o)}}function ew(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function tw(i,e,t){const s=Ce(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Vp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||nw(i,s)})}function nw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Cg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),Vg(i))}function FE(i,e,t){for(const s of t)s instanceof Xb?(i.Ka.addReference(s.key,e),JO(i,s)):s instanceof Wb?(fe(kg,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||nw(i,s.key)):be()}function JO(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(fe(kg,"New document in limbo: "+t),i.Qa.add(s),Vg(i))}function Vg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ve(st.fromString(e)),s=i.za.next();i.Ua.set(s,new qO(t)),i.$a=i.$a.insert(t,s),Bb(i.remoteStore,new ys(Vi(yg(t.path)),s,"TargetPurposeLimboResolution",hf.ae))}}async function zu(i,e,t){const s=Ce(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Sg.Yi(p.targetId,g);l.push(b)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(g,A=>Z.forEach(A.Hi,x=>E.persistence.referenceDelegate.addReference(b,A.targetId,x)).next(()=>Z.forEach(A.Ji,x=>E.persistence.referenceDelegate.removeReference(b,A.targetId,x)))))}catch(b){if(!$o(b))throw b;fe(Rg,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const x=E.Ts.get(A),V=x.snapshotVersion,$=x.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(A,$)}}}(s.localStore,l))}async function ex(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){fe(kg,"User change. New user:",e.toKey());const s=await Lb(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new de(J.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zu(t,s.Rs)}}function tx(i,e){const t=Ce(i),s=t.Ua.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const l=t.qa.get(e);if(!l)return o;for(const h of l){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function iw(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XO.bind(null,e),e.La.p_=UO.bind(null,e.eventManager),e.La.Ja=jO.bind(null,e.eventManager),e}function nx(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZO.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return aO(this.persistence,new iO,e.initialUser,this.serializer)}Xa(e){return new Pb(Ag.ri,this.serializer)}Za(e){return new dO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class ix extends Qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ye(this.persistence.referenceDelegate instanceof $h);const s=this.persistence.referenceDelegate.garbageCollector;return new qD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new Pb(s=>$h.ri(s,t),this.serializer)}}class Pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>HE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ex.bind(null,this.syncEngine),await VO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LO}()}createDatastore(e){const t=_f(e.databaseInfo.databaseId),s=function(l){return new vO(l)}(e.databaseInfo);return function(l,h,d,p){return new bO(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new AO(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>HE(this.syncEngine,t,0),function(){return LE.D()?new LE:new mO}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,E){const b=new HO(o,l,h,d,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ce(o);fe(Ea,"RemoteStore shutting down."),l.W_.add(5),await ju(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class rx{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=K1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{fe(Cs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(Cs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=xg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ym(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Cs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Lb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function GE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await sx(i);fe(Cs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>jE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>jE(e.remoteStore,o)),i._onlineComponents=e}async function sx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Cs,"Using user provided OfflineComponentProvider");try{await Ym(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Do("Error using user provided cache. Falling back to memory cache: "+t),await Ym(i,new Qh)}}else fe(Cs,"Using default OfflineComponentProvider"),await Ym(i,new ix(void 0));return i._offlineComponents}async function sw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Cs,"Using user provided OnlineComponentProvider"),await GE(i,i._uninitializedComponentsProvider._online)):(fe(Cs,"Using default OnlineComponentProvider"),await GE(i,new Pp))),i._onlineComponents}function ax(i){return sw(i).then(e=>e.syncEngine)}async function aw(i){const e=await sw(i),t=e.eventManager;return t.onListen=FO.bind(null,e.syncEngine),t.onUnlisten=KO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QO.bind(null,e.syncEngine),t}function ox(i,e,t={}){const s=new _r;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new rw({next:A=>{E.su(),h.enqueueAndForget(()=>Qb(l,b));const x=A.docs.has(d);!x&&A.fromCache?g.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&p&&p.source==="server"?g.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Yb(yg(d.path),E,{includeMetadataChanges:!0,Ta:!0});return Kb(l,b)}(await aw(i),i.asyncQueue,e,t,s)),s.promise}function lx(i,e,t={}){const s=new _r;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const E=new rw({next:A=>{E.su(),h.enqueueAndForget(()=>Qb(l,b)),A.fromCache&&p.source==="server"?g.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Yb(d,E,{includeMetadataChanges:!0,Ta:!0});return Kb(l,b)}(await aw(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i,e,t){if(!t)throw new de(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ux(i,e,t,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function KE(i){if(!ve.isDocumentKey(i))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function QE(i){if(ve.isDocumentKey(i))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function Cr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bf(i);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="firestore.googleapis.com",YE=!0;class XE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uw,this.ssl=YE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zD)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ux("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ow((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new vN;switch(s.type){case"firstParty":return new bN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=$E.get(t);s&&(fe("ComponentProvider","Removing Datastore"),$E.delete(t),s.terminate())}(this),Promise.resolve()}}function cx(i,e,t,s={}){var o;const l=(i=Cr(i,wf))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==uw&&l.host!==d&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!br(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=rn.MOCK_USER;else{g=JT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(b)}i._authCredentials=new _N(new G1(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class dn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Ts extends Qo{constructor(e,t,s){super(e,t,yg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ve(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function Pg(i,e,...t){if(i=kt(i),lw("collection","path",e),i instanceof wf){const s=st.fromString(e,...t);return QE(s),new Ts(i,null,s)}{if(!(i instanceof dn||i instanceof Ts))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return QE(s),new Ts(i.firestore,null,s)}}function mn(i,e,...t){if(i=kt(i),arguments.length===1&&(e=K1.newId()),lw("doc","path",e),i instanceof wf){const s=st.fromString(e,...t);return KE(s),new dn(i,null,new ve(s))}{if(!(i instanceof dn||i instanceof Ts))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return KE(s),new dn(i.firestore,i instanceof Ts?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jb(this,"async_queue_retry"),this.Su=()=>{const s=Qm();s&&fe(WE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new _r;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$o(e))throw e;fe(WE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Og.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Bu extends wf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ZE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function hx(i,e){const t=typeof i=="object"?i:of(),s=typeof i=="string"?i:Bh,o=Is(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=XT("firestore");l&&cx(o,...l)}return o}function Lg(i){if(i._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||fx(i),i._firestoreClient}function fx(i){var e,t,s;const o=i._freezeSettings(),l=function(d,p,g,E){return new LN(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,ow(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new rx(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(Wt.fromBase64String(e))}catch(t){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lo(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=/^__.*__$/;class mx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class cw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Sf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Yh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hw(this.Lu)&&dx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class px{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_f(e)}ju(e,t,s,o=!1){return new Sf({Lu:e,methodName:t,zu:s,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zg(i){const e=i._freezeSettings(),t=_f(i._databaseId);return new px(i._databaseId,!!e.ignoreUndefinedProperties,t)}function gx(i,e,t,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,e,t,o);Fg("Data must be an object, but it was:",h,s);const d=fw(s,h);let p,g;if(l.merge)p=new On(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const b of l.mergeFields){const A=Lp(e,b,t);if(!h.contains(A))throw new de(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);mw(E,A)||E.push(A)}p=new On(E),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new mx(new En(d),p,g)}class Rf extends Yo{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}function yx(i,e,t){return new Sf({Lu:3,zu:e.settings.zu,methodName:i._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Bg extends Yo{_toFieldTransform(e){return new _g(e.path,new Ru)}isEqual(e){return e instanceof Bg}}class qg extends Yo{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=yx(this,e,!0),s=this.Hu.map(l=>Xo(l,t)),o=new ko(s);return new _g(e.path,o)}isEqual(e){return e instanceof qg&&br(this.Hu,e.Hu)}}class Hg extends Yo{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Iu(e.serializer,yb(e.serializer,this.Ju));return new _g(e.path,t)}isEqual(e){return e instanceof Hg&&this.Ju===e.Ju}}function vx(i,e,t,s){const o=i.ju(1,e,t);Fg("Data must be an object, but it was:",o,s);const l=[],h=En.empty();Ns(s,(p,g)=>{const E=Gg(e,p,t);g=kt(g);const b=o.Uu(E);if(g instanceof Rf)l.push(E);else{const A=Xo(g,b);A!=null&&(l.push(E),h.set(E,A))}});const d=new On(l);return new cw(h,d,o.fieldTransforms)}function _x(i,e,t,s,o,l){const h=i.ju(1,e,t),d=[Lp(e,s,t)],p=[o];if(l.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(Lp(e,l[A])),p.push(l[A+1]);const g=[],E=En.empty();for(let A=d.length-1;A>=0;--A)if(!mw(g,d[A])){const x=d[A];let V=p[A];V=kt(V);const $=h.Uu(x);if(V instanceof Rf)g.push(x);else{const j=Xo(V,$);j!=null&&(g.push(x),E.set(x,j))}}const b=new On(g);return new cw(E,b,h.fieldTransforms)}function Ex(i,e,t,s=!1){return Xo(t,i.ju(s?4:3,e))}function Xo(i,e){if(dw(i=kt(i)))return Fg("Unsupported field value:",e,i),fw(i,e);if(i instanceof Yo)return function(s,o){if(!hw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Xo(d,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Et.fromDate(s);return{timestampValue:Gh(o.serializer,l)}}if(s instanceof Et){const l=new Et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gh(o.serializer,l)}}if(s instanceof Ug)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Lo)return{bytesValue:Ib(o.serializer,s._byteString)};if(s instanceof dn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:bg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof jg)return function(h,d){return{mapValue:{fields:{[tb]:{stringValue:nb},[qh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return vg(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${bf(s)}`)}(i,e)}function fw(i,e){const t={};return Y1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(i,(s,o)=>{const l=Xo(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function dw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Et||i instanceof Ug||i instanceof Lo||i instanceof dn||i instanceof Yo||i instanceof jg)}function Fg(i,e,t){if(!dw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=bf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Lp(i,e,t){if((e=kt(e))instanceof Af)return e._internalPath;if(typeof e=="string")return Gg(i,e);throw Yh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Tx=new RegExp("[~\\*/\\[\\]]");function Gg(i,e,t){if(e.search(Tx)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Af(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Yh(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new de(J.INVALID_ARGUMENT,d+i+p)}function mw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($g("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bx extends pw{data(){return super.data()}}function $g(i,e){return typeof e=="string"?Gg(i,e):e instanceof Af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class Ax extends Kg{}function gw(i,e,...t){let s=[];e instanceof Kg&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof Qg).length,d=l.filter(p=>p instanceof Cf).length;if(h>1||h>0&&d>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Cf extends Ax{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Cf(e,t,s)}_apply(e){const t=this._parse(e);return vw(e._query,t),new Qo(e.firestore,e.converter,Rp(e._query,t))}_parse(e){const t=zg(e.firestore);return function(l,h,d,p,g,E,b){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eT(b,E);const V=[];for(const $ of b)V.push(JE(p,l,$));A={arrayValue:{values:V}}}else A=JE(p,l,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eT(b,E),A=Ex(d,h,b,E==="in"||E==="not-in");return St.create(g,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yw(i,e,t){const s=e,o=$g("where",i);return Cf._create(o,s,t)}class Qg extends Kg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const d=l.getFlattenedFilters();for(const p of d)vw(h,p),h=Rp(h,p)}(e._query,t),new Qo(e.firestore,e.converter,Rp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JE(i,e,t){if(typeof(t=kt(t))=="string"){if(t==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&t.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(st.fromString(t));if(!ve.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pE(i,new ve(s))}if(t instanceof dn)return pE(i,t._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(t)}.`)}function eT(i,e){if(!Array.isArray(i)||i.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vw(i,e){const t=function(o,l){for(const h of o)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Sx{convertValue(e,t="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ns(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[qh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new jg(l)}convertGeoPoint(e){return new Ug(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=df(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=ws(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Ye(kb(s));const o=new Au(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return o.isEqual(t)||Sr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _w extends pw{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field($g("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ih extends _w{data(e={}){return super.data(e)}}class Cx{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new hu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ih(this._firestore,this._userDataWriter,s.key,s,new hu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Ih(o._firestore,o._userDataWriter,d.doc.key,d.doc,new hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Ih(o._firestore,o._userDataWriter,d.doc.key,d.doc,new hu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:Ix(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ix(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(i){i=Cr(i,dn);const e=Cr(i.firestore,Bu);return ox(Lg(e),i._key).then(t=>Nx(e,i,t))}class Ew extends Sx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function Tw(i){i=Cr(i,Qo);const e=Cr(i.firestore,Bu),t=Lg(e),s=new Ew(e);return wx(i._query),lx(t,i._query).then(o=>new Cx(e,s,i,o))}function Nu(i,e,t){i=Cr(i,dn);const s=Cr(i.firestore,Bu),o=Rx(i.converter,e);return bw(s,[gx(zg(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Pi.none())])}function ga(i,e,t,...s){i=Cr(i,dn);const o=Cr(i.firestore,Bu),l=zg(o);let h;return h=typeof(e=kt(e))=="string"||e instanceof Af?_x(l,"updateDoc",i._key,e,t,s):vx(l,"updateDoc",i._key,e),bw(o,[h.toMutation(i._key,Pi.exists(!0))])}function bw(i,e){return function(s,o){const l=new _r;return s.asyncQueue.enqueueAndForget(async()=>YO(await ax(s),o,l)),l.promise}(Lg(i),e)}function Nx(i,e,t){const s=t.docs.get(e._key),o=new Ew(i);return new _w(i,o,e._key,s,new hu(t.hasPendingWrites,t.fromCache),e.converter)}function Er(){return new Bg("serverTimestamp")}function Dx(...i){return new qg("arrayUnion",i)}function ww(i){return new Hg("increment",i)}(function(e,t=!0){(function(o){Fo=o})(Aa),fi(new Wn("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new Bu(new EN(s.getProvider("auth-internal")),new wN(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Tn(iE,rE,e),Tn(iE,rE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firebasestorage.googleapis.com",Ox="storageBucket",xx=2*60*1e3,Mx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Jn{constructor(e,t,s=0){super(Xm(e),`Firebase Storage: ${t} (${Xm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zi||(zi={}));function Xm(i){return"storage/"+i}function kx(){const i="An unknown error occurred, please check the error payload for server response.";return new qi(zi.UNKNOWN,i)}function Vx(){return new qi(zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Px(){return new qi(zi.CANCELED,"User canceled the upload/download.")}function Lx(i){return new qi(zi.INVALID_URL,"Invalid URL '"+i+"'.")}function Ux(i){return new qi(zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function tT(i){return new qi(zi.INVALID_ARGUMENT,i)}function Sw(){return new qi(zi.APP_DELETED,"The Firebase app was deleted.")}function jx(i){return new qi(zi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=ui.makeFromUrl(e,t)}catch{return new ui(e,"")}if(s.path==="")return s;throw Ux(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ie){ie.path_=decodeURIComponent(ie.path)}const E="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${E}/b/${o}/o${A}`,"i"),V={bucket:1,path:3},$=t===Aw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",G=new RegExp(`^https?://${$}/${o}/${j}`,"i"),Y=[{regex:d,indices:p,postModify:l},{regex:x,indices:V,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let ie=0;ie<Y.length;ie++){const ae=Y[ie],re=ae.regex.exec(e);if(re){const M=re[ae.indices.bucket];let R=re[ae.indices.path];R||(R=""),s=new ui(M,R),ae.postModify(s);break}}if(s==null)throw Lx(e);return s}}class zx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(i,e,t){let s=1,o=null,l=null,h=!1,d=0;function p(){return d===2}let g=!1;function E(...j){g||(g=!0,e.apply(null,j))}function b(j){o=setTimeout(()=>{o=null,i(x,p())},j)}function A(){l&&clearTimeout(l)}function x(j,...G){if(g){A();return}if(j){A(),E.call(null,j,...G);return}if(p()||h){A(),E.call(null,j,...G);return}s<64&&(s*=2);let Y;d===1?(d=2,Y=0):Y=(s+Math.random())*1e3,b(Y)}let V=!1;function $(j){V||(V=!0,A(),!g&&(o!==null?(j||(d=2),clearTimeout(o),b(0)):j||(d=1)))}return b(0),l=setTimeout(()=>{h=!0,$(!0)},t),$}function qx(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i){return i!==void 0}function nT(i,e,t,s){if(s<e)throw tT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw tT(`Invalid value for '${i}'. Expected ${t} or less.`)}function Fx(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Xh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Xh||(Xh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t,s,o,l,h,d,p,g,E,b,A=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,V)=>{this.resolve_=x,this.reject_=V,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new mh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===Xh.NO_ERROR,p=l.getStatus();if(!d||Gx(p,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===Xh.ABORT;s(!1,new mh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new mh(g,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());Hx(p)?l(p):l()}catch(p){h(p)}else if(d!==null){const p=kx();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Sw():Px();h(p)}else{const p=Vx();h(p)}};this.canceled_?t(!1,new mh(!1,null,!0)):this.backoffId_=Bx(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function Kx(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Qx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yx(i,e){e&&(i["X-Firebase-GMPID"]=e)}function Xx(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Wx(i,e,t,s,o,l,h=!0){const d=Fx(i.urlParams),p=i.url+d,g=Object.assign({},i.headers);return Yx(g,e),Kx(g,t),Qx(g,l),Xx(g,s),new $x(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function Jx(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this._service=e,t instanceof ui?this._location=t:this._location=ui.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wh(e,t)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jx(this._location.path)}get storage(){return this._service}get parent(){const e=Zx(this._location.path);if(e===null)return null;const t=new ui(this._location.bucket,e);return new Wh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw jx(e)}}function iT(i,e){const t=e==null?void 0:e[Ox];return t==null?null:ui.makeFromBucketSpec(t,i)}function e3(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:JT(o,i.app.options.projectId))}class t3{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=Aw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xx,this._maxUploadRetryTime=Mx,this._requests=new Set,o!=null?this._bucket=ui.makeFromBucketSpec(o,this._host):this._bucket=iT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=iT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wh(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new zx(Sw());{const h=Wx(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const rT="@firebase/storage",sT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="storage";function n3(i=of(),e){i=kt(i);const s=Is(i,Rw).getImmediate({identifier:e}),o=XT("storage");return o&&i3(s,...o),s}function i3(i,e,t,s={}){e3(i,e,t,s)}function r3(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new t3(t,s,o,e,Aa)}function s3(){fi(new Wn(Rw,r3,"PUBLIC").setMultipleInstances(!0)),Tn(rT,sT,""),Tn(rT,sT,"esm2017")}s3();const Cw="@firebase/installations",Yg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=1e4,Nw=`w:${Yg}`,Dw="FIS_v2",a3="https://firebaseinstallations.googleapis.com/v1",o3=60*60*1e3,l3="installations",u3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ta=new wa(l3,u3,c3);function Ow(i){return i instanceof Jn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw({projectId:i}){return`${a3}/projects/${i}/installations`}function Mw(i){return{token:i.token,requestStatus:2,expiresIn:f3(i.expiresIn),creationTime:Date.now()}}async function kw(i,e){const s=(await e.json()).error;return Ta.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Vw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function h3(i,{refreshToken:e}){const t=Vw(i);return t.append("Authorization",d3(e)),t}async function Pw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function f3(i){return Number(i.replace("s","000"))}function d3(i){return`${Dw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=xw(i),o=Vw(i),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:Dw,appId:i.appId,sdkVersion:Nw},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Pw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Mw(g.authToken)}}else throw await kw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^[cdef][\w-]{21}$/,Up="";function y3(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=v3(i);return g3.test(t)?t:Up}catch{return Up}}function v3(i){return p3(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;function jw(i,e){const t=Nf(i);zw(t,e),_3(t,e)}function zw(i,e){const t=Uw.get(i);if(t)for(const s of t)s(e)}function _3(i,e){const t=E3();t&&t.postMessage({key:i,fid:e}),T3()}let ma=null;function E3(){return!ma&&"BroadcastChannel"in self&&(ma=new BroadcastChannel("[Firebase] FID Change"),ma.onmessage=i=>{zw(i.data.key,i.data.fid)}),ma}function T3(){Uw.size===0&&ma&&(ma.close(),ma=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="firebase-installations-database",w3=1,ba="firebase-installations-store";let Wm=null;function Xg(){return Wm||(Wm=s1(b3,w3,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ba)}}})),Wm}async function Zh(i,e){const t=Nf(i),o=(await Xg()).transaction(ba,"readwrite"),l=o.objectStore(ba),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&jw(i,e.fid),e}async function Bw(i){const e=Nf(i),s=(await Xg()).transaction(ba,"readwrite");await s.objectStore(ba).delete(e),await s.done}async function Df(i,e){const t=Nf(i),o=(await Xg()).transaction(ba,"readwrite"),l=o.objectStore(ba),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&jw(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wg(i){let e;const t=await Df(i.appConfig,s=>{const o=A3(s),l=S3(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Up?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function A3(i){const e=i||{fid:y3(),registrationStatus:0};return qw(e)}function S3(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ta.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=R3(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:C3(i)}:{installationEntry:e}}async function R3(i,e){try{const t=await m3(i,e);return Zh(i.appConfig,t)}catch(t){throw Ow(t)&&t.customData.serverCode===409?await Bw(i.appConfig):await Zh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function C3(i){let e=await aT(i.appConfig);for(;e.registrationStatus===1;)await Lw(100),e=await aT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Wg(i);return s||t}return e}function aT(i){return Df(i,e=>{if(!e)throw Ta.create("installation-not-found");return qw(e)})}function qw(i){return I3(i)?{fid:i.fid,registrationStatus:0}:i}function I3(i){return i.registrationStatus===1&&i.registrationTime+Iw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3({appConfig:i,heartbeatServiceProvider:e},t){const s=D3(i,t),o=h3(i,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Nw,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Pw(()=>fetch(s,d));if(p.ok){const g=await p.json();return Mw(g)}else throw await kw("Generate Auth Token",p)}function D3(i,{fid:e}){return`${xw(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(i,e=!1){let t;const s=await Df(i.appConfig,l=>{if(!Hw(l))throw Ta.create("not-registered");const h=l.authToken;if(!e&&M3(h))return l;if(h.requestStatus===1)return t=O3(i,e),l;{if(!navigator.onLine)throw Ta.create("app-offline");const d=V3(l);return t=x3(i,d),d}});return t?await t:s.authToken}async function O3(i,e){let t=await oT(i.appConfig);for(;t.authToken.requestStatus===1;)await Lw(100),t=await oT(i.appConfig);const s=t.authToken;return s.requestStatus===0?Zg(i,e):s}function oT(i){return Df(i,e=>{if(!Hw(e))throw Ta.create("not-registered");const t=e.authToken;return P3(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function x3(i,e){try{const t=await N3(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Zh(i.appConfig,s),t}catch(t){if(Ow(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Bw(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Zh(i.appConfig,s)}throw t}}function Hw(i){return i!==void 0&&i.registrationStatus===2}function M3(i){return i.requestStatus===2&&!k3(i)}function k3(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+o3}function V3(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function P3(i){return i.requestStatus===1&&i.requestTime+Iw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(i){const e=i,{installationEntry:t,registrationPromise:s}=await Wg(e);return s?s.catch(console.error):Zg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(i,e=!1){const t=i;return await j3(t),(await Zg(t,e)).token}async function j3(i){const{registrationPromise:e}=await Wg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(i){if(!i||!i.options)throw Zm("App Configuration");if(!i.name)throw Zm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Zm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Zm(i){return Ta.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="installations",B3="installations-internal",q3=i=>{const e=i.getProvider("app").getImmediate(),t=z3(e),s=Is(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},H3=i=>{const e=i.getProvider("app").getImmediate(),t=Is(e,Fw).getImmediate();return{getId:()=>L3(t),getToken:o=>U3(t,o)}};function F3(){fi(new Wn(Fw,q3,"PUBLIC")),fi(new Wn(B3,H3,"PRIVATE"))}F3();Tn(Cw,Yg);Tn(Cw,Yg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="analytics",G3="firebase_id",$3="origin",K3=60*1e3,Q3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new af("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new wa("analytics","Analytics",Y3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(i){if(!i.startsWith(Jg)){const e=xn.create("invalid-gtag-resource",{gtagURL:i});return bn.warn(e.message),""}return i}function Gw(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function W3(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function Z3(i,e){const t=W3("firebase-js-sdk-policy",{createScriptURL:X3}),s=document.createElement("script"),o=`${Jg}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function J3(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function eM(i,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await Gw(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){bn.error(d)}i("config",o,l)}async function tM(i,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await Gw(t);for(const p of h){const g=d.find(b=>b.measurementId===p),E=g&&e[g.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",s,o||{})}catch(l){bn.error(l)}}function nM(i,e,t,s){async function o(l,...h){try{if(l==="event"){const[d,p]=h;await tM(i,e,t,d,p)}else if(l==="config"){const[d,p]=h;await eM(i,e,t,s,d,p)}else if(l==="consent"){const[d,p]=h;i("consent",d,p)}else if(l==="get"){const[d,p,g]=h;i("get",d,p,g)}else if(l==="set"){const[d]=h;i("set",d)}else i(l,...h)}catch(d){bn.error(d)}}return o}function iM(i,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=nM(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function rM(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Jg)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=30,aM=1e3;class oM{constructor(e={},t=aM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $w=new oM;function lM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function uM(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:lM(s)},l=Q3.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function cM(i,e=$w,t){const{appId:s,apiKey:o,measurementId:l}=i.options;if(!s)throw xn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw xn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new dM;return setTimeout(async()=>{d.abort()},K3),Kw({appId:s,apiKey:o,measurementId:l},h,d,e)}async function Kw(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=$w){var l;const{appId:h,measurementId:d}=i;try{await hM(s,e)}catch(p){if(d)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await uM(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!fM(g)){if(o.deleteThrottleMetadata(h),d)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?D0(t,o.intervalMillis,sM):D0(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,b),bn.debug(`Calling attemptFetch again in ${E} millis`),Kw(i,b,s,o)}}function hM(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),s(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fM(i){if(!(i instanceof Jn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class dM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mM(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});i("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(){if(t1())try{await n1()}catch(i){return bn.warn(xn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return bn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gM(i,e,t,s,o,l,h){var d;const p=cM(i);p.then(x=>{t[x.measurementId]=x.appId,i.options.measurementId&&x.measurementId!==i.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>bn.error(x)),e.push(p);const g=pM().then(x=>{if(x)return s.getId()}),[E,b]=await Promise.all([p,g]);rM(l)||Z3(l,E.measurementId),o("js",new Date);const A=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return A[$3]="firebase",A.update=!0,b!=null&&(A[G3]=b),o("config",E.measurementId,A),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.app=e}_delete(){return delete vu[this.app.options.appId],Promise.resolve()}}let vu={},lT=[];const uT={};let Jm="dataLayer",vM="gtag",cT,Qw,hT=!1;function _M(){const i=[];if(e1()&&i.push("This is a browser extension environment."),W2()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=xn.create("invalid-analytics-context",{errorInfo:e});bn.warn(t.message)}}function EM(i,e,t){_M();const s=i.options.appId;if(!s)throw xn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(vu[s]!=null)throw xn.create("already-exists",{id:s});if(!hT){J3(Jm);const{wrappedGtag:l,gtagCore:h}=iM(vu,lT,uT,Jm,vM);Qw=l,cT=h,hT=!0}return vu[s]=gM(i,lT,uT,e,cT,Jm,t),new yM(i)}function TM(i=of()){i=kt(i);const e=Is(i,Jh);return e.isInitialized()?e.getImmediate():bM(i)}function bM(i,e={}){const t=Is(i,Jh);if(t.isInitialized()){const o=t.getImmediate();if(br(e,t.getOptions()))return o;throw xn.create("already-initialized")}return t.initialize({options:e})}function wM(i,e,t,s){i=kt(i),mM(Qw,vu[i.app.options.appId],e,t,s).catch(o=>bn.error(o))}const fT="@firebase/analytics",dT="0.10.12";function AM(){fi(new Wn(Jh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return EM(s,o,t)},"PUBLIC")),fi(new Wn("analytics-internal",i,"PRIVATE")),Tn(fT,dT),Tn(fT,dT,"esm2017");function i(e){try{const t=e.getProvider(Jh).getImmediate();return{logEvent:(s,o,l)=>wM(t,s,o,l)}}catch(t){throw xn.create("interop-component-reg-failed",{reason:t})}}}AM();const SM={apiKey:"AIzaSyByBUCnsUPu5f9N9mcPmwZb8fTxPP34jRU",authDomain:"health-quest-69684.firebaseapp.com",projectId:"health-quest-69684",storageBucket:"health-quest-69684.firebasestorage.app",messagingSenderId:"224519172412",appId:"1:224519172412:web:3fb327009476d0e13a2e39",measurementId:"G-6J2GKXYCZ1"},Of=a1(SM),Yw=gN(Of),Xt=hx(Of);n3(Of);TM(Of);const Xw=new pr;Xw.setCustomParameters({prompt:"select_account"});const RM=async()=>{var i;try{console.log("Starting Google sign in...");const e=await S4(Yw,Xw);console.log("Sign in successful:",e);const t=e.user;if(!(await If(mn(Xt,"users",t.uid))).exists()){console.log("Creating new user document...");const o={uid:t.uid,name:t.displayName||"User",username:`@${((i=t.displayName)==null?void 0:i.toLowerCase().replace(/\s+/g,""))||t.uid.substring(0,8)}`,email:t.email||"",avatarUrl:t.photoURL||"/health-quest/profile.png",createdAt:Et.fromDate(new Date)};await Nu(mn(Xt,"users",t.uid),o),console.log("User document created"),await Nu(mn(Xt,"userStats",t.uid),{userId:t.uid,activeGoals:0,completion:0,totalGroups:0,goalsCompleted:0,workoutSessions:0,healthyMeals:0,updatedAt:Er()}),console.log("User stats created")}return t}catch(e){throw console.error("Detailed sign in error:",{code:e.code,message:e.message,fullError:e}),e}},CM=async i=>{try{const e=await If(mn(Xt,"users",i));return e.exists()?e.data():null}catch(e){throw console.error("Error getting user data:",e),e}},Ww=O.createContext({currentUser:null,userData:null,loading:!0});function ey(){return O.useContext(Ww)}function IM({children:i}){const[e,t]=O.useState(null),[s,o]=O.useState(null),[l,h]=O.useState(!0);O.useEffect(()=>s4(Yw,async g=>{if(t(g),g)try{const E=await CM(g.uid);o(E)}catch(E){console.error("Error fetching user data:",E)}else o(null);h(!1)}),[]);const d={currentUser:e,userData:s,loading:l};return I.jsx(Ww.Provider,{value:d,children:!l&&i})}const Zw=async(i,e)=>{try{const t=await If(mn(Xt,"healthStats",`${i}_${e}`));return t.exists()?t.data():null}catch(t){throw console.error("Error getting health stats:",t),t}},NM=async(i,e,t,s)=>{try{const o=mn(Xt,"healthStats",`${i}_${e}`);await ga(o,{[t]:s,updatedAt:Er()});const l=mn(Xt,"userStats",i);t==="healthyFats"||t==="veggies"?await ga(l,{healthyMeals:s,updatedAt:Er()}):(t==="cardio"||t==="strength")&&await ga(l,{workoutSessions:s,updatedAt:Er()})}catch(o){throw console.error(`Error updating ${t}:`,o),o}},DM=async(i,e)=>{try{const t=await Zw(i,e);if(t){const{healthyFats:s,veggies:o,cardio:l,strength:h}=t,d=s+o+l+h,g=Math.round(d/34*100),E=mn(Xt,"userStats",i);await ga(E,{completion:g,updatedAt:Er()})}}catch(t){throw console.error("Error updating completion percentage:",t),t}},OM=()=>Math.random().toString(36).substring(2,8).toUpperCase(),xM=async(i,e,t="family")=>{try{const s=OM(),o=mn(Pg(Xt,"groups")),l=o.id,h={id:l,name:i,code:s,icon:t,createdBy:e,createdAt:Et.fromDate(new Date),members:[e],status:"Active"};await Nu(o,h);const d=mn(Xt,"userStats",e);return await ga(d,{totalGroups:ww(1),updatedAt:Er()}),await Nu(mn(Xt,"healthStats",`${e}_${l}`),{userId:e,groupId:l,healthyFats:0,veggies:0,cardio:0,strength:0,updatedAt:Er()}),l}catch(s){throw console.error("Error creating group:",s),s}},MM=async i=>{try{const e=await If(mn(Xt,"groups",i));return e.exists()?e.data():null}catch(e){throw console.error("Error getting group:",e),e}},kM=async i=>{try{const e=gw(Pg(Xt,"groups"),yw("code","==",i)),t=await Tw(e);return t.empty?null:{id:t.docs[0].id,...t.docs[0].data()}}catch(e){throw console.error("Error getting group by code:",e),e}},Jw=async i=>{try{const e=gw(Pg(Xt,"groups"),yw("members","array-contains",i));return(await Tw(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting user groups:",e),e}},VM=async(i,e)=>{try{const t=mn(Xt,"groups",i);await ga(t,{members:Dx(e)});const s=mn(Xt,"userStats",e);await ga(s,{totalGroups:ww(1),updatedAt:Er()}),await Nu(mn(Xt,"healthStats",`${e}_${i}`),{userId:e,groupId:i,healthyFats:0,veggies:0,cardio:0,strength:0,updatedAt:Er()})}catch(t){throw console.error("Error joining group:",t),t}};function PM(){const{currentUser:i,userData:e}=ey(),t=qo(),[s,o]=O.useState(0),[l,h]=O.useState(0),[d,p]=O.useState(0),[g,E]=O.useState(0),[b,A]=O.useState(null),[x,V]=O.useState(!0),[$,j]=O.useState(null);O.useEffect(()=>{if(!i)return;(async()=>{try{V(!0);const ie=await Jw(i.uid);if(ie.length===0){V(!1);return}const ae=localStorage.getItem("activeGroupId"),re=ae?await MM(ae):ie[0];if(re){A(re),localStorage.setItem("activeGroupId",re.id);const M=await Zw(i.uid,re.id);M&&(o(M.healthyFats),h(M.veggies),p(M.cardio),E(M.strength))}}catch(ie){console.error("Error fetching data:",ie),j("Failed to load data. Please try again.")}finally{V(!1)}})()},[i]);const G=async(Y,ie)=>{if(!(!i||!b))try{switch(await NM(i.uid,b.id,Y,ie),await DM(i.uid,b.id),Y){case"healthyFats":o(s+ie);break;case"veggies":h(l+ie);break;case"cardio":p(d+ie);break;case"strength":E(g+ie);break}}catch(ae){console.error(`Error updating ${Y}:`,ae),j(`Failed to update ${Y}. Please try again.`)}},te=()=>{t("/health-quest/group")};return x?I.jsx("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:I.jsx("p",{className:"text-center",children:"Loading your health quest data..."})}):$?I.jsxs("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:[I.jsx("div",{className:"alert alert-danger",role:"alert",children:$}),I.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Try Again"})]}):b?I.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[I.jsxs("div",{children:[I.jsx("div",{className:"card mb-4",children:I.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[I.jsx("h2",{className:"m-0",children:b.name}),I.jsx("img",{src:(e==null?void 0:e.avatarUrl)||"/health-quest/profile.png",alt:"Profile",className:"rounded-circle",width:35,height:35})]})}),I.jsxs("div",{className:"mb-4",children:[I.jsx("h4",{children:"Family Progress"}),I.jsx(au,{bgColor:"#D85B6A",completed:parseFloat(((s+l+d+g)/34*100).toFixed(0))})]}),I.jsx("div",{children:I.jsxs("h4",{className:"d-flex align-items-center",style:{color:"#e65100"},children:[I.jsx(C2,{}),"  Nutrition"]})}),I.jsxs("div",{className:"card mb-2 p-2",children:[I.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(D2,{style:{color:"#e65100"}})," ",I.jsx("b",{children:"Healthy Fats: 12 Servings"})]}),I.jsx("div",{children:I.jsxs("b",{children:[s,"/12"]})})]}),I.jsx(au,{bgColor:"#e65100",className:"mb-2",completed:s/12*100,isLabelVisible:!1}),I.jsx("button",{className:"btn",style:{backgroundColor:"#fff6ed",color:"#e65100"},onClick:()=>G("healthyFats",1),disabled:s>=12,children:"+ Add Serving"})]}),I.jsxs("div",{className:"card mb-3 p-2",children:[I.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(N2,{style:{color:"green"}})," ",I.jsx("b",{children:"Vegetables: 16 Servings"})]}),I.jsx("div",{children:I.jsxs("b",{children:[l,"/16"]})})]}),I.jsx(au,{bgColor:"green",className:"mb-2",completed:l/16*100,isLabelVisible:!1}),I.jsx("button",{className:"btn",style:{backgroundColor:"#f0fcf4",color:"green"},onClick:()=>G("veggies",1),disabled:l>=16,children:"+ Add Serving"})]}),I.jsx("div",{children:I.jsxs("h4",{className:"d-flex align-items-center",style:{color:"#7b39ec"},children:[I.jsx(O2,{}),"Fitness"]})}),I.jsxs("div",{className:"card mb-3 p-2",children:[I.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(x2,{style:{color:"#7b39ec"}}),I.jsx("b",{children:"Cardio: 3 Workouts"})]}),I.jsxs("b",{children:[d,"/3"]})]}),I.jsx("div",{}),I.jsx(au,{bgColor:"#7b39ec",className:"mb-2",completed:d/3*100,isLabelVisible:!1}),I.jsx("button",{className:"btn",style:{backgroundColor:"#f8f4fc",color:"#7b39ec"},onClick:()=>G("cardio",1),disabled:d>=3,children:"+ Log Workout"})]})]}),I.jsxs("div",{className:"card mb-3 p-2",children:[I.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[I.jsx(V2,{style:{color:"#3c82f6"}})," ",I.jsx("b",{children:"Strength: 3 Workouts"})]}),I.jsx("div",{children:I.jsxs("b",{children:[g,"/3"]})})]}),I.jsx(au,{bgColor:"#3c82f6",className:"mb-2",completed:g/3*100,isLabelVisible:!1}),I.jsx("button",{className:"btn",style:{backgroundColor:"#f0f4fc",color:"#3c82f6"},onClick:()=>G("strength",1),disabled:g>=3,children:"+ Log Workout"})]})]}):I.jsxs("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:[I.jsx("p",{className:"mb-3 text-center",style:{fontSize:"1.5rem"},children:"You are not in a group. Please join or create a group to see your tasks."}),I.jsx("button",{className:"btn btn-primary",onClick:te,children:"Join a Group"})]})}function eA(i){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(i)}function LM(i){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 400a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm128 256a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM128 272a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48z"},child:[]}]})(i)}function UM(i){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"336",y:"336",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"272",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"416",y:"416",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"432",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"272",y:"432",rx:"8",ry:"8"},child:[]},{tag:"path",attr:{d:"M448 32H304a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zM208 32H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zm32 104H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V304a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8z"},child:[]}]})(i)}function tA(i){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(i)}var ep={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var mT;function jM(){return mT||(mT=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var l="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(l=o(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var d in l)e.call(l,d)&&l[d]&&(h=o(h,d));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(ep)),ep.exports}var zM=jM();const Zn=Uo(zM),Wo=!!(typeof window<"u"&&window.document&&window.document.createElement);var jp=!1,zp=!1;try{var tp={get passive(){return jp=!0},get once(){return zp=jp=!0}};Wo&&(window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,!0))}catch{}function nA(i,e,t,s){if(s&&typeof s!="boolean"&&!zp){var o=s.once,l=s.capture,h=t;!zp&&o&&(h=t.__once||function d(p){this.removeEventListener(e,d,l),t.call(this,p)},t.__once=h),i.addEventListener(e,h,jp?s:l)}i.addEventListener(e,t,s)}function xf(i){return i&&i.ownerDocument||document}function Bp(i,e,t,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,t,o),t.__once&&i.removeEventListener(e,t.__once,o)}var ph;function pT(i){if((!ph&&ph!==0||i)&&Wo){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ph=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ph}function BM(){return O.useState(null)}function qM(i){const e=O.useRef(i);return O.useEffect(()=>{e.current=i},[i]),e}function qp(i){const e=qM(i);return O.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const gT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function HM(i,e){const t=gT(i),s=gT(e);return o=>{t&&t(o),s&&s(o)}}function iA(i,e){return O.useMemo(()=>HM(i,e),[i,e])}function FM(i){const e=O.useRef(i);return e.current=i,e}function GM(i){const e=FM(i);O.useEffect(()=>()=>e.current(),[])}function $M(i){var e=xf(i);return e&&e.defaultView||window}function KM(i,e){return $M(i).getComputedStyle(i,e)}var QM=/([A-Z])/g;function YM(i){return i.replace(QM,"-$1").toLowerCase()}var XM=/^ms-/;function gh(i){return YM(i).replace(XM,"-ms-")}var WM=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ZM(i){return!!(i&&WM.test(i))}function ya(i,e){var t="",s="";if(typeof e=="string")return i.style.getPropertyValue(gh(e))||KM(i).getPropertyValue(gh(e));Object.keys(e).forEach(function(o){var l=e[o];!l&&l!==0?i.style.removeProperty(gh(o)):ZM(o)?s+=o+"("+l+") ":t+=gh(o)+": "+l+";"}),s&&(t+="transform: "+s+";"),i.style.cssText+=";"+t}function ef(i,e,t,s){return nA(i,e,t,s),function(){Bp(i,e,t,s)}}function JM(i,e,t,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,s),i.dispatchEvent(o)}}function ek(i){var e=ya(i,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function tk(i,e,t){t===void 0&&(t=5);var s=!1,o=setTimeout(function(){s||JM(i,"transitionend",!0)},e+t),l=ef(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),l()}}function rA(i,e,t,s){t==null&&(t=ek(i)||0);var o=tk(i,t,s),l=ef(i,"transitionend",e);return function(){o(),l()}}function np(i){i===void 0&&(i=xf());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function yT(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}function nk(){const i=O.useRef(!0),e=O.useRef(()=>i.current);return O.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function ik(i){const e=O.useRef(i);return e.current=i,e}function rk(i){const e=ik(i);O.useEffect(()=>()=>e.current(),[])}function sk(i){const e=O.useRef(null);return O.useEffect(()=>{e.current=i}),e.current}function ak(i){const e=O.useRef(i);return O.useEffect(()=>{e.current=i},[i]),e}function ca(i){const e=ak(i);return O.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const ok="data-rr-ui-";function lk(i){return`${ok}${i}`}function uk(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const vT=lk("modal-open");class ty{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return uk(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(ya(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(vT,""),ya(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(vT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const sA=O.createContext(Wo?window:void 0);sA.Provider;function ny(){return O.useContext(sA)}const ip=(i,e)=>Wo?i==null?(e||xf()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function ck(i,e){const t=ny(),[s,o]=O.useState(()=>ip(i,t==null?void 0:t.document));if(!s){const l=ip(i);l&&o(l)}return O.useEffect(()=>{},[e,s]),O.useEffect(()=>{const l=ip(i);l!==s&&o(l)},[i,s]),s}const _T=i=>!i||typeof i=="function"?i:e=>{i.current=e};function hk(i,e){const t=_T(i),s=_T(e);return o=>{t&&t(o),s&&s(o)}}function iy(i,e){return O.useMemo(()=>hk(i,e),[i,e])}const fk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",dk=typeof document<"u",ET=dk||fk?O.useLayoutEffect:O.useEffect;function mk(i){return i.code==="Escape"||i.keyCode===27}function pk(){const i=O.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Mf(i){if(!i||typeof i=="function")return null;const{major:e}=pk();return e>=19?i.props.ref:i.ref}function gk({children:i,in:e,onExited:t,mountOnEnter:s,unmountOnExit:o}){const l=O.useRef(null),h=O.useRef(e),d=ca(t);O.useEffect(()=>{e?h.current=!0:d(l.current)},[e,d]);const p=iy(l,Mf(i)),g=O.cloneElement(i,{ref:p});return e?g:o||!h.current&&s?null:g}const yk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function vk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function _k(i){let{onEnter:e,onEntering:t,onEntered:s,onExit:o,onExiting:l,onExited:h,addEndListener:d,children:p}=i,g=vk(i,yk);const E=O.useRef(null),b=iy(E,Mf(p)),A=ie=>ae=>{ie&&E.current&&ie(E.current,ae)},x=O.useCallback(A(e),[e]),V=O.useCallback(A(t),[t]),$=O.useCallback(A(s),[s]),j=O.useCallback(A(o),[o]),G=O.useCallback(A(l),[l]),te=O.useCallback(A(h),[h]),Y=O.useCallback(A(d),[d]);return Object.assign({},g,{nodeRef:E},e&&{onEnter:x},t&&{onEntering:V},s&&{onEntered:$},o&&{onExit:j},l&&{onExiting:G},h&&{onExited:te},d&&{addEndListener:Y},{children:typeof p=="function"?(ie,ae)=>p(ie,Object.assign({},ae,{ref:b})):O.cloneElement(p,{ref:b})})}const Ek=["component"];function Tk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const bk=O.forwardRef((i,e)=>{let{component:t}=i,s=Tk(i,Ek);const o=_k(s);return I.jsx(t,Object.assign({ref:e},o))});function wk({in:i,onTransition:e}){const t=O.useRef(null),s=O.useRef(!0),o=ca(e);return ET(()=>{if(!t.current)return;let l=!1;return o({in:i,element:t.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[i,o]),ET(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function Ak({children:i,in:e,onExited:t,onEntered:s,transition:o}){const[l,h]=O.useState(!e);e&&l&&h(!1);const d=wk({in:!!e,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(h(!0),t==null||t(g.element)))};Promise.resolve(o(g)).then(E,b=>{throw g.in||h(!0),b})}}),p=iy(d,Mf(i));return l&&!e?null:O.cloneElement(i,{ref:p})}function TT(i,e,t){return i?I.jsx(bk,Object.assign({},t,{component:i})):e?I.jsx(Ak,Object.assign({},t,{transition:e})):I.jsx(gk,Object.assign({},t))}const Sk=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Rk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}let rp;function Ck(i){return rp||(rp=new ty({ownerDocument:i==null?void 0:i.document})),rp}function Ik(i){const e=ny(),t=i||Ck(e),s=O.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:O.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:O.useCallback(o=>{s.current.backdrop=o},[])})}const aA=O.forwardRef((i,e)=>{let{show:t=!1,role:s="dialog",className:o,style:l,children:h,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:b,runTransition:A,backdropTransition:x,runBackdropTransition:V,autoFocus:$=!0,enforceFocus:j=!0,restoreFocus:G=!0,restoreFocusOptions:te,renderDialog:Y,renderBackdrop:ie=Me=>I.jsx("div",Object.assign({},Me)),manager:ae,container:re,onShow:M,onHide:R=()=>{},onExit:S,onExited:N,onExiting:P,onEnter:z,onEntering:D,onEntered:nt}=i,Ze=Rk(i,Sk);const se=ny(),ge=ck(re),ce=Ik(ae),Ve=nk(),k=sk(t),[ee,he]=O.useState(!t),ue=O.useRef(null);O.useImperativeHandle(e,()=>ce,[ce]),Wo&&!k&&t&&(ue.current=np(se==null?void 0:se.document)),t&&ee&&he(!1);const oe=ca(()=>{if(ce.add(),xe.current=ef(document,"keydown",Oe),Ke.current=ef(document,"focus",()=>setTimeout(we),!0),M&&M(),$){var Me,Zt;const pn=np((Me=(Zt=ce.dialog)==null?void 0:Zt.ownerDocument)!=null?Me:se==null?void 0:se.document);ce.dialog&&pn&&!yT(ce.dialog,pn)&&(ue.current=pn,ce.dialog.focus())}}),Ee=ca(()=>{if(ce.remove(),xe.current==null||xe.current(),Ke.current==null||Ke.current(),G){var Me;(Me=ue.current)==null||Me.focus==null||Me.focus(te),ue.current=null}});O.useEffect(()=>{!t||!ge||oe()},[t,ge,oe]),O.useEffect(()=>{ee&&Ee()},[ee,Ee]),rk(()=>{Ee()});const we=ca(()=>{if(!j||!Ve()||!ce.isTopModal())return;const Me=np(se==null?void 0:se.document);ce.dialog&&Me&&!yT(ce.dialog,Me)&&ce.dialog.focus()}),Je=ca(Me=>{Me.target===Me.currentTarget&&(g==null||g(Me),d===!0&&R())}),Oe=ca(Me=>{p&&mk(Me)&&ce.isTopModal()&&(E==null||E(Me),Me.defaultPrevented||R())}),Ke=O.useRef(),xe=O.useRef(),ot=(...Me)=>{he(!0),N==null||N(...Me)};if(!ge)return null;const Rt=Object.assign({role:s,ref:ce.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Ze,{style:l,className:o,tabIndex:-1});let gt=Y?Y(Rt):I.jsx("div",Object.assign({},Rt,{children:O.cloneElement(h,{role:"document"})}));gt=TT(b,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:S,onExiting:P,onExited:ot,onEnter:z,onEntering:D,onEntered:nt,children:gt});let Pt=null;return d&&(Pt=ie({ref:ce.setBackdropRef,onClick:Je}),Pt=TT(x,V,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Pt})),I.jsx(I.Fragment,{children:Ao.createPortal(I.jsxs(I.Fragment,{children:[Pt,gt]}),ge)})});aA.displayName="Modal";const Nk=Object.assign(aA,{Manager:ty});function Dk(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function Ok(i,e){i.classList?i.classList.add(e):Dk(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}var xk=Function.prototype.bind.call(Function.prototype.call,[].slice);function go(i,e){return xk(i.querySelectorAll(e))}function bT(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Mk(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=bT(i.className,e):i.setAttribute("class",bT(i.className&&i.className.baseVal||"",e))}const yo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class kk extends ty{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,ya(t,{[e]:`${parseFloat(ya(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],ya(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(Ok(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";go(t,yo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),go(t,yo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-e.scrollBarWidth)),go(t,yo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();Mk(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";go(t,yo.FIXED_CONTENT).forEach(l=>this.restore(s,l)),go(t,yo.STICKY_CONTENT).forEach(l=>this.restore(o,l)),go(t,yo.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let sp;function Vk(i){return sp||(sp=new kk(i)),sp}function Pk(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function Hp(i,e){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Hp(i,e)}function Lk(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Hp(i,e)}var ap={exports:{}},op,wT;function Uk(){if(wT)return op;wT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return op=i,op}var lp,AT;function jk(){if(AT)return lp;AT=1;var i=Uk();function e(){}function t(){}return t.resetWarningCache=e,lp=function(){function s(h,d,p,g,E,b){if(b!==i){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},lp}var ST;function zk(){return ST||(ST=1,ap.exports=jk()()),ap.exports}var Bk=zk();const up=Uo(Bk),RT={disabled:!1},oA=fn.createContext(null);var qk=function(e){return e.scrollTop},fu="unmounted",ua="exited",ds="entering",ha="entered",Fp="exiting",Nr=function(i){Lk(e,i);function e(s,o){var l;l=i.call(this,s,o)||this;var h=o,d=h&&!h.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?d?(p=ua,l.appearStatus=ds):p=ha:s.unmountOnExit||s.mountOnEnter?p=fu:p=ua,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(o,l){var h=o.in;return h&&l.status===fu?{status:ua}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var l=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==ds&&h!==ha&&(l=ds):(h===ds||h===ha)&&(l=Fp)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,l,h,d;return l=h=d=o,o!=null&&typeof o!="number"&&(l=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:l,enter:h,appear:d}},t.updateStatus=function(o,l){if(o===void 0&&(o=!1),l!==null)if(this.cancelNextCallback(),l===ds){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Ao.findDOMNode(this);h&&qk(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ua&&this.setState({status:fu})},t.performEnter=function(o){var l=this,h=this.props.enter,d=this.context?this.context.isMounting:o,p=this.props.nodeRef?[d]:[Ao.findDOMNode(this),d],g=p[0],E=p[1],b=this.getTimeouts(),A=d?b.appear:b.enter;if(!o&&!h||RT.disabled){this.safeSetState({status:ha},function(){l.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:ds},function(){l.props.onEntering(g,E),l.onTransitionEnd(A,function(){l.safeSetState({status:ha},function(){l.props.onEntered(g,E)})})})},t.performExit=function(){var o=this,l=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:Ao.findDOMNode(this);if(!l||RT.disabled){this.safeSetState({status:ua},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Fp},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:ua},function(){o.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,l){l=this.setNextCallback(l),this.setState(o,l)},t.setNextCallback=function(o){var l=this,h=!0;return this.nextCallback=function(d){h&&(h=!1,l.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},t.onTransitionEnd=function(o,l){this.setNextCallback(l);var h=this.props.nodeRef?this.props.nodeRef.current:Ao.findDOMNode(this),d=o==null&&!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===fu)return null;var l=this.props,h=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=Pk(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fn.createElement(oA.Provider,{value:null},typeof h=="function"?h(o,d):fn.cloneElement(fn.Children.only(h),d))},e}(fn.Component);Nr.contextType=oA;Nr.propTypes={};function vo(){}Nr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vo,onEntering:vo,onEntered:vo,onExit:vo,onExiting:vo,onExited:vo};Nr.UNMOUNTED=fu;Nr.EXITED=ua;Nr.ENTERING=ds;Nr.ENTERED=ha;Nr.EXITING=Fp;function CT(i,e){const t=ya(i,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Hk(i,e){const t=CT(i,"transitionDuration"),s=CT(i,"transitionDelay"),o=rA(i,l=>{l.target===i&&(o(),e(l))},t+s)}function Fk(i){i.offsetHeight}function Gk(i){return i&&"setState"in i?Ao.findDOMNode(i):i??null}const $k=fn.forwardRef(({onEnter:i,onEntering:e,onEntered:t,onExit:s,onExiting:o,onExited:l,addEndListener:h,children:d,childRef:p,...g},E)=>{const b=O.useRef(null),A=iA(b,p),x=re=>{A(Gk(re))},V=re=>M=>{re&&b.current&&re(b.current,M)},$=O.useCallback(V(i),[i]),j=O.useCallback(V(e),[e]),G=O.useCallback(V(t),[t]),te=O.useCallback(V(s),[s]),Y=O.useCallback(V(o),[o]),ie=O.useCallback(V(l),[l]),ae=O.useCallback(V(h),[h]);return I.jsx(Nr,{ref:E,...g,onEnter:$,onEntered:G,onEntering:j,onExit:te,onExited:ie,onExiting:Y,addEndListener:ae,nodeRef:b,children:typeof d=="function"?(re,M)=>d(re,{...M,ref:x}):fn.cloneElement(d,{ref:x})})}),Kk={[ds]:"show",[ha]:"show"},ry=O.forwardRef(({className:i,children:e,transitionClasses:t={},onEnter:s,...o},l)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},d=O.useCallback((p,g)=>{Fk(p),s==null||s(p,g)},[s]);return I.jsx($k,{ref:l,addEndListener:Hk,...h,onEnter:d,childRef:Mf(e),children:(p,g)=>O.cloneElement(e,{...g,className:Zn("fade",i,e.props.className,Kk[p],t[p])})})});ry.displayName="Fade";const Qk=["xxl","xl","lg","md","sm","xs"],Yk="xs",sy=O.createContext({prefixes:{},breakpoints:Qk,minBreakpoint:Yk}),{Consumer:T6,Provider:b6}=sy;function Ca(i,e){const{prefixes:t}=O.useContext(sy);return i||t[e]||e}function Xk(){const{dir:i}=O.useContext(sy);return i==="rtl"}const lA=O.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ca(e,"modal-body"),I.jsx(t,{ref:o,className:Zn(i,e),...s})));lA.displayName="ModalBody";const uA=O.createContext({onHide(){}}),ay=O.forwardRef(({bsPrefix:i,className:e,contentClassName:t,centered:s,size:o,fullscreen:l,children:h,scrollable:d,...p},g)=>{i=Ca(i,"modal");const E=`${i}-dialog`,b=typeof l=="string"?`${i}-fullscreen-${l}`:`${i}-fullscreen`;return I.jsx("div",{...p,ref:g,className:Zn(E,e,o&&`${i}-${o}`,s&&`${E}-centered`,d&&`${E}-scrollable`,l&&b),children:I.jsx("div",{className:Zn(`${i}-content`,t),children:h})})});ay.displayName="ModalDialog";const cA=O.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Ca(e,"modal-footer"),I.jsx(t,{ref:o,className:Zn(i,e),...s})));cA.displayName="ModalFooter";const Wk={"aria-label":up.string,onClick:up.func,variant:up.oneOf(["white"])},oy=O.forwardRef(({className:i,variant:e,"aria-label":t="Close",...s},o)=>I.jsx("button",{ref:o,type:"button",className:Zn("btn-close",e&&`btn-close-${e}`,i),"aria-label":t,...s}));oy.displayName="CloseButton";oy.propTypes=Wk;const Zk=O.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...l},h)=>{const d=O.useContext(uA),p=qp(()=>{d==null||d.onHide(),s==null||s()});return I.jsxs("div",{ref:h,...l,children:[o,t&&I.jsx(oy,{"aria-label":i,variant:e,onClick:p})]})}),hA=O.forwardRef(({bsPrefix:i,className:e,closeLabel:t="Close",closeButton:s=!1,...o},l)=>(i=Ca(i,"modal-header"),I.jsx(Zk,{ref:l,...o,className:Zn(e,i),closeLabel:t,closeButton:s})));hA.displayName="ModalHeader";const Jk=i=>O.forwardRef((e,t)=>I.jsx("div",{...e,ref:t,className:Zn(e.className,i)})),e6=Jk("h4"),fA=O.forwardRef(({className:i,bsPrefix:e,as:t=e6,...s},o)=>(e=Ca(e,"modal-title"),I.jsx(t,{ref:o,className:Zn(i,e),...s})));fA.displayName="ModalTitle";function t6(i){return I.jsx(ry,{...i,timeout:null})}function n6(i){return I.jsx(ry,{...i,timeout:null})}const dA=O.forwardRef(({bsPrefix:i,className:e,style:t,dialogClassName:s,contentClassName:o,children:l,dialogAs:h=ay,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:b=!1,animation:A=!0,backdrop:x=!0,keyboard:V=!0,onEscapeKeyDown:$,onShow:j,onHide:G,container:te,autoFocus:Y=!0,enforceFocus:ie=!0,restoreFocus:ae=!0,restoreFocusOptions:re,onEntered:M,onExit:R,onExiting:S,onEnter:N,onEntering:P,onExited:z,backdropClassName:D,manager:nt,...Ze},se)=>{const[ge,ce]=O.useState({}),[Ve,k]=O.useState(!1),ee=O.useRef(!1),he=O.useRef(!1),ue=O.useRef(null),[oe,Ee]=BM(),we=iA(se,Ee),Je=qp(G),Oe=Xk();i=Ca(i,"modal");const Ke=O.useMemo(()=>({onHide:Je}),[Je]);function xe(){return nt||Vk({isRTL:Oe})}function ot(_e){if(!Wo)return;const et=xe().getScrollbarWidth()>0,gn=_e.scrollHeight>xf(_e).documentElement.clientHeight;ce({paddingRight:et&&!gn?pT():void 0,paddingLeft:!et&&gn?pT():void 0})}const Rt=qp(()=>{oe&&ot(oe.dialog)});GM(()=>{Bp(window,"resize",Rt),ue.current==null||ue.current()});const gt=()=>{ee.current=!0},Pt=_e=>{ee.current&&oe&&_e.target===oe.dialog&&(he.current=!0),ee.current=!1},Me=()=>{k(!0),ue.current=rA(oe.dialog,()=>{k(!1)})},Zt=_e=>{_e.target===_e.currentTarget&&Me()},pn=_e=>{if(x==="static"){Zt(_e);return}if(he.current||_e.target!==_e.currentTarget){he.current=!1;return}G==null||G()},ei=_e=>{V?$==null||$(_e):(_e.preventDefault(),x==="static"&&Me())},pi=(_e,et)=>{_e&&ot(_e),N==null||N(_e,et)},wn=_e=>{ue.current==null||ue.current(),R==null||R(_e)},ti=(_e,et)=>{P==null||P(_e,et),nA(window,"resize",Rt)},Os=_e=>{_e&&(_e.style.display=""),z==null||z(_e),Bp(window,"resize",Rt)},Hi=O.useCallback(_e=>I.jsx("div",{..._e,className:Zn(`${i}-backdrop`,D,!A&&"show")}),[A,D,i]),Ct={...t,...ge};Ct.display="block";const Dr=_e=>I.jsx("div",{role:"dialog",..._e,style:Ct,className:Zn(e,i,Ve&&`${i}-static`,!A&&"show"),onClick:x?pn:void 0,onMouseUp:Pt,"data-bs-theme":d,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:I.jsx(h,{...Ze,onMouseDown:gt,className:s,contentClassName:o,children:l})});return I.jsx(uA.Provider,{value:Ke,children:I.jsx(Nk,{show:b,ref:we,backdrop:x,container:te,keyboard:!0,autoFocus:Y,enforceFocus:ie,restoreFocus:ae,restoreFocusOptions:re,onEscapeKeyDown:ei,onShow:j,onHide:G,onEnter:pi,onEntering:ti,onEntered:M,onExit:wn,onExiting:S,onExited:Os,manager:xe(),transition:A?t6:void 0,backdropTransition:A?n6:void 0,renderBackdrop:Hi,renderDialog:Dr})})});dA.displayName="Modal";const ou=Object.assign(dA,{Body:lA,Header:hA,Title:fA,Footer:cA,Dialog:ay,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),i6=["as","disabled"];function r6(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function s6(i){return!i||i.trim()==="#"}function mA({tagName:i,disabled:e,href:t,target:s,rel:o,role:l,onClick:h,tabIndex:d=0,type:p}){i||(t!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const E=A=>{if((e||i==="a"&&s6(t))&&A.preventDefault(),e){A.stopPropagation();return}h==null||h(A)},b=A=>{A.key===" "&&(A.preventDefault(),E(A))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:b},g]}const a6=O.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=r6(i,i6);const[l,{tagName:h}]=mA(Object.assign({tagName:t,disabled:s},o));return I.jsx(h,Object.assign({},o,l,{ref:e}))});a6.displayName="Button";const Gp=O.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:l=!1,className:h,...d},p)=>{const g=Ca(e,"btn"),[E,{tagName:b}]=mA({tagName:i,disabled:l,...d}),A=b;return I.jsx(A,{...E,...d,ref:p,disabled:l,className:Zn(h,g,o&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,d.href&&l&&"disabled")})});Gp.displayName="Button";function o6(){const{currentUser:i}=ey(),e=qo(),[t,s]=O.useState(""),[o,l]=O.useState(!1),[h,d]=O.useState(""),[p,g]=O.useState(""),[E,b]=O.useState(!1),[A,x]=O.useState(null),[V,$]=O.useState([]);O.useEffect(()=>{if(!i)return;(async()=>{try{const M=await Jw(i.uid);$(M)}catch(M){console.error("Error loading groups:",M)}})()},[i]);const j=()=>{console.log("Camera opened (mock)")},G=()=>{l(!0),g(Math.random().toString(36).substring(2,8).toUpperCase())},te=async()=>{if(!(!i||!h.trim()))try{b(!0),x(null);const re=await xM(h,i.uid);localStorage.setItem("activeGroupId",re),l(!1),e("/health-quest")}catch(re){console.error("Error creating group:",re),x("Failed to create group. Please try again.")}finally{b(!1)}},Y=async()=>{if(!(!i||!t.trim()))try{b(!0),x(null);const re=await kM(t);if(!re){x("Invalid group code. Please check and try again.");return}if(re.members.includes(i.uid)){localStorage.setItem("activeGroupId",re.id),e("/health-quest");return}await VM(re.id,i.uid),localStorage.setItem("activeGroupId",re.id),e("/health-quest")}catch(re){console.error("Error joining group:",re),x("Failed to join group. Please try again.")}finally{b(!1)}},ie=()=>{l(!1),d("")},ae=()=>{e("/health-quest")};return I.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[I.jsx("div",{className:"card mb-4",children:I.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[I.jsx(eA,{size:24,className:"text-primary",style:{cursor:"pointer"},onClick:ae}),I.jsx("h2",{className:"m-0",children:"Join Group"}),I.jsx(tA,{size:24,className:"text-primary",style:{cursor:"pointer"}})]})}),A&&I.jsx("div",{className:"alert alert-danger mb-4",role:"alert",children:A}),V.length>0&&I.jsxs("div",{className:"card mb-4",children:[I.jsx("div",{className:"card-header bg-white",children:I.jsx("h5",{className:"mb-0",children:"Your Groups"})}),I.jsx("div",{className:"list-group list-group-flush",children:V.map(re=>I.jsxs("button",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",onClick:()=>{localStorage.setItem("activeGroupId",re.id),e("/health-quest")},children:[I.jsx("span",{children:re.name}),I.jsxs("span",{className:"badge bg-primary rounded-pill",children:[re.members.length," members"]})]},re.id))})]}),I.jsx("div",{className:"card mb-4",children:I.jsx("div",{className:"card-body",children:I.jsxs("div",{className:"input-group",children:[I.jsx("span",{className:"input-group-text",children:I.jsx(LM,{className:"text-primary"})}),I.jsx("input",{type:"text",className:"form-control",placeholder:"Enter group code",value:t,onChange:re=>s(re.target.value)}),I.jsx("button",{className:"btn btn-primary",onClick:Y,disabled:E||!t.trim(),children:E?"Joining...":"Submit"})]})})}),I.jsxs("div",{className:"position-relative text-center mb-4",children:[I.jsx("hr",{className:"position-absolute w-100 top-50"}),I.jsx("span",{className:"bg-white px-3 position-relative text-muted",children:"OR"})]}),I.jsx("div",{className:"card mb-4 text-center",children:I.jsxs("div",{className:"card-body",children:[I.jsx(UM,{size:100,className:"text-primary mb-3"}),I.jsx("h5",{children:"Scan QR Code"}),I.jsx("button",{className:"btn btn-primary w-100",onClick:j,children:"Open Camera"})]})}),I.jsx("div",{className:"card",children:I.jsxs("div",{className:"card-body text-center",children:[I.jsx("p",{className:"mb-3",children:"Don't have a group to join?"}),I.jsxs("button",{className:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:G,disabled:E,children:[I.jsx(M2,{}),"Create New Group"]})]})}),I.jsxs(ou,{show:o,onHide:ie,children:[I.jsx(ou.Header,{closeButton:!0,children:I.jsx(ou.Title,{children:"Create New Group"})}),I.jsxs(ou.Body,{children:[I.jsxs("div",{className:"mb-3",children:[I.jsx("label",{htmlFor:"groupName",className:"form-label",children:"Group Name"}),I.jsx("input",{type:"text",id:"groupName",className:"form-control",placeholder:"Enter group name",value:h,onChange:re=>d(re.target.value)})]}),I.jsxs("div",{className:"alert alert-info",children:[I.jsx("strong",{children:"Generated Group Code:"})," ",p,I.jsx("p",{className:"small mt-2 mb-0",children:"Share this code with others to let them join your group"})]})]}),I.jsxs(ou.Footer,{children:[I.jsx(Gp,{variant:"secondary",onClick:ie,children:"Cancel"}),I.jsx(Gp,{variant:"primary",onClick:te,disabled:E||!h.trim(),children:E?"Creating...":"Create Group"})]})]})]})}function l6(i){return Vt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(i)}function u6(i){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(i)}function c6(i){return Vt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 0 0-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 0 0-44-44zM184 352V232h64v207.6a91.99 91.99 0 0 1-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"},child:[]}]})(i)}const h6={user:{name:"Sarah Johnson",username:"@sarahj",avatarUrl:"/health-quest/profile.png"},stats:{activeGoals:12,completion:87,totalGroups:2,goalsCompleted:248,workoutSessions:156,healthyMeals:392},groups:[{name:"McFamily",members:5,status:"Active",icon:"family"},{name:"Gym Buddies",members:3,status:"Active",icon:"dumbbell"}]};function f6(){const{user:i,stats:e,groups:t}=h6;return I.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[I.jsx("div",{className:"card mb-4",children:I.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[I.jsx(eA,{size:24,className:"text-primary",style:{cursor:"pointer"}}),I.jsx("h2",{className:"m-0",children:"Profile"}),I.jsx(tA,{size:24,className:"text-primary",style:{cursor:"pointer"}})]})}),I.jsx("div",{className:"card mb-4",children:I.jsxs("div",{className:"card-body text-center",children:[I.jsx("img",{src:i.avatarUrl,alt:"Profile",className:"rounded-circle mb-3",width:100,height:100}),I.jsx("h3",{className:"mb-1",children:i.name}),I.jsx("p",{className:"text-primary",children:i.username})]})}),I.jsxs("div",{className:"row mb-4 g-3",children:[I.jsx("div",{className:"col-4",children:I.jsx("div",{className:"card h-100",children:I.jsxs("div",{className:"card-body text-center",children:[I.jsx("h3",{className:"text-success mb-2",children:e.activeGoals}),I.jsx("div",{className:"text-muted small",children:"Active Goals"})]})})}),I.jsx("div",{className:"col-4",children:I.jsx("div",{className:"card h-100",children:I.jsxs("div",{className:"card-body text-center",children:[I.jsxs("h3",{className:"text-primary mb-2",children:[e.completion,"%"]}),I.jsx("div",{className:"text-muted small",children:"Completion"})]})})}),I.jsx("div",{className:"col-4",children:I.jsx("div",{className:"card h-100",children:I.jsxs("div",{className:"card-body text-center",children:[I.jsx("h3",{className:"text-warning mb-2",children:e.totalGroups}),I.jsx("div",{className:"text-muted small",children:"Groups"})]})})})]}),I.jsxs("div",{className:"card mb-4",children:[I.jsx("div",{className:"card-header bg-white",children:I.jsx("h5",{className:"mb-0",children:"My Groups"})}),I.jsx("div",{className:"list-group list-group-flush",children:t.map((s,o)=>I.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[I.jsxs("div",{className:"d-flex align-items-center",children:[s.icon==="family"?I.jsx(I2,{size:24,className:"text-primary me-2"}):I.jsx(l6,{size:24,className:"text-danger me-2"}),I.jsx("span",{children:s.name})]}),I.jsxs("div",{children:[I.jsxs("span",{className:"badge bg-primary me-2",children:[s.members," members"]}),I.jsx("span",{className:"badge bg-success",children:s.status})]})]},o))})]}),I.jsxs("div",{className:"card",children:[I.jsx("div",{className:"card-header bg-white",children:I.jsx("h5",{className:"mb-0",children:"Lifetime Stats"})}),I.jsxs("div",{className:"list-group list-group-flush",children:[I.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[I.jsx(c6,{className:"text-warning me-3",size:28}),I.jsxs("div",{children:[I.jsx("div",{className:"fw-bold",children:"Goals Completed"}),I.jsx("div",{className:"text-success",children:e.goalsCompleted})]})]}),I.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[I.jsx(u6,{className:"text-danger me-3",size:28}),I.jsxs("div",{children:[I.jsx("div",{className:"fw-bold",children:"Workout Sessions"}),I.jsx("div",{className:"text-success",children:e.workoutSessions})]})]}),I.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[I.jsx(k2,{className:"text-primary me-3",size:28}),I.jsxs("div",{children:[I.jsx("div",{className:"fw-bold",children:"Healthy Meals"}),I.jsx("div",{className:"text-success",children:e.healthyMeals})]})]})]})]})]})}function d6(i){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",x2:"4",y1:"22",y2:"15"},child:[]}]})(i)}function m6(i){return Vt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,13 C14.209139,13 16,11.209139 16,9 C16,6.790861 14.209139,5 12,5 C9.790861,5 8,6.790861 8,9 C8,11.209139 9.790861,13 12,13 Z M6,22 L6,19 C6,15.6862915 8.6862915,13 12,13 C15.3137085,13 18,15.6862915 18,19 L18,22 M13,5 C13.4037285,3.33566165 15.0151447,2 17,2 C19.172216,2 20.98052,3.790861 21,6 C20.98052,8.209139 19.172216,10 17,10 L16,10 L17,10 C20.287544,10 23,12.6862915 23,16 L23,18 M11,5 C10.5962715,3.33566165 8.98485529,2 7,2 C4.82778404,2 3.01948003,3.790861 3,6 C3.01948003,8.209139 4.82778404,10 7,10 L8,10 L7,10 C3.71245602,10 1,12.6862915 1,16 L1,18"},child:[]}]})(i)}function p6(i){return Vt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2.5a5.5 5.5 0 0 1 3.096 10.047 9.005 9.005 0 0 1 5.9 8.181.75.75 0 1 1-1.499.044 7.5 7.5 0 0 0-14.993 0 .75.75 0 0 1-1.5-.045 9.005 9.005 0 0 1 5.9-8.18A5.5 5.5 0 0 1 12 2.5ZM8 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"},child:[]}]})(i)}function g6(){var s,o;const i=qo(),e=Ir(),t=/\/health-quest\/(\w+)/;return I.jsx(I.Fragment,{children:I.jsx("div",{className:"container",children:I.jsxs("div",{className:"row navbar",children:[I.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{borderRight:"2px solid lightgray",color:((s=e.pathname.match(t))==null?void 0:s[1])=="profile"?"green":"black"},children:I.jsx(p6,{onClick:()=>{i("/health-quest/profile")},className:"navbar-icon"})}),I.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{borderRight:"2px solid lightgray",color:e.pathname=="/health-quest/"?"green":"black"},children:I.jsx(d6,{onClick:()=>{i("/health-quest/")},className:"navbar-icon"})}),I.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{color:((o=e.pathname.match(t))==null?void 0:o[1])=="group"?"green":"black"},children:I.jsx(m6,{onClick:()=>{i("/health-quest/group")},className:"navbar-icon"})})]})})})}function y6(){const i=qo(),[e,t]=O.useState(null),s=async()=>{try{t(null),console.log("Starting login process..."),await RM(),console.log("Login successful, navigating..."),i("/health-quest")}catch(o){console.error("Login error details:",{code:o.code,message:o.message,fullError:o}),t(`Failed to sign in: ${o.message}`)}};return I.jsx("div",{className:"container mt-5",children:I.jsx("div",{className:"row justify-content-center",children:I.jsxs("div",{className:"col-md-6 text-center",children:[I.jsx("h2",{className:"mb-4",children:"Welcome to Health Quest"}),e&&I.jsx("div",{className:"alert alert-danger mb-3",role:"alert",children:e}),I.jsx("button",{className:"btn btn-primary",onClick:s,children:"Sign in with Google"})]})})})}function v6(){const{currentUser:i,loading:e}=ey();return e?I.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:I.jsx("div",{className:"spinner-border text-primary",role:"status",children:I.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):I.jsx(I.Fragment,{children:I.jsxs(o2,{children:[I.jsxs(UR,{children:[I.jsx(_o,{path:"/health-quest/login",element:i?I.jsx(ru,{to:"/health-quest"}):I.jsx(y6,{})}),I.jsx(_o,{path:"/health-quest",element:i?I.jsx(PM,{}):I.jsx(ru,{to:"/health-quest/login"})}),I.jsx(_o,{path:"/health-quest/profile",element:i?I.jsx(f6,{}):I.jsx(ru,{to:"/health-quest/login"})}),I.jsx(_o,{path:"/health-quest/group",element:i?I.jsx(o6,{}):I.jsx(ru,{to:"/health-quest/login"})}),I.jsx(_o,{path:"*",element:I.jsx(ru,{to:"/health-quest"})})]}),i&&I.jsx(g6,{})]})})}QS.createRoot(document.getElementById("root")).render(I.jsx(fn.StrictMode,{children:I.jsx(IM,{children:I.jsx(v6,{})})}));
