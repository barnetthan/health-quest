(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Qo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fm={exports:{}},cu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function cR(){if(b0)return cu;b0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return cu.Fragment=e,cu.jsx=t,cu.jsxs=t,cu}var w0;function hR(){return w0||(w0=1,Fm.exports=cR()),Fm.exports}var T=hR(),qm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function fR(){if(A0)return Ne;A0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,G={};function P(V,ie,fe){this.props=V,this.context=ie,this.refs=G,this.updater=fe||I}P.prototype.isReactComponent={},P.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function H(){}H.prototype=P.prototype;function Z(V,ie,fe){this.props=V,this.context=ie,this.refs=G,this.updater=fe||I}var Q=Z.prototype=new H;Q.constructor=Z,M(Q,P.prototype),Q.isPureReactComponent=!0;var ae=Array.isArray,W={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function k(V,ie,fe,oe,le,be){return fe=be.ref,{$$typeof:n,type:V,key:ie,ref:fe!==void 0?fe:null,props:be}}function x(V,ie){return k(V.type,ie,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function D(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return ie[fe]})}var L=/\/+/g;function z(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):ie.toString(36)}function O(){}function ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ve(V,ie,fe,oe,le){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(be){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case n:case e:Se=!0;break;case E:return Se=V._init,ve(Se(V._payload),ie,fe,oe,le)}}if(Se)return le=le(V),Se=oe===""?"."+z(V,0):oe,ae(le)?(fe="",Se!=null&&(fe=Se.replace(L,"$&/")+"/"),ve(le,ie,fe,"",function(Ye){return Ye})):le!=null&&(R(le)&&(le=x(le,fe+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace(L,"$&/")+"/")+Se)),ie.push(le)),1;Se=0;var et=oe===""?".":oe+":";if(ae(V))for(var ke=0;ke<V.length;ke++)oe=V[ke],be=et+z(oe,ke),Se+=ve(oe,ie,fe,be,le);else if(ke=A(V),typeof ke=="function")for(V=ke.call(V),ke=0;!(oe=V.next()).done;)oe=oe.value,be=et+z(oe,ke++),Se+=ve(oe,ie,fe,be,le);else if(be==="object"){if(typeof V.then=="function")return ve(ce(V),ie,fe,oe,le);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ne(V,ie,fe){if(V==null)return V;var oe=[],le=0;return ve(V,oe,"","",function(be){return ie.call(fe,be,le++)}),oe}function pe(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var he=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function De(){}return Ne.Children={map:ne,forEach:function(V,ie,fe){ne(V,function(){ie.apply(this,arguments)},fe)},count:function(V){var ie=0;return ne(V,function(){ie++}),ie},toArray:function(V){return ne(V,function(ie){return ie})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ne.Component=P,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=Z,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ne.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cloneElement=function(V,ie,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=M({},V.props),le=V.key,be=void 0;if(ie!=null)for(Se in ie.ref!==void 0&&(be=void 0),ie.key!==void 0&&(le=""+ie.key),ie)!se.call(ie,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ie.ref===void 0||(oe[Se]=ie[Se]);var Se=arguments.length-2;if(Se===1)oe.children=fe;else if(1<Se){for(var et=Array(Se),ke=0;ke<Se;ke++)et[ke]=arguments[ke+2];oe.children=et}return k(V.type,le,void 0,void 0,be,oe)},Ne.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ne.createElement=function(V,ie,fe){var oe,le={},be=null;if(ie!=null)for(oe in ie.key!==void 0&&(be=""+ie.key),ie)se.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ie[oe]);var Se=arguments.length-2;if(Se===1)le.children=fe;else if(1<Se){for(var et=Array(Se),ke=0;ke<Se;ke++)et[ke]=arguments[ke+2];le.children=et}if(V&&V.defaultProps)for(oe in Se=V.defaultProps,Se)le[oe]===void 0&&(le[oe]=Se[oe]);return k(V,be,void 0,void 0,null,le)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:d,render:V}},Ne.isValidElement=R,Ne.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:pe}},Ne.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},Ne.startTransition=function(V){var ie=W.T,fe={};W.T=fe;try{var oe=V(),le=W.S;le!==null&&le(fe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(De,he)}catch(be){he(be)}finally{W.T=ie}},Ne.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ne.use=function(V){return W.H.use(V)},Ne.useActionState=function(V,ie,fe){return W.H.useActionState(V,ie,fe)},Ne.useCallback=function(V,ie){return W.H.useCallback(V,ie)},Ne.useContext=function(V){return W.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,ie){return W.H.useDeferredValue(V,ie)},Ne.useEffect=function(V,ie){return W.H.useEffect(V,ie)},Ne.useId=function(){return W.H.useId()},Ne.useImperativeHandle=function(V,ie,fe){return W.H.useImperativeHandle(V,ie,fe)},Ne.useInsertionEffect=function(V,ie){return W.H.useInsertionEffect(V,ie)},Ne.useLayoutEffect=function(V,ie){return W.H.useLayoutEffect(V,ie)},Ne.useMemo=function(V,ie){return W.H.useMemo(V,ie)},Ne.useOptimistic=function(V,ie){return W.H.useOptimistic(V,ie)},Ne.useReducer=function(V,ie,fe){return W.H.useReducer(V,ie,fe)},Ne.useRef=function(V){return W.H.useRef(V)},Ne.useState=function(V){return W.H.useState(V)},Ne.useSyncExternalStore=function(V,ie,fe){return W.H.useSyncExternalStore(V,ie,fe)},Ne.useTransition=function(){return W.H.useTransition()},Ne.version="19.0.0",Ne}var S0;function mf(){return S0||(S0=1,qm.exports=fR()),qm.exports}var C=mf();const vn=Qo(C);var Hm={exports:{}},hu={},Gm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function dR(){return R0||(R0=1,function(n){function e(ne,pe){var he=ne.length;ne.push(pe);e:for(;0<he;){var De=he-1>>>1,V=ne[De];if(0<a(V,pe))ne[De]=pe,ne[he]=V,he=De;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var pe=ne[0],he=ne.pop();if(he!==pe){ne[0]=he;e:for(var De=0,V=ne.length,ie=V>>>1;De<ie;){var fe=2*(De+1)-1,oe=ne[fe],le=fe+1,be=ne[le];if(0>a(oe,he))le<V&&0>a(be,oe)?(ne[De]=be,ne[le]=he,De=le):(ne[De]=oe,ne[fe]=he,De=fe);else if(le<V&&0>a(be,he))ne[De]=be,ne[le]=he,De=le;else break e}}return pe}function a(ne,pe){var he=ne.sortIndex-pe.sortIndex;return he!==0?he:ne.id-pe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],E=1,b=null,A=3,I=!1,M=!1,G=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function Q(ne){for(var pe=t(g);pe!==null;){if(pe.callback===null)s(g);else if(pe.startTime<=ne)s(g),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(g)}}function ae(ne){if(G=!1,Q(ne),!M)if(t(p)!==null)M=!0,ce();else{var pe=t(g);pe!==null&&ve(ae,pe.startTime-ne)}}var W=!1,se=-1,k=5,x=-1;function R(){return!(n.unstable_now()-x<k)}function D(){if(W){var ne=n.unstable_now();x=ne;var pe=!0;try{e:{M=!1,G&&(G=!1,H(se),se=-1),I=!0;var he=A;try{t:{for(Q(ne),b=t(p);b!==null&&!(b.expirationTime>ne&&R());){var De=b.callback;if(typeof De=="function"){b.callback=null,A=b.priorityLevel;var V=De(b.expirationTime<=ne);if(ne=n.unstable_now(),typeof V=="function"){b.callback=V,Q(ne),pe=!0;break t}b===t(p)&&s(p),Q(ne)}else s(p);b=t(p)}if(b!==null)pe=!0;else{var ie=t(g);ie!==null&&ve(ae,ie.startTime-ne),pe=!1}}break e}finally{b=null,A=he,I=!1}pe=void 0}}finally{pe?L():W=!1}}}var L;if(typeof Z=="function")L=function(){Z(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,O=z.port2;z.port1.onmessage=D,L=function(){O.postMessage(null)}}else L=function(){P(D,0)};function ce(){W||(W=!0,L())}function ve(ne,pe){se=P(function(){ne(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){M||I||(M=!0,ce())},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var pe=3;break;default:pe=A}var he=A;A=pe;try{return ne()}finally{A=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var he=A;A=ne;try{return pe()}finally{A=he}},n.unstable_scheduleCallback=function(ne,pe,he){var De=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?De+he:De):he=De,ne){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=he+V,ne={id:E++,callback:pe,priorityLevel:ne,startTime:he,expirationTime:V,sortIndex:-1},he>De?(ne.sortIndex=he,e(g,ne),t(p)===null&&ne===t(g)&&(G?(H(se),se=-1):G=!0,ve(ae,he-De))):(ne.sortIndex=V,e(p,ne),M||I||(M=!0,ce())),ne},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ne){var pe=A;return function(){var he=A;A=pe;try{return ne.apply(this,arguments)}finally{A=he}}}}($m)),$m}var C0;function mR(){return C0||(C0=1,Gm.exports=dR()),Gm.exports}var Km={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function pR(){if(I0)return on;I0=1;var n=mf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,on.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,E)},on.flushSync=function(p){var g=c.T,E=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=E,s.d.f()}},on.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},on.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},on.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:I}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},on.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},on.requestFormReset=function(p){s.d.r(p)},on.unstable_batchedUpdates=function(p,g){return p(g)},on.useFormState=function(p,g,E){return c.H.useFormState(p,g,E)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.0.0",on}var x0;function HT(){if(x0)return Km.exports;x0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Km.exports=pR(),Km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function gR(){if(N0)return hu;N0=1;var n=mR(),e=mf(),t=HT();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),I=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function se(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function x(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case G:return"Suspense";case P:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case M:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case H:return r=i.displayName||null,r!==null?r:x(i.type)||"Memo";case Z:r=i._payload,i=i._init;try{return x(i(r))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,L,z;function O(i){if(L===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||"",z=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+z}var ce=!1;function ve(i,r){if(!i||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var $=Y}Reflect.construct(i,[],re)}else{try{re.call()}catch(Y){$=Y}i.call(re.prototype)}}else{try{throw Error()}catch(Y){$=Y}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var N=_.split(`
`),j=w.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===j.length)for(u=N.length-1,f=j.length-1;1<=u&&0<=f&&N[u]!==j[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==j[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==j[f]){var X=`
`+N[u].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=u&&0<=f);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?O(o):""}function ne(i){switch(i.tag){case 26:case 27:case 5:return O(i.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return i=ve(i.type,!1),i;case 11:return i=ve(i.type.render,!1),i;case 1:return i=ve(i.type,!0),i;default:return""}}function pe(i){try{var r="";do r+=ne(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function he(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function De(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function V(i){if(he(i)!==i)throw Error(s(188))}function ie(i){var r=i.alternate;if(!r){if(r=he(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return V(f),i;if(m===u)return V(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var _=!1,w=f.child;w;){if(w===o){_=!0,o=f,u=m;break}if(w===u){_=!0,u=f,o=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===o){_=!0,o=m,u=f;break}if(w===u){_=!0,u=m,o=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function fe(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=fe(i),r!==null)return r;i=i.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Se=[],et=-1;function ke(i){return{current:i}}function Ye(i){0>et||(i.current=Se[et],Se[et]=null,et--)}function Ve(i,r){et++,Se[et]=i.current,i.current=r}var ct=ke(null),Ot=ke(null),Tt=ke(null),Ft=ke(null);function Pe(i,r){switch(Ve(Tt,r),Ve(Ot,i),Ve(ct,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?W_(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=W_(i),r=Z_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ye(ct),Ve(ct,r)}function rn(){Ye(ct),Ye(Ot),Ye(Tt)}function En(i){i.memoizedState!==null&&Ve(Ft,i);var r=ct.current,o=Z_(r,i.type);r!==o&&(Ve(Ot,i),Ve(ct,o))}function si(i){Ot.current===i&&(Ye(ct),Ye(Ot)),Ft.current===i&&(Ye(Ft),su._currentValue=be)}var Ei=Object.prototype.hasOwnProperty,In=n.unstable_scheduleCallback,ai=n.unstable_cancelCallback,js=n.unstable_shouldYield,Xi=n.unstable_requestPaint,Mt=n.unstable_now,Ur=n.unstable_getCurrentPriorityLevel,Te=n.unstable_ImmediatePriority,tt=n.unstable_UserBlockingPriority,Tn=n.unstable_NormalPriority,Wi=n.unstable_LowPriority,jn=n.unstable_IdlePriority,ol=n.log,Ti=n.unstable_setDisableYieldValue,jr=null,sn=null;function ll(i){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(jr,i,void 0,(i.current.flags&128)===128)}catch{}}function bi(i){if(typeof ol=="function"&&Ti(i),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(jr,i)}catch{}}var dn=Math.clz32?Math.clz32:Zu,ul=Math.log,Wu=Math.LN2;function Zu(i){return i>>>=0,i===0?32:31-(ul(i)/Wu|0)|0}var wi=128,zr=4194304;function oi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zn(i,r){var o=i.pendingLanes;if(o===0)return 0;var u=0,f=i.suspendedLanes,m=i.pingedLanes,_=i.warmLanes;i=i.finishedLanes!==0;var w=o&134217727;return w!==0?(o=w&~f,o!==0?u=oi(o):(m&=w,m!==0?u=oi(m):i||(_=w&~_,_!==0&&(u=oi(_))))):(w=o&~f,w!==0?u=oi(w):m!==0?u=oi(m):i||(_=o&~_,_!==0&&(u=oi(_)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,_=r&-r,f>=_||f===32&&(_&4194176)!==0)?r:u}function Br(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Ua(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cl(){var i=wi;return wi<<=1,(wi&4194176)===0&&(wi=128),i}function Fr(){var i=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),i}function ja(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function bt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ju(i,r,o,u,f,m){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,N=i.expirationTimes,j=i.hiddenUpdates;for(o=_&~o;0<o;){var X=31-dn(o),re=1<<X;w[X]=0,N[X]=-1;var $=j[X];if($!==null)for(j[X]=null,X=0;X<$.length;X++){var Y=$[X];Y!==null&&(Y.lane&=-536870913)}o&=~re}u!==0&&qr(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(_&~r))}function qr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-dn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194218}function Hr(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-dn(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function ec(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function tc(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:g0(i.type))}function Gr(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var Ai=Math.random().toString(36).slice(2),qt="__reactFiber$"+Ai,kt="__reactProps$"+Ai,Zi="__reactContainer$"+Ai,zs="__reactEvents$"+Ai,za="__reactListeners$"+Ai,Si="__reactHandles$"+Ai,hl="__reactResources$"+Ai,$r="__reactMarker$"+Ai;function Bs(i){delete i[qt],delete i[kt],delete i[zs],delete i[za],delete i[Si]}function li(i){var r=i[qt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Zi]||o[qt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=t0(i);i!==null;){if(o=i[qt])return o;i=t0(i)}return r}i=o,o=i.parentNode}return null}function Ji(i){if(i=i[qt]||i[Zi]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Kr(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Qr(i){var r=i[hl];return r||(r=i[hl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ht(i){i[$r]=!0}var fl=new Set,Ba={};function xn(i,r){bn(i,r),bn(i+"Capture",r)}function bn(i,r){for(Ba[i]=r,i=0;i<r.length;i++)fl.add(r[i])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},ml={};function nc(i){return Ei.call(ml,i)?!0:Ei.call(dl,i)?!1:$f.test(i)?ml[i]=!0:(dl[i]=!0,!1)}function Yr(i,r,o){if(nc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Xr(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Bn(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ic(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Kf(i){var r=ic(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Fs(i){i._valueTracker||(i._valueTracker=Kf(i))}function pl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=ic(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function Fa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var er=/[\n"\\]/g;function pt(i){return i.replace(er,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Wr(i,r,o,u,f,m,_,w){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+mn(r)):i.value!==""+mn(r)&&(i.value=""+mn(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?qa(i,_,mn(r)):o!=null?qa(i,_,mn(o)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+mn(w):i.removeAttribute("name")}function qs(i,r,o,u,f,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;o=o!=null?""+mn(o):"",r=r!=null?""+mn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_)}function qa(i,r,o){r==="number"&&Fa(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function $e(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+mn(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Hs(i,r,o){if(r!=null&&(r=""+mn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+mn(o):""}function Zr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(oe(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=mn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Fn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Qf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Qf.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function rc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&gl(i,f,u)}else for(var m in r)r.hasOwnProperty(m)&&gl(i,m,r[m])}function yl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(i){return Xf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var qn=null;function Ha(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var tr=null,nr=null;function ir(i){var r=Ji(i);if(r&&(i=r.stateNode)){var o=i[kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(Wr(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[kt]||null;if(!f)throw Error(s(90));Wr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&pl(u)}break e;case"textarea":Hs(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&$e(i,!!o.multiple,r,!1)}}}var vl=!1;function sc(i,r,o){if(vl)return i(r,o);vl=!0;try{var u=i(r);return u}finally{if(vl=!1,(tr!==null||nr!==null)&&(Xc(),tr&&(r=tr,i=nr,nr=tr=null,ir(r),i)))for(r=0;r<i.length;r++)ir(i[r])}}function Gs(i,r){var o=i.stateNode;if(o===null)return null;var u=o[kt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Hn=!1;if(Nn)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Hn=!1}var Ci=null,Jr=null,rr=null;function _l(){if(rr)return rr;var i,r=Jr,o=r.length,u,f="value"in Ci?Ci.value:Ci.textContent,m=f.length;for(i=0;i<o&&r[i]===f[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===f[m-u];u++);return rr=f.slice(i,1<u?1-u:void 0)}function Ii(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function xi(){return!0}function El(){return!1}function Ht(i){function r(o,u,f,m,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xi:El,this.isPropagationStopped=El,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),r}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Ht(Xe),Ks=D({},Xe,{view:0,detail:0}),ac=Ht(Ks),$a,Ka,Ni,Qs=D({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ni&&(Ni&&i.type==="mousemove"?($a=i.screenX-Ni.screenX,Ka=i.screenY-Ni.screenY):Ka=$a=0,Ni=i),$a)},movementY:function(i){return"movementY"in i?i.movementY:Ka}}),Gn=Ht(Qs),oc=D({},Qs,{dataTransfer:0}),Wf=Ht(oc),Ys=D({},Ks,{relatedTarget:0}),Qa=Ht(Ys),Tl=D({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=Ht(Tl),lc=D({},Xe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xa=Ht(lc),Zf=D({},Xe,{data:0}),bl=Ht(Zf),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=cc[i])?!!r[i]:!1}function Ws(){return wl}var hc=D({},Ks,{key:function(i){if(i.key){var r=Xs[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ii(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?uc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(i){return i.type==="keypress"?Ii(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ii(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wa=Ht(hc),fc=D({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=Ht(fc),sr=D({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),dc=Ht(sr),mc=D({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),pc=Ht(mc),gc=D({},Qs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Ht(gc),pn=D({},Xe,{newState:0,oldState:0}),yc=Ht(pn),vc=[9,13,27,32],Di=Nn&&"CompositionEvent"in window,h=null;Nn&&"documentMode"in document&&(h=document.documentMode);var y=Nn&&"TextEvent"in window&&!h,v=Nn&&(!Di||h&&8<h&&11>=h),S=" ",F=!1;function K(i,r){switch(i){case"keyup":return vc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fe=!1;function Vt(i,r){switch(i){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(F=!0,S);case"textInput":return i=r.data,i===S&&F?null:i;default:return null}}function qe(i,r){if(Fe)return i==="compositionend"||!Di&&K(i,r)?(i=_l(),rr=Jr=Ci=null,Fe=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Gt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Gt[i.type]:r==="textarea"}function ar(i,r,o,u){tr?nr?nr.push(u):nr=[u]:tr=u,r=th(r,"onChange"),0<r.length&&(o=new Ga("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var Xt=null,Oi=null;function Sl(i){$_(i,0)}function _c(i){var r=Kr(i);if(pl(r))return i}function Ty(i,r){if(i==="change")return r}var by=!1;if(Nn){var Jf;if(Nn){var ed="oninput"in document;if(!ed){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),ed=typeof wy.oninput=="function"}Jf=ed}else Jf=!1;by=Jf&&(!document.documentMode||9<document.documentMode)}function Ay(){Xt&&(Xt.detachEvent("onpropertychange",Sy),Oi=Xt=null)}function Sy(i){if(i.propertyName==="value"&&_c(Oi)){var r=[];ar(r,Oi,i,Ha(i)),sc(Sl,r)}}function zA(i,r,o){i==="focusin"?(Ay(),Xt=r,Oi=o,Xt.attachEvent("onpropertychange",Sy)):i==="focusout"&&Ay()}function BA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _c(Oi)}function FA(i,r){if(i==="click")return _c(r)}function qA(i,r){if(i==="input"||i==="change")return _c(r)}function HA(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Dn=typeof Object.is=="function"?Object.is:HA;function Rl(i,r){if(Dn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ei.call(r,f)||!Dn(i[f],r[f]))return!1}return!0}function Ry(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cy(i,r){var o=Ry(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ry(o)}}function Iy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Iy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function xy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Fa(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Fa(i.document)}return r}function td(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function GA(i,r){var o=xy(r);r=i.focusedElem;var u=i.selectionRange;if(o!==r&&r&&r.ownerDocument&&Iy(r.ownerDocument.documentElement,r)){if(u!==null&&td(r)){if(i=u.start,o=u.end,o===void 0&&(o=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(o,r.value.length);else if(o=(i=r.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var f=r.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!o.extend&&m>u&&(f=u,u=m,m=f),f=Cy(r,m);var _=Cy(r,u);f&&_&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==_.node||o.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),o.removeAllRanges(),m>u?(o.addRange(i),o.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),o.addRange(i)))}}for(i=[],o=r;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)o=i[r],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var $A=Nn&&"documentMode"in document&&11>=document.documentMode,Ja=null,nd=null,Cl=null,id=!1;function Ny(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;id||Ja==null||Ja!==Fa(u)||(u=Ja,"selectionStart"in u&&td(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Cl&&Rl(Cl,u)||(Cl=u,u=th(nd,"onSelect"),0<u.length&&(r=new Ga("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Ja)))}function Zs(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var eo={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},rd={},Dy={};Nn&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Js(i){if(rd[i])return rd[i];if(!eo[i])return i;var r=eo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Dy)return rd[i]=r[o];return i}var Oy=Js("animationend"),My=Js("animationiteration"),ky=Js("animationstart"),KA=Js("transitionrun"),QA=Js("transitionstart"),YA=Js("transitioncancel"),Vy=Js("transitionend"),Py=new Map,Ly="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ui(i,r){Py.set(i,r),xn(r,[i])}var $n=[],to=0,sd=0;function Ec(){for(var i=to,r=sd=to=0;r<i;){var o=$n[r];$n[r++]=null;var u=$n[r];$n[r++]=null;var f=$n[r];$n[r++]=null;var m=$n[r];if($n[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&Uy(o,f,m)}}function Tc(i,r,o,u){$n[to++]=i,$n[to++]=r,$n[to++]=o,$n[to++]=u,sd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function ad(i,r,o,u){return Tc(i,r,o,u),bc(i)}function es(i,r){return Tc(i,null,null,r),bc(i)}function Uy(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=i.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;f&&r!==null&&i.tag===3&&(m=i.stateNode,f=31-dn(o),m=m.hiddenUpdates,i=m[f],i===null?m[f]=[r]:i.push(r),r.lane=o|536870912)}function bc(i){if(50<Zl)throw Zl=0,fm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var no={},jy=new WeakMap;function Kn(i,r){if(typeof i=="object"&&i!==null){var o=jy.get(i);return o!==void 0?o:(r={value:i,source:r,stack:pe(r)},jy.set(i,r),r)}return{value:i,source:r,stack:pe(r)}}var io=[],ro=0,wc=null,Ac=0,Qn=[],Yn=0,ea=null,or=1,lr="";function ta(i,r){io[ro++]=Ac,io[ro++]=wc,wc=i,Ac=r}function zy(i,r,o){Qn[Yn++]=or,Qn[Yn++]=lr,Qn[Yn++]=ea,ea=i;var u=or;i=lr;var f=32-dn(u)-1;u&=~(1<<f),o+=1;var m=32-dn(r)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,or=1<<32-dn(r)+f|o<<f|u,lr=m+i}else or=1<<m|o<<f|u,lr=i}function od(i){i.return!==null&&(ta(i,1),zy(i,1,0))}function ld(i){for(;i===wc;)wc=io[--ro],io[ro]=null,Ac=io[--ro],io[ro]=null;for(;i===ea;)ea=Qn[--Yn],Qn[Yn]=null,lr=Qn[--Yn],Qn[Yn]=null,or=Qn[--Yn],Qn[Yn]=null}var gn=null,Wt=null,Ke=!1,ci=null,Mi=!1,ud=Error(s(519));function na(i){var r=Error(s(418,""));throw Nl(Kn(r,i)),ud}function By(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[qt]=i,r[kt]=u,o){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(o=0;o<eu.length;o++)Be(eu[o],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":Be("invalid",r),qs(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Fs(r);break;case"select":Be("invalid",r);break;case"textarea":Be("invalid",r),Zr(r,u.value,u.defaultValue,u.children),Fs(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||X_(r.textContent,o)?(u.popover!=null&&(Be("beforetoggle",r),Be("toggle",r)),u.onScroll!=null&&Be("scroll",r),u.onScrollEnd!=null&&Be("scrollend",r),u.onClick!=null&&(r.onclick=nh),r=!0):r=!1,r||na(i)}function Fy(i){for(gn=i.return;gn;)switch(gn.tag){case 3:case 27:Mi=!0;return;case 5:case 13:Mi=!1;return;default:gn=gn.return}}function Il(i){if(i!==gn)return!1;if(!Ke)return Fy(i),Ke=!0,!1;var r=!1,o;if((o=i.tag!==3&&i.tag!==27)&&((o=i.tag===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||xm(i.type,i.memoizedProps)),o=!o),o&&(r=!0),r&&Wt&&na(i),Fy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){Wt=fi(i.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}Wt=null}}else Wt=gn?fi(i.stateNode.nextSibling):null;return!0}function xl(){Wt=gn=null,Ke=!1}function Nl(i){ci===null?ci=[i]:ci.push(i)}var Dl=Error(s(460)),qy=Error(s(474)),cd={then:function(){}};function Hy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Sc(){}function Gy(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Sc,Sc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Dl?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Sc,Sc);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===Dl?Error(s(483)):i}throw Ol=r,Dl}}var Ol=null;function $y(){if(Ol===null)throw Error(s(459));var i=Ol;return Ol=null,i}var so=null,Ml=0;function Rc(i){var r=Ml;return Ml+=1,so===null&&(so=[]),Gy(so,i,r)}function kl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Cc(i,r){throw r.$$typeof===l?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ky(i){var r=i._init;return r(i._payload)}function Qy(i){function r(B,U){if(i){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function o(B,U){if(!i)return null;for(;U!==null;)r(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=fs(B,U),B.index=0,B.sibling=null,B}function m(B,U,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=33554434,U):q):(B.flags|=33554434,U)):(B.flags|=1048576,U)}function _(B){return i&&B.alternate===null&&(B.flags|=33554434),B}function w(B,U,q,J){return U===null||U.tag!==6?(U=rm(q,B.mode,J),U.return=B,U):(U=f(U,q),U.return=B,U)}function N(B,U,q,J){var ge=q.type;return ge===p?X(B,U,q.props.children,J,q.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Z&&Ky(ge)===U.type)?(U=f(U,q.props),kl(U,q),U.return=B,U):(U=Gc(q.type,q.key,q.props,null,B.mode,J),kl(U,q),U.return=B,U)}function j(B,U,q,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=sm(q,B.mode,J),U.return=B,U):(U=f(U,q.children||[]),U.return=B,U)}function X(B,U,q,J,ge){return U===null||U.tag!==7?(U=fa(q,B.mode,J,ge),U.return=B,U):(U=f(U,q),U.return=B,U)}function re(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=rm(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case c:return q=Gc(U.type,U.key,U.props,null,B.mode,q),kl(q,U),q.return=B,q;case d:return U=sm(U,B.mode,q),U.return=B,U;case Z:var J=U._init;return U=J(U._payload),re(B,U,q)}if(oe(U)||se(U))return U=fa(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return re(B,Rc(U),q);if(U.$$typeof===I)return re(B,Fc(B,U),q);Cc(B,U)}return null}function $(B,U,q,J){var ge=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:w(B,U,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case c:return q.key===ge?N(B,U,q,J):null;case d:return q.key===ge?j(B,U,q,J):null;case Z:return ge=q._init,q=ge(q._payload),$(B,U,q,J)}if(oe(q)||se(q))return ge!==null?null:X(B,U,q,J,null);if(typeof q.then=="function")return $(B,U,Rc(q),J);if(q.$$typeof===I)return $(B,U,Fc(B,q),J);Cc(B,q)}return null}function Y(B,U,q,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(q)||null,w(U,B,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return B=B.get(J.key===null?q:J.key)||null,N(U,B,J,ge);case d:return B=B.get(J.key===null?q:J.key)||null,j(U,B,J,ge);case Z:var Le=J._init;return J=Le(J._payload),Y(B,U,q,J,ge)}if(oe(J)||se(J))return B=B.get(q)||null,X(U,B,J,ge,null);if(typeof J.then=="function")return Y(B,U,q,Rc(J),ge);if(J.$$typeof===I)return Y(B,U,q,Fc(U,J),ge);Cc(U,J)}return null}function ye(B,U,q,J){for(var ge=null,Le=null,_e=U,we=U=0,Qt=null;_e!==null&&we<q.length;we++){_e.index>we?(Qt=_e,_e=null):Qt=_e.sibling;var Qe=$(B,_e,q[we],J);if(Qe===null){_e===null&&(_e=Qt);break}i&&_e&&Qe.alternate===null&&r(B,_e),U=m(Qe,U,we),Le===null?ge=Qe:Le.sibling=Qe,Le=Qe,_e=Qt}if(we===q.length)return o(B,_e),Ke&&ta(B,we),ge;if(_e===null){for(;we<q.length;we++)_e=re(B,q[we],J),_e!==null&&(U=m(_e,U,we),Le===null?ge=_e:Le.sibling=_e,Le=_e);return Ke&&ta(B,we),ge}for(_e=u(_e);we<q.length;we++)Qt=Y(_e,B,we,q[we],J),Qt!==null&&(i&&Qt.alternate!==null&&_e.delete(Qt.key===null?we:Qt.key),U=m(Qt,U,we),Le===null?ge=Qt:Le.sibling=Qt,Le=Qt);return i&&_e.forEach(function(_s){return r(B,_s)}),Ke&&ta(B,we),ge}function Ie(B,U,q,J){if(q==null)throw Error(s(151));for(var ge=null,Le=null,_e=U,we=U=0,Qt=null,Qe=q.next();_e!==null&&!Qe.done;we++,Qe=q.next()){_e.index>we?(Qt=_e,_e=null):Qt=_e.sibling;var _s=$(B,_e,Qe.value,J);if(_s===null){_e===null&&(_e=Qt);break}i&&_e&&_s.alternate===null&&r(B,_e),U=m(_s,U,we),Le===null?ge=_s:Le.sibling=_s,Le=_s,_e=Qt}if(Qe.done)return o(B,_e),Ke&&ta(B,we),ge;if(_e===null){for(;!Qe.done;we++,Qe=q.next())Qe=re(B,Qe.value,J),Qe!==null&&(U=m(Qe,U,we),Le===null?ge=Qe:Le.sibling=Qe,Le=Qe);return Ke&&ta(B,we),ge}for(_e=u(_e);!Qe.done;we++,Qe=q.next())Qe=Y(_e,B,we,Qe.value,J),Qe!==null&&(i&&Qe.alternate!==null&&_e.delete(Qe.key===null?we:Qe.key),U=m(Qe,U,we),Le===null?ge=Qe:Le.sibling=Qe,Le=Qe);return i&&_e.forEach(function(uR){return r(B,uR)}),Ke&&ta(B,we),ge}function vt(B,U,q,J){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case c:e:{for(var ge=q.key;U!==null;){if(U.key===ge){if(ge=q.type,ge===p){if(U.tag===7){o(B,U.sibling),J=f(U,q.props.children),J.return=B,B=J;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Z&&Ky(ge)===U.type){o(B,U.sibling),J=f(U,q.props),kl(J,q),J.return=B,B=J;break e}o(B,U);break}else r(B,U);U=U.sibling}q.type===p?(J=fa(q.props.children,B.mode,J,q.key),J.return=B,B=J):(J=Gc(q.type,q.key,q.props,null,B.mode,J),kl(J,q),J.return=B,B=J)}return _(B);case d:e:{for(ge=q.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){o(B,U.sibling),J=f(U,q.children||[]),J.return=B,B=J;break e}else{o(B,U);break}else r(B,U);U=U.sibling}J=sm(q,B.mode,J),J.return=B,B=J}return _(B);case Z:return ge=q._init,q=ge(q._payload),vt(B,U,q,J)}if(oe(q))return ye(B,U,q,J);if(se(q)){if(ge=se(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),Ie(B,U,q,J)}if(typeof q.then=="function")return vt(B,U,Rc(q),J);if(q.$$typeof===I)return vt(B,U,Fc(B,q),J);Cc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(o(B,U.sibling),J=f(U,q),J.return=B,B=J):(o(B,U),J=rm(q,B.mode,J),J.return=B,B=J),_(B)):o(B,U)}return function(B,U,q,J){try{Ml=0;var ge=vt(B,U,q,J);return so=null,ge}catch(_e){if(_e===Dl)throw _e;var Le=Jn(29,_e,null,B.mode);return Le.lanes=J,Le.return=B,Le}finally{}}}var ia=Qy(!0),Yy=Qy(!1),ao=ke(null),Ic=ke(0);function Xy(i,r){i=_r,Ve(Ic,i),Ve(ao,r),_r=i|r.baseLanes}function hd(){Ve(Ic,_r),Ve(ao,ao.current)}function fd(){_r=Ic.current,Ye(ao),Ye(Ic)}var Xn=ke(null),ki=null;function ts(i){var r=i.alternate;Ve(Lt,Lt.current&1),Ve(Xn,i),ki===null&&(r===null||ao.current!==null||r.memoizedState!==null)&&(ki=i)}function Wy(i){if(i.tag===22){if(Ve(Lt,Lt.current),Ve(Xn,i),ki===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(ki=i)}}else ns()}function ns(){Ve(Lt,Lt.current),Ve(Xn,Xn.current)}function ur(i){Ye(Xn),ki===i&&(ki=null),Ye(Lt)}var Lt=ke(0);function xc(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var XA=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},WA=n.unstable_scheduleCallback,ZA=n.unstable_NormalPriority,Ut={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dd(){return{controller:new XA,data:new Map,refCount:0}}function Vl(i){i.refCount--,i.refCount===0&&WA(ZA,function(){i.controller.abort()})}var Pl=null,md=0,oo=0,lo=null;function JA(i,r){if(Pl===null){var o=Pl=[];md=0,oo=Em(),lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return md++,r.then(Zy,Zy),r}function Zy(){if(--md===0&&Pl!==null){lo!==null&&(lo.status="fulfilled");var i=Pl;Pl=null,oo=0,lo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function eS(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Jy=R.S;R.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&JA(i,r),Jy!==null&&Jy(i,r)};var ra=ke(null);function pd(){var i=ra.current;return i!==null?i:it.pooledCache}function Nc(i,r){r===null?Ve(ra,ra.current):Ve(ra,r.pool)}function ev(){var i=pd();return i===null?null:{parent:Ut._currentValue,pool:i}}var is=0,Oe=null,Ze=null,Rt=null,Dc=!1,uo=!1,sa=!1,Oc=0,Ll=0,co=null,tS=0;function wt(){throw Error(s(321))}function gd(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Dn(i[o],r[o]))return!1;return!0}function yd(i,r,o,u,f,m){return is=m,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=i===null||i.memoizedState===null?aa:rs,sa=!1,m=o(u,f),sa=!1,uo&&(m=nv(r,o,u,f)),tv(i),m}function tv(i){R.H=Vi;var r=Ze!==null&&Ze.next!==null;if(is=0,Rt=Ze=Oe=null,Dc=!1,Ll=0,co=null,r)throw Error(s(300));i===null||$t||(i=i.dependencies,i!==null&&Bc(i)&&($t=!0))}function nv(i,r,o,u){Oe=i;var f=0;do{if(uo&&(co=null),Ll=0,uo=!1,25<=f)throw Error(s(301));if(f+=1,Rt=Ze=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=oa,m=r(o,u)}while(uo);return m}function nS(){var i=R.H,r=i.useState()[0];return r=typeof r.then=="function"?Ul(r):r,i=i.useState()[0],(Ze!==null?Ze.memoizedState:null)!==i&&(Oe.flags|=1024),r}function vd(){var i=Oc!==0;return Oc=0,i}function _d(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Ed(i){if(Dc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dc=!1}is=0,Rt=Ze=Oe=null,uo=!1,Ll=Oc=0,co=null}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Oe.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function Ct(){if(Ze===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=Ze.next;var r=Rt===null?Oe.memoizedState:Rt.next;if(r!==null)Rt=r,Ze=i;else{if(i===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Ze=i,i={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Oe.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}var Mc;Mc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ul(i){var r=Ll;return Ll+=1,co===null&&(co=[]),i=Gy(co,i,r),r=Oe,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?aa:rs),i}function kc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ul(i);if(i.$$typeof===I)return an(i)}throw Error(s(438,String(i)))}function Td(i){var r=null,o=Oe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Mc(),Oe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=ae;return r.index++,o}function cr(i,r){return typeof r=="function"?r(i):r}function Vc(i){var r=Ct();return bd(r,Ze,i)}function bd(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var w=_=null,N=null,j=r,X=!1;do{var re=j.lane&-536870913;if(re!==j.lane?(He&re)===re:(is&re)===re){var $=j.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),re===oo&&(X=!0);else if((is&$)===$){j=j.next,$===oo&&(X=!0);continue}else re={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(w=N=re,_=m):N=N.next=re,Oe.lanes|=$,ds|=$;re=j.action,sa&&o(m,re),m=j.hasEagerState?j.eagerState:o(m,re)}else $={lane:re,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(w=N=$,_=m):N=N.next=$,Oe.lanes|=re,ds|=re;j=j.next}while(j!==null&&j!==r);if(N===null?_=m:N.next=w,!Dn(m,i.memoizedState)&&($t=!0,X&&(o=lo,o!==null)))throw o;i.memoizedState=m,i.baseState=_,i.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function wd(i){var r=Ct(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=i(m,_.action),_=_.next;while(_!==f);Dn(m,r.memoizedState)||($t=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function iv(i,r,o){var u=Oe,f=Ct(),m=Ke;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Dn((Ze||f).memoizedState,o);if(_&&(f.memoizedState=o,$t=!0),f=f.queue,Rd(av.bind(null,u,f,i),[i]),f.getSnapshot!==r||_||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,ho(9,sv.bind(null,u,f,o,r),{destroy:void 0},null),it===null)throw Error(s(349));m||(is&60)!==0||rv(u,r,o)}return o}function rv(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Oe.updateQueue,r===null?(r=Mc(),Oe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function sv(i,r,o,u){r.value=o,r.getSnapshot=u,ov(r)&&lv(i)}function av(i,r,o){return o(function(){ov(r)&&lv(i)})}function ov(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Dn(i,o)}catch{return!0}}function lv(i){var r=es(i,2);r!==null&&yn(r,i,2)}function Ad(i){var r=wn();if(typeof i=="function"){var o=i;if(i=o(),sa){bi(!0);try{o()}finally{bi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:i},r}function uv(i,r,o,u){return i.baseState=o,bd(i,Ze,typeof u=="function"?u:cr)}function iS(i,r,o,u,f){if(Uc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};R.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,cv(r,m)):(m.next=o.next,r.pending=o.next=m)}}function cv(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var m=R.T,_={};R.T=_;try{var w=o(f,u),N=R.S;N!==null&&N(_,w),hv(i,r,w)}catch(j){Sd(i,r,j)}finally{R.T=m}}else try{m=o(f,u),hv(i,r,m)}catch(j){Sd(i,r,j)}}function hv(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){fv(i,r,u)},function(u){return Sd(i,r,u)}):fv(i,r,o)}function fv(i,r,o){r.status="fulfilled",r.value=o,dv(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,cv(i,o)))}function Sd(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,dv(r),r=r.next;while(r!==u)}i.action=null}function dv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function mv(i,r){return r}function pv(i,r){if(Ke){var o=it.formState;if(o!==null){e:{var u=Oe;if(Ke){if(Wt){t:{for(var f=Wt,m=Mi;f.nodeType!==8;){if(!m){f=null;break t}if(f=fi(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Wt=fi(f.nextSibling),u=f.data==="F!";break e}}na(u)}u=!1}u&&(r=o[0])}}return o=wn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:r},o.queue=u,o=Mv.bind(null,Oe,u),u.dispatch=o,u=Ad(!1),m=Dd.bind(null,Oe,!1,u.queue),u=wn(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=iS.bind(null,Oe,f,m,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function gv(i){var r=Ct();return yv(r,Ze,i)}function yv(i,r,o){r=bd(i,r,mv)[0],i=Vc(cr)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?Ul(r):r;var u=Ct(),f=u.queue,m=f.dispatch;return o!==u.memoizedState&&(Oe.flags|=2048,ho(9,rS.bind(null,f,o),{destroy:void 0},null)),[r,m,i]}function rS(i,r){i.action=r}function vv(i){var r=Ct(),o=Ze;if(o!==null)return yv(r,o,i);Ct(),r=r.memoizedState,o=Ct();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function ho(i,r,o,u){return i={tag:i,create:r,inst:o,deps:u,next:null},r=Oe.updateQueue,r===null&&(r=Mc(),Oe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function _v(){return Ct().memoizedState}function Pc(i,r,o,u){var f=wn();Oe.flags|=i,f.memoizedState=ho(1|r,o,{destroy:void 0},u===void 0?null:u)}function Lc(i,r,o,u){var f=Ct();u=u===void 0?null:u;var m=f.memoizedState.inst;Ze!==null&&u!==null&&gd(u,Ze.memoizedState.deps)?f.memoizedState=ho(r,o,m,u):(Oe.flags|=i,f.memoizedState=ho(1|r,o,m,u))}function Ev(i,r){Pc(8390656,8,i,r)}function Rd(i,r){Lc(2048,8,i,r)}function Tv(i,r){return Lc(4,2,i,r)}function bv(i,r){return Lc(4,4,i,r)}function wv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Av(i,r,o){o=o!=null?o.concat([i]):null,Lc(4,4,wv.bind(null,r,i),o)}function Cd(){}function Sv(i,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&gd(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Rv(i,r){var o=Ct();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&gd(r,u[1]))return u[0];if(u=i(),sa){bi(!0);try{i()}finally{bi(!1)}}return o.memoizedState=[u,r],u}function Id(i,r,o){return o===void 0||(is&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=I_(),Oe.lanes|=i,ds|=i,o)}function Cv(i,r,o,u){return Dn(o,r)?o:ao.current!==null?(i=Id(i,o,u),Dn(i,r)||($t=!0),i):(is&42)===0?($t=!0,i.memoizedState=o):(i=I_(),Oe.lanes|=i,ds|=i,r)}function Iv(i,r,o,u,f){var m=le.p;le.p=m!==0&&8>m?m:8;var _=R.T,w={};R.T=w,Dd(i,!1,r,o);try{var N=f(),j=R.S;if(j!==null&&j(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=eS(N,u);jl(i,r,X,Vn(i))}else jl(i,r,u,Vn(i))}catch(re){jl(i,r,{then:function(){},status:"rejected",reason:re},Vn())}finally{le.p=m,R.T=_}}function sS(){}function xd(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=xv(i).queue;Iv(i,f,r,be,o===null?sS:function(){return Nv(i),o(u)})}function xv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:be},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Nv(i){var r=xv(i).next.queue;jl(i,r,{},Vn())}function Nd(){return an(su)}function Dv(){return Ct().memoizedState}function Ov(){return Ct().memoizedState}function aS(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();i=os(o);var u=ls(r,i,o);u!==null&&(yn(u,r,o),Fl(u,r,o)),r={cache:dd()},i.payload=r;return}r=r.return}}function oS(i,r,o){var u=Vn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Uc(i)?kv(r,o):(o=ad(i,r,o,u),o!==null&&(yn(o,i,u),Vv(o,r,u)))}function Mv(i,r,o){var u=Vn();jl(i,r,o,u)}function jl(i,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uc(i))kv(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,w=m(_,o);if(f.hasEagerState=!0,f.eagerState=w,Dn(w,_))return Tc(i,r,f,0),it===null&&Ec(),!1}catch{}finally{}if(o=ad(i,r,f,u),o!==null)return yn(o,i,u),Vv(o,r,u),!0}return!1}function Dd(i,r,o,u){if(u={lane:2,revertLane:Em(),action:u,hasEagerState:!1,eagerState:null,next:null},Uc(i)){if(r)throw Error(s(479))}else r=ad(i,o,u,2),r!==null&&yn(r,i,2)}function Uc(i){var r=i.alternate;return i===Oe||r!==null&&r===Oe}function kv(i,r){uo=Dc=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Vv(i,r,o){if((o&4194176)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Hr(i,o)}}var Vi={readContext:an,use:kc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt};Vi.useCacheRefresh=wt,Vi.useMemoCache=wt,Vi.useHostTransitionStatus=wt,Vi.useFormState=wt,Vi.useActionState=wt,Vi.useOptimistic=wt;var aa={readContext:an,use:kc,useCallback:function(i,r){return wn().memoizedState=[i,r===void 0?null:r],i},useContext:an,useEffect:Ev,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Pc(4194308,4,wv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Pc(4194308,4,i,r)},useInsertionEffect:function(i,r){Pc(4,2,i,r)},useMemo:function(i,r){var o=wn();r=r===void 0?null:r;var u=i();if(sa){bi(!0);try{i()}finally{bi(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=wn();if(o!==void 0){var f=o(r);if(sa){bi(!0);try{o(r)}finally{bi(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=oS.bind(null,Oe,i),[u.memoizedState,i]},useRef:function(i){var r=wn();return i={current:i},r.memoizedState=i},useState:function(i){i=Ad(i);var r=i.queue,o=Mv.bind(null,Oe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Cd,useDeferredValue:function(i,r){var o=wn();return Id(o,i,r)},useTransition:function(){var i=Ad(!1);return i=Iv.bind(null,Oe,i.queue,!0,!1),wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Oe,f=wn();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(He&60)!==0||rv(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,Ev(av.bind(null,u,m,i),[i]),u.flags|=2048,ho(9,sv.bind(null,u,m,o,r),{destroy:void 0},null),o},useId:function(){var i=wn(),r=it.identifierPrefix;if(Ke){var o=lr,u=or;o=(u&~(1<<32-dn(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Oc++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=tS++,r=":"+r+"r"+o.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return wn().memoizedState=aS.bind(null,Oe)}};aa.useMemoCache=Td,aa.useHostTransitionStatus=Nd,aa.useFormState=pv,aa.useActionState=pv,aa.useOptimistic=function(i){var r=wn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Dd.bind(null,Oe,!0,o),o.dispatch=r,[i,r]};var rs={readContext:an,use:kc,useCallback:Sv,useContext:an,useEffect:Rd,useImperativeHandle:Av,useInsertionEffect:Tv,useLayoutEffect:bv,useMemo:Rv,useReducer:Vc,useRef:_v,useState:function(){return Vc(cr)},useDebugValue:Cd,useDeferredValue:function(i,r){var o=Ct();return Cv(o,Ze.memoizedState,i,r)},useTransition:function(){var i=Vc(cr)[0],r=Ct().memoizedState;return[typeof i=="boolean"?i:Ul(i),r]},useSyncExternalStore:iv,useId:Dv};rs.useCacheRefresh=Ov,rs.useMemoCache=Td,rs.useHostTransitionStatus=Nd,rs.useFormState=gv,rs.useActionState=gv,rs.useOptimistic=function(i,r){var o=Ct();return uv(o,Ze,i,r)};var oa={readContext:an,use:kc,useCallback:Sv,useContext:an,useEffect:Rd,useImperativeHandle:Av,useInsertionEffect:Tv,useLayoutEffect:bv,useMemo:Rv,useReducer:wd,useRef:_v,useState:function(){return wd(cr)},useDebugValue:Cd,useDeferredValue:function(i,r){var o=Ct();return Ze===null?Id(o,i,r):Cv(o,Ze.memoizedState,i,r)},useTransition:function(){var i=wd(cr)[0],r=Ct().memoizedState;return[typeof i=="boolean"?i:Ul(i),r]},useSyncExternalStore:iv,useId:Dv};oa.useCacheRefresh=Ov,oa.useMemoCache=Td,oa.useHostTransitionStatus=Nd,oa.useFormState=vv,oa.useActionState=vv,oa.useOptimistic=function(i,r){var o=Ct();return Ze!==null?uv(o,Ze,i,r):(o.baseState=i,[i,o.queue.dispatch])};function Od(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:D({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Md={isMounted:function(i){return(i=i._reactInternals)?he(i)===i:!1},enqueueSetState:function(i,r,o){i=i._reactInternals;var u=Vn(),f=os(u);f.payload=r,o!=null&&(f.callback=o),r=ls(i,f,u),r!==null&&(yn(r,i,u),Fl(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=Vn(),f=os(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=ls(i,f,u),r!==null&&(yn(r,i,u),Fl(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Vn(),u=os(o);u.tag=2,r!=null&&(u.callback=r),r=ls(i,u,o),r!==null&&(yn(r,i,o),Fl(r,i,o))}};function Pv(i,r,o,u,f,m,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,_):r.prototype&&r.prototype.isPureReactComponent?!Rl(o,u)||!Rl(f,m):!0}function Lv(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Md.enqueueReplaceState(r,r.state,null)}function la(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=D({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var jc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Uv(i){jc(i)}function jv(i){console.error(i)}function zv(i){jc(i)}function zc(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Bv(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function kd(i,r,o){return o=os(o),o.tag=3,o.payload={element:null},o.callback=function(){zc(i,r)},o}function Fv(i){return i=os(i),i.tag=3,i}function qv(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){Bv(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Bv(r,o,u),typeof f!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function lS(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Bl(r,o,f,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return ki===null?pm():o.alternate===null&&yt===0&&(yt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===cd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),ym(i,u,f)),!1;case 22:return o.flags|=65536,u===cd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),ym(i,u,f)),!1}throw Error(s(435,o.tag))}return ym(i,u,f),pm(),!1}if(Ke)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==ud&&(i=Error(s(422),{cause:u}),Nl(Kn(i,o)))):(u!==ud&&(r=Error(s(423),{cause:u}),Nl(Kn(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Kn(u,o),f=kd(i.stateNode,u,f),Yd(i,f),yt!==4&&(yt=2)),!1;var m=Error(s(520),{cause:u});if(m=Kn(m,o),Xl===null?Xl=[m]:Xl.push(m),yt!==4&&(yt=2),r===null)return!0;u=Kn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=kd(o.stateNode,u,i),Yd(o,i),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ms===null||!ms.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Fv(f),qv(f,i,o,u),Yd(o,f),!1}o=o.return}while(o!==null);return!1}var Hv=Error(s(461)),$t=!1;function Zt(i,r,o,u){r.child=i===null?Yy(r,null,o,u):ia(r,i.child,o,u)}function Gv(i,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var _={};for(var w in u)w!=="ref"&&(_[w]=u[w])}else _=u;return ca(r),u=yd(i,r,o,_,m,f),w=vd(),i!==null&&!$t?(_d(i,r,f),hr(i,r,f)):(Ke&&w&&od(r),r.flags|=1,Zt(i,r,u,f),r.child)}function $v(i,r,o,u,f){if(i===null){var m=o.type;return typeof m=="function"&&!im(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,Kv(i,r,m,u,f)):(i=Gc(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!qd(i,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Rl,o(_,u)&&i.ref===r.ref)return hr(i,r,f)}return r.flags|=1,i=fs(m,u),i.ref=r.ref,i.return=r,r.child=i}function Kv(i,r,o,u,f){if(i!==null){var m=i.memoizedProps;if(Rl(m,u)&&i.ref===r.ref)if($t=!1,r.pendingProps=u=m,qd(i,f))(i.flags&131072)!==0&&($t=!0);else return r.lanes=i.lanes,hr(i,r,f)}return Vd(i,r,o,u,f)}function Qv(i,r,o){var u=r.pendingProps,f=u.children,m=(r.stateNode._pendingVisibility&2)!==0,_=i!==null?i.memoizedState:null;if(zl(i,r),u.mode==="hidden"||m){if((r.flags&128)!==0){if(u=_!==null?_.baseLanes|o:o,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return Yv(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nc(r,_!==null?_.cachePool:null),_!==null?Xy(r,_):hd(),Wy(r);else return r.lanes=r.childLanes=536870912,Yv(i,r,_!==null?_.baseLanes|o:o,o)}else _!==null?(Nc(r,_.cachePool),Xy(r,_),ns(),r.memoizedState=null):(i!==null&&Nc(r,null),hd(),ns());return Zt(i,r,f,o),r.child}function Yv(i,r,o,u){var f=pd();return f=f===null?null:{parent:Ut._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},i!==null&&Nc(r,null),hd(),Wy(r),i!==null&&Bl(i,r,u,!0),null}function zl(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=2097664)}}function Vd(i,r,o,u,f){return ca(r),o=yd(i,r,o,u,void 0,f),u=vd(),i!==null&&!$t?(_d(i,r,f),hr(i,r,f)):(Ke&&u&&od(r),r.flags|=1,Zt(i,r,o,f),r.child)}function Xv(i,r,o,u,f,m){return ca(r),r.updateQueue=null,o=nv(r,u,o,f),tv(i),u=vd(),i!==null&&!$t?(_d(i,r,m),hr(i,r,m)):(Ke&&u&&od(r),r.flags|=1,Zt(i,r,o,m),r.child)}function Wv(i,r,o,u,f){if(ca(r),r.stateNode===null){var m=no,_=o.contextType;typeof _=="object"&&_!==null&&(m=an(_)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Md,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Kd(r),_=o.contextType,m.context=typeof _=="object"&&_!==null?an(_):no,m.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Od(r,o,_,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Md.enqueueReplaceState(m,m.state,null),Hl(r,u,m,f),ql(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){m=r.stateNode;var w=r.memoizedProps,N=la(o,w);m.props=N;var j=m.context,X=o.contextType;_=no,typeof X=="object"&&X!==null&&(_=an(X));var re=o.getDerivedStateFromProps;X=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||j!==_)&&Lv(r,m,u,_),as=!1;var $=r.memoizedState;m.state=$,Hl(r,u,m,f),ql(),j=r.memoizedState,w||$!==j||as?(typeof re=="function"&&(Od(r,o,re,u),j=r.memoizedState),(N=as||Pv(r,o,N,u,$,j,_))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=j),m.props=u,m.state=j,m.context=_,u=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Qd(i,r),_=r.memoizedProps,X=la(o,_),m.props=X,re=r.pendingProps,$=m.context,j=o.contextType,N=no,typeof j=="object"&&j!==null&&(N=an(j)),w=o.getDerivedStateFromProps,(j=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==re||$!==N)&&Lv(r,m,u,N),as=!1,$=r.memoizedState,m.state=$,Hl(r,u,m,f),ql();var Y=r.memoizedState;_!==re||$!==Y||as||i!==null&&i.dependencies!==null&&Bc(i.dependencies)?(typeof w=="function"&&(Od(r,o,w,u),Y=r.memoizedState),(X=as||Pv(r,o,X,u,$,Y,N)||i!==null&&i.dependencies!==null&&Bc(i.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),m.props=u,m.state=Y,m.context=N,u=X):(typeof m.componentDidUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return m=u,zl(i,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&u?(r.child=ia(r,i.child,null,f),r.child=ia(r,null,o,f)):Zt(i,r,o,f),r.memoizedState=m.state,i=r.child):i=hr(i,r,f),i}function Zv(i,r,o,u){return xl(),r.flags|=256,Zt(i,r,o,u),r.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function Ld(i){return{baseLanes:i,cachePool:ev()}}function Ud(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ei),i}function Jv(i,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=i!==null&&i.memoizedState===null?!1:(Lt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ke){if(f?ts(r):ns(),Ke){var w=Wt,N;if(N=w){e:{for(N=w,w=Mi;N.nodeType!==8;){if(!w){w=null;break e}if(N=fi(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(r.memoizedState={dehydrated:w,treeContext:ea!==null?{id:or,overflow:lr}:null,retryLane:536870912},N=Jn(18,null,null,0),N.stateNode=w,N.return=r,r.child=N,gn=r,Wt=null,N=!0):N=!1}N||na(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?r.lanes=16:r.lanes=536870912,null;ur(r)}return w=u.children,u=u.fallback,f?(ns(),f=r.mode,w=zd({mode:"hidden",children:w},f),u=fa(u,f,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,f=r.child,f.memoizedState=Ld(o),f.childLanes=Ud(i,_,o),r.memoizedState=Pd,u):(ts(r),jd(r,w))}if(N=i.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(m)r.flags&256?(ts(r),r.flags&=-257,r=Bd(i,r,o)):r.memoizedState!==null?(ns(),r.child=i.child,r.flags|=128,r=null):(ns(),f=u.fallback,w=r.mode,u=zd({mode:"visible",children:u.children},w),f=fa(f,w,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,ia(r,i.child,null,o),u=r.child,u.memoizedState=Ld(o),u.childLanes=Ud(i,_,o),r.memoizedState=Pd,r=f);else if(ts(r),w.data==="$!"){if(_=w.nextSibling&&w.nextSibling.dataset,_)var j=_.dgst;_=j,u=Error(s(419)),u.stack="",u.digest=_,Nl({value:u,source:null,stack:null}),r=Bd(i,r,o)}else if($t||Bl(i,r,o,!1),_=(o&i.childLanes)!==0,$t||_){if(_=it,_!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,es(i,u),yn(_,i,u),Hv}w.data==="$?"||pm(),r=Bd(i,r,o)}else w.data==="$?"?(r.flags|=128,r.child=i.child,r=wS.bind(null,i),w._reactRetry=r,r=null):(i=N.treeContext,Wt=fi(w.nextSibling),gn=r,Ke=!0,ci=null,Mi=!1,i!==null&&(Qn[Yn++]=or,Qn[Yn++]=lr,Qn[Yn++]=ea,or=i.id,lr=i.overflow,ea=r),r=jd(r,u.children),r.flags|=4096);return r}return f?(ns(),f=u.fallback,w=r.mode,N=i.child,j=N.sibling,u=fs(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,j!==null?f=fs(j,f):(f=fa(f,w,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,w=i.child.memoizedState,w===null?w=Ld(o):(N=w.cachePool,N!==null?(j=Ut._currentValue,N=N.parent!==j?{parent:j,pool:j}:N):N=ev(),w={baseLanes:w.baseLanes|o,cachePool:N}),f.memoizedState=w,f.childLanes=Ud(i,_,o),r.memoizedState=Pd,u):(ts(r),o=i.child,i=o.sibling,o=fs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function jd(i,r){return r=zd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function zd(i,r){return S_(i,r,0,null)}function Bd(i,r,o){return ia(r,i.child,null,o),i=jd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function e_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Gd(i.return,r,o)}function Fd(i,r,o,u,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function t_(i,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(Zt(i,r,u.children,o),u=Lt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&e_(i,o,r);else if(i.tag===19)e_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(Ve(Lt,u),f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&xc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Fd(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&xc(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Fd(r,!0,o,null,m);break;case"together":Fd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function hr(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),ds|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Bl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=fs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=fs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function qd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Bc(i)))}function uS(i,r,o){switch(r.tag){case 3:Pe(r,r.stateNode.containerInfo),ss(r,Ut,i.memoizedState.cache),xl();break;case 27:case 5:En(r);break;case 4:Pe(r,r.stateNode.containerInfo);break;case 10:ss(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ts(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Jv(i,r,o):(ts(r),i=hr(i,r,o),i!==null?i.sibling:null);ts(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Bl(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return t_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ve(Lt,Lt.current),u)break;return null;case 22:case 23:return r.lanes=0,Qv(i,r,o);case 24:ss(r,Ut,i.memoizedState.cache)}return hr(i,r,o)}function n_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)$t=!0;else{if(!qd(i,o)&&(r.flags&128)===0)return $t=!1,uS(i,r,o);$t=(i.flags&131072)!==0}else $t=!1,Ke&&(r.flags&1048576)!==0&&zy(r,Ac,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")im(u)?(i=la(u,i),r.tag=1,r=Wv(null,r,u,i,o)):(r.tag=0,r=Vd(null,r,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===M){r.tag=11,r=Gv(null,r,u,i,o);break e}else if(f===H){r.tag=14,r=$v(null,r,u,i,o);break e}}throw r=x(u)||u,Error(s(306,r,""))}}return r;case 0:return Vd(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=la(u,r.pendingProps),Wv(i,r,u,f,o);case 3:e:{if(Pe(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,u=f.element,Qd(i,r),Hl(r,m,null,o);var _=r.memoizedState;if(m=_.cache,ss(r,Ut,m),m!==f.cache&&$d(r,[Ut],o,!0),ql(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Zv(i,r,m,o);break e}else if(m!==u){u=Kn(Error(s(424)),r),Nl(u),r=Zv(i,r,m,o);break e}else for(Wt=fi(r.stateNode.containerInfo.firstChild),gn=r,Ke=!0,ci=null,Mi=!0,o=Yy(r,null,m,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xl(),m===u){r=hr(i,r,o);break e}Zt(i,r,m,o)}r=r.child}return r;case 26:return zl(i,r),i===null?(o=s0(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ke||(o=r.type,i=r.pendingProps,u=ih(Tt.current).createElement(o),u[qt]=r,u[kt]=i,Jt(u,o,i),ht(u),r.stateNode=u):r.memoizedState=s0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return En(r),i===null&&Ke&&(u=r.stateNode=n0(r.type,r.pendingProps,Tt.current),gn=r,Mi=!0,Wt=fi(u.firstChild)),u=r.pendingProps.children,i!==null||Ke?Zt(i,r,u,o):r.child=ia(r,null,u,o),zl(i,r),r.child;case 5:return i===null&&Ke&&((f=u=Wt)&&(u=jS(u,r.type,r.pendingProps,Mi),u!==null?(r.stateNode=u,gn=r,Wt=fi(u.firstChild),Mi=!1,f=!0):f=!1),f||na(r)),En(r),f=r.type,m=r.pendingProps,_=i!==null?i.memoizedProps:null,u=m.children,xm(f,m)?u=null:_!==null&&xm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=yd(i,r,nS,null,null,o),su._currentValue=f),zl(i,r),Zt(i,r,u,o),r.child;case 6:return i===null&&Ke&&((i=o=Wt)&&(o=zS(o,r.pendingProps,Mi),o!==null?(r.stateNode=o,gn=r,Wt=null,i=!0):i=!1),i||na(r)),null;case 13:return Jv(i,r,o);case 4:return Pe(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=ia(r,null,u,o):Zt(i,r,u,o),r.child;case 11:return Gv(i,r,r.type,r.pendingProps,o);case 7:return Zt(i,r,r.pendingProps,o),r.child;case 8:return Zt(i,r,r.pendingProps.children,o),r.child;case 12:return Zt(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,ss(r,r.type,u.value),Zt(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,ca(r),f=an(f),u=u(f),r.flags|=1,Zt(i,r,u,o),r.child;case 14:return $v(i,r,r.type,r.pendingProps,o);case 15:return Kv(i,r,r.type,r.pendingProps,o);case 19:return t_(i,r,o);case 22:return Qv(i,r,o);case 24:return ca(r),u=an(Ut),i===null?(f=pd(),f===null&&(f=it,m=dd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},Kd(r),ss(r,Ut,f)):((i.lanes&o)!==0&&(Qd(i,r),Hl(r,null,null,o),ql()),f=i.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ss(r,Ut,u)):(u=m.cache,ss(r,Ut,u),u!==f.cache&&$d(r,[Ut],o,!0))),Zt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Hd=ke(null),ua=null,fr=null;function ss(i,r,o){Ve(Hd,r._currentValue),r._currentValue=o}function dr(i){i._currentValue=Hd.current,Ye(Hd)}function Gd(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function $d(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Gd(m.return,o,i),u||(_=null);break e}m=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),Gd(_,o,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Bl(i,r,o,u){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;Dn(f.pendingProps.value,_.value)||(i!==null?i.push(w):i=[w])}}else if(f===Ft.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(su):i=[su])}f=f.return}i!==null&&$d(r,i,o,u),r.flags|=262144}function Bc(i){for(i=i.firstContext;i!==null;){if(!Dn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ca(i){ua=i,fr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return i_(ua,i)}function Fc(i,r){return ua===null&&ca(i),i_(i,r)}function i_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},fr===null){if(i===null)throw Error(s(308));fr=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else fr=fr.next=r;return o}var as=!1;function Kd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function os(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ls(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(dt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=bc(i),Uy(i,null,o),r}return Tc(i,u,r,o),bc(i)}function Fl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194176)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Hr(i,o)}}function Yd(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Xd=!1;function ql(){if(Xd){var i=lo;if(i!==null)throw i}}function Hl(i,r,o,u){Xd=!1;var f=i.updateQueue;as=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,j=N.next;N.next=null,_===null?m=j:_.next=j,_=N;var X=i.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==_&&(w===null?X.firstBaseUpdate=j:w.next=j,X.lastBaseUpdate=N))}if(m!==null){var re=f.baseState;_=0,X=j=N=null,w=m;do{var $=w.lane&-536870913,Y=$!==w.lane;if(Y?(He&$)===$:(u&$)===$){$!==0&&$===oo&&(Xd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=i,Ie=w;$=r;var vt=o;switch(Ie.tag){case 1:if(ye=Ie.payload,typeof ye=="function"){re=ye.call(vt,re,$);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ie.payload,$=typeof ye=="function"?ye.call(vt,re,$):ye,$==null)break e;re=D({},re,$);break e;case 2:as=!0}}$=w.callback,$!==null&&(i.flags|=64,Y&&(i.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[$]:Y.push($))}else Y={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(j=X=Y,N=re):X=X.next=Y,_|=$;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);X===null&&(N=re),f.baseState=N,f.firstBaseUpdate=j,f.lastBaseUpdate=X,m===null&&(f.shared.lanes=0),ds|=_,i.lanes=_,i.memoizedState=re}}function r_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function s_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)r_(o[i],r)}function Gl(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==f)}}catch(w){nt(r,r.return,w)}}function us(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var _=u.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=r;var N=o;try{w()}catch(j){nt(f,N,j)}}}u=u.next}while(u!==m)}}catch(j){nt(r,r.return,j)}}function a_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{s_(r,o)}catch(u){nt(i,i.return,u)}}}function o_(i,r,o){o.props=la(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){nt(i,r,u)}}function ha(i,r){try{var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(m){nt(i,r,m)}}function On(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){nt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){nt(i,r,f)}else o.current=null}function l_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){nt(i,i.return,f)}}function u_(i,r,o){try{var u=i.stateNode;kS(u,i.type,o,r),u[kt]=r}catch(f){nt(i,i.return,f)}}function c_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Wd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||c_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(i,r):o.insertBefore(i,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(i,o)):(r=o,r.appendChild(i)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=nh));else if(u!==4&&u!==27&&(i=i.child,i!==null))for(Zd(i,r,o),i=i.sibling;i!==null;)Zd(i,r,o),i=i.sibling}function qc(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&u!==27&&(i=i.child,i!==null))for(qc(i,r,o),i=i.sibling;i!==null;)qc(i,r,o),i=i.sibling}var mr=!1,gt=!1,Jd=!1,h_=typeof WeakSet=="function"?WeakSet:Set,Kt=null,f_=!1;function cS(i,r){if(i=i.containerInfo,Cm=uh,i=xy(i),td(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,w=-1,N=-1,j=0,X=0,re=i,$=null;t:for(;;){for(var Y;re!==o||f!==0&&re.nodeType!==3||(w=_+f),re!==m||u!==0&&re.nodeType!==3||(N=_+u),re.nodeType===3&&(_+=re.nodeValue.length),(Y=re.firstChild)!==null;)$=re,re=Y;for(;;){if(re===i)break t;if($===o&&++j===f&&(w=_),$===m&&++X===u&&(N=_),(Y=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=Y}o=w===-1||N===-1?null:{start:w,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Im={focusedElem:i,selectionRange:o},uh=!1,Kt=r;Kt!==null;)if(r=Kt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Kt=i;else for(;Kt!==null;){switch(r=Kt,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var ye=la(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(ye,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){nt(o,o.return,Ie)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Om(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Om(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Kt=i;break}Kt=r.return}return ye=f_,f_=!1,ye}function d_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gr(i,o),u&4&&Gl(5,o);break;case 1:if(gr(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){nt(o,o.return,w)}else{var f=la(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){nt(o,o.return,w)}}u&64&&a_(o),u&512&&ha(o,o.return);break;case 3:if(gr(i,o),u&64&&(u=o.updateQueue,u!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{s_(u,i)}catch(w){nt(o,o.return,w)}}break;case 26:gr(i,o),u&512&&ha(o,o.return);break;case 27:case 5:gr(i,o),r===null&&u&4&&l_(o),u&512&&ha(o,o.return);break;case 12:gr(i,o);break;case 13:gr(i,o),u&4&&g_(i,o);break;case 22:if(f=o.memoizedState!==null||mr,!f){r=r!==null&&r.memoizedState!==null||gt;var m=mr,_=gt;mr=f,(gt=r)&&!_?cs(i,o,(o.subtreeFlags&8772)!==0):gr(i,o),mr=m,gt=_}u&512&&(o.memoizedProps.mode==="manual"?ha(o,o.return):On(o,o.return));break;default:gr(i,o)}}function m_(i){var r=i.alternate;r!==null&&(i.alternate=null,m_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Bs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var It=null,Mn=!1;function pr(i,r,o){for(o=o.child;o!==null;)p_(i,r,o),o=o.sibling}function p_(i,r,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(jr,o)}catch{}switch(o.tag){case 26:gt||On(o,r),pr(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:gt||On(o,r);var u=It,f=Mn;for(It=o.stateNode,pr(i,r,o),o=o.stateNode,r=o.attributes;r.length;)o.removeAttributeNode(r[0]);Bs(o),It=u,Mn=f;break;case 5:gt||On(o,r);case 6:f=It;var m=Mn;if(It=null,pr(i,r,o),It=f,Mn=m,It!==null)if(Mn)try{i=It,u=o.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)}catch(_){nt(o,r,_)}else try{It.removeChild(o.stateNode)}catch(_){nt(o,r,_)}break;case 18:It!==null&&(Mn?(r=It,o=o.stateNode,r.nodeType===8?Dm(r.parentNode,o):r.nodeType===1&&Dm(r,o),uu(r)):Dm(It,o.stateNode));break;case 4:u=It,f=Mn,It=o.stateNode.containerInfo,Mn=!0,pr(i,r,o),It=u,Mn=f;break;case 0:case 11:case 14:case 15:gt||us(2,o,r),gt||us(4,o,r),pr(i,r,o);break;case 1:gt||(On(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&o_(o,r,u)),pr(i,r,o);break;case 21:pr(i,r,o);break;case 22:gt||On(o,r),gt=(u=gt)||o.memoizedState!==null,pr(i,r,o),gt=u;break;default:pr(i,r,o)}}function g_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uu(i)}catch(o){nt(r,r.return,o)}}function hS(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new h_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new h_),r;default:throw Error(s(435,i.tag))}}function em(i,r){var o=hS(i);r.forEach(function(u){var f=AS.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function Wn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=i,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 27:case 5:It=w.stateNode,Mn=!1;break e;case 3:It=w.stateNode.containerInfo,Mn=!0;break e;case 4:It=w.stateNode.containerInfo,Mn=!0;break e}w=w.return}if(It===null)throw Error(s(160));p_(m,_,f),It=null,Mn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)y_(r,i),r=r.sibling}var hi=null;function y_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wn(r,i),Zn(i),u&4&&(us(3,i,i.return),Gl(3,i),us(5,i,i.return));break;case 1:Wn(r,i),Zn(i),u&512&&(gt||o===null||On(o,o.return)),u&64&&mr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=hi;if(Wn(r,i),Zn(i),u&512&&(gt||o===null||On(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[$r]||m[qt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Jt(m,u,o),m[qt]=i,ht(m),u=m;break e;case"link":var _=l0("link","href",f).get(u+(o.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(o.href==null?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(w,1);break t}}m=f.createElement(u),Jt(m,u,o),f.head.appendChild(m);break;case"meta":if(_=l0("meta","content",f).get(u+(o.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(w,1);break t}}m=f.createElement(u),Jt(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[qt]=i,ht(m),u=m}i.stateNode=u}else u0(f,i.type,i.stateNode);else i.stateNode=o0(f,u,i.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?u0(f,i.type,i.stateNode):o0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&u_(i,i.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&i.alternate===null){f=i.stateNode,m=i.memoizedProps;try{for(var N=f.firstChild;N;){var j=N.nextSibling,X=N.nodeName;N[$r]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=j}for(var re=i.type,$=f.attributes;$.length;)f.removeAttributeNode($[0]);Jt(f,re,m),f[qt]=i,f[kt]=m}catch(ye){nt(i,i.return,ye)}}case 5:if(Wn(r,i),Zn(i),u&512&&(gt||o===null||On(o,o.return)),i.flags&32){f=i.stateNode;try{Fn(f,"")}catch(ye){nt(i,i.return,ye)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,u_(i,f,o!==null?o.memoizedProps:f)),u&1024&&(Jd=!0);break;case 6:if(Wn(r,i),Zn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){nt(i,i.return,ye)}}break;case 3:if(ah=null,f=hi,hi=rh(r.containerInfo),Wn(r,i),hi=f,Zn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{uu(r.containerInfo)}catch(ye){nt(i,i.return,ye)}Jd&&(Jd=!1,v_(i));break;case 4:u=hi,hi=rh(i.stateNode.containerInfo),Wn(r,i),Zn(i),hi=u;break;case 12:Wn(r,i),Zn(i);break;case 13:Wn(r,i),Zn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(um=Mt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,em(i,u)));break;case 22:if(u&512&&(gt||o===null||On(o,o.return)),N=i.memoizedState!==null,j=o!==null&&o.memoizedState!==null,X=mr,re=gt,mr=X||N,gt=re||j,Wn(r,i),gt=re,mr=X,Zn(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=N?r._visibility&-2:r._visibility|1,N&&(r=mr||gt,o===null||j||r||fo(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(o=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(o===null){j=o=r;try{if(f=j.stateNode,N)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=j.stateNode,w=j.memoizedProps.style;var Y=w!=null&&w.hasOwnProperty("display")?w.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){nt(j,j.return,ye)}}}else if(r.tag===6){if(o===null){j=r;try{j.stateNode.nodeValue=N?"":j.memoizedProps}catch(ye){nt(j,j.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,em(i,o))));break;case 19:Wn(r,i),Zn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,em(i,u)));break;case 21:break;default:Wn(r,i),Zn(i)}}function Zn(i){var r=i.flags;if(r&2){try{if(i.tag!==27){e:{for(var o=i.return;o!==null;){if(c_(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Wd(i);qc(i,m,f);break;case 5:var _=u.stateNode;u.flags&32&&(Fn(_,""),u.flags&=-33);var w=Wd(i);qc(i,w,_);break;case 3:case 4:var N=u.stateNode.containerInfo,j=Wd(i);Zd(i,j,N);break;default:throw Error(s(161))}}}catch(X){nt(i,i.return,X)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function v_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;v_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function gr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)d_(i,r.alternate,r),r=r.sibling}function fo(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:us(4,r,r.return),fo(r);break;case 1:On(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&o_(r,r.return,o),fo(r);break;case 26:case 27:case 5:On(r,r.return),fo(r);break;case 22:On(r,r.return),r.memoizedState===null&&fo(r);break;default:fo(r)}i=i.sibling}}function cs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:cs(f,m,o),Gl(4,m);break;case 1:if(cs(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){nt(u,u.return,j)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)r_(N[f],w)}catch(j){nt(u,u.return,j)}}o&&_&64&&a_(m),ha(m,m.return);break;case 26:case 27:case 5:cs(f,m,o),o&&u===null&&_&4&&l_(m),ha(m,m.return);break;case 12:cs(f,m,o);break;case 13:cs(f,m,o),o&&_&4&&g_(f,m);break;case 22:m.memoizedState===null&&cs(f,m,o),ha(m,m.return);break;default:cs(f,m,o)}r=r.sibling}}function tm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Vl(o))}function nm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Vl(i))}function hs(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)__(i,r,o,u),r=r.sibling}function __(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:hs(i,r,o,u),f&2048&&Gl(9,r);break;case 3:hs(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Vl(i)));break;case 12:if(f&2048){hs(i,r,o,u),i=r.stateNode;try{var m=r.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){nt(r,r.return,N)}}else hs(i,r,o,u);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?hs(i,r,o,u):$l(i,r):m._visibility&4?hs(i,r,o,u):(m._visibility|=4,mo(i,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&tm(r.alternate,r);break;case 24:hs(i,r,o,u),f&2048&&nm(r.alternate,r);break;default:hs(i,r,o,u)}}function mo(i,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,_=r,w=o,N=u,j=_.flags;switch(_.tag){case 0:case 11:case 15:mo(m,_,w,N,f),Gl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&4?mo(m,_,w,N,f):$l(m,_):(X._visibility|=4,mo(m,_,w,N,f)),f&&j&2048&&tm(_.alternate,_);break;case 24:mo(m,_,w,N,f),f&&j&2048&&nm(_.alternate,_);break;default:mo(m,_,w,N,f)}r=r.sibling}}function $l(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:$l(o,u),f&2048&&tm(u.alternate,u);break;case 24:$l(o,u),f&2048&&nm(u.alternate,u);break;default:$l(o,u)}r=r.sibling}}var Kl=8192;function po(i){if(i.subtreeFlags&Kl)for(i=i.child;i!==null;)E_(i),i=i.sibling}function E_(i){switch(i.tag){case 26:po(i),i.flags&Kl&&i.memoizedState!==null&&JS(hi,i.memoizedState,i.memoizedProps);break;case 5:po(i);break;case 3:case 4:var r=hi;hi=rh(i.stateNode.containerInfo),po(i),hi=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Kl,Kl=16777216,po(i),Kl=r):po(i));break;default:po(i)}}function T_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ql(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,w_(u,i)}T_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(i),i=i.sibling}function b_(i){switch(i.tag){case 0:case 11:case 15:Ql(i),i.flags&2048&&us(9,i,i.return);break;case 3:Ql(i);break;case 12:Ql(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,Hc(i)):Ql(i);break;default:Ql(i)}}function Hc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Kt=u,w_(u,i)}T_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:us(8,r,r.return),Hc(r);break;case 22:o=r.stateNode,o._visibility&4&&(o._visibility&=-5,Hc(r));break;default:Hc(r)}i=i.sibling}}function w_(i,r){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:us(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Kt=u;else e:for(o=i;Kt!==null;){u=Kt;var f=u.sibling,m=u.return;if(m_(u),u===o){Kt=null;break e}if(f!==null){f.return=m,Kt=f;break e}Kt=m}}}function fS(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(i,r,o,u){return new fS(i,r,o,u)}function im(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,r){var o=i.alternate;return o===null?(o=Jn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&31457280,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function A_(i,r){i.flags&=31457282;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Gc(i,r,o,u,f,m){var _=0;if(u=i,typeof i=="function")im(i)&&(_=1);else if(typeof i=="string")_=WS(i,o,ct.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case p:return fa(o.children,f,m,r);case g:_=8,f|=24;break;case E:return i=Jn(12,o,r,f|2),i.elementType=E,i.lanes=m,i;case G:return i=Jn(13,o,r,f),i.elementType=G,i.lanes=m,i;case P:return i=Jn(19,o,r,f),i.elementType=P,i.lanes=m,i;case Q:return S_(o,f,m,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:case I:_=10;break e;case A:_=9;break e;case M:_=11;break e;case H:_=14;break e;case Z:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Jn(_,o,r,f),r.elementType=i,r.type=u,r.lanes=m,r}function fa(i,r,o,u){return i=Jn(7,i,u,r),i.lanes=o,i}function S_(i,r,o,u){i=Jn(22,i,u,r),i.elementType=Q,i.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=es(m,2);_!==null&&(f._pendingVisibility|=2,yn(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=es(m,2);_!==null&&(f._pendingVisibility&=-3,yn(_,m,2))}}};return i.stateNode=f,i}function rm(i,r,o){return i=Jn(6,i,null,r),i.lanes=o,i}function sm(i,r,o){return r=Jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function yr(i){i.flags|=4}function R_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!c0(r)){if(r=Xn.current,r!==null&&((He&4194176)===He?ki!==null:(He&62914560)!==He&&(He&536870912)===0||r!==ki))throw Ol=cd,qy;i.flags|=8192}}function $c(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Fr():536870912,i.lanes|=r,yo|=r)}function Yl(i,r){if(!Ke)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ft(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function dS(i,r,o){var u=r.pendingProps;switch(ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),dr(Ut),rn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Il(r)?yr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ci!==null&&(dm(ci),ci=null))),ft(r),null;case 26:return o=r.memoizedState,i===null?(yr(r),o!==null?(ft(r),R_(r,o)):(ft(r),r.flags&=-16777217)):o?o!==i.memoizedState?(yr(r),ft(r),R_(r,o)):(ft(r),r.flags&=-16777217):(i.memoizedProps!==u&&yr(r),ft(r),r.flags&=-16777217),null;case 27:si(r),o=Tt.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&yr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ft(r),null}i=ct.current,Il(r)?By(r):(i=n0(f,u,o),r.stateNode=i,yr(r))}return ft(r),null;case 5:if(si(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&yr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ft(r),null}if(i=ct.current,Il(r))By(r);else{switch(f=ih(Tt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[qt]=r,i[kt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(Jt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&yr(r)}}return ft(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&yr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Tt.current,Il(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=gn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[qt]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||X_(i.nodeValue,o)),i||na(r)}else i=ih(i).createTextNode(u),i[qt]=r,r.stateNode=i}return ft(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Il(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[qt]=r}else xl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),f=!1}else ci!==null&&(dm(ci),ci=null),f=!0;if(!f)return r.flags&256?(ur(r),r):(ur(r),null)}if(ur(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),$c(r,r.updateQueue),ft(r),null;case 4:return rn(),i===null&&Am(r.stateNode.containerInfo),ft(r),null;case 10:return dr(r.type),ft(r),null;case 19:if(Ye(Lt),f=r.memoizedState,f===null)return ft(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)Yl(f,!1);else{if(yt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=xc(i),m!==null){for(r.flags|=128,Yl(f,!1),i=m.updateQueue,r.updateQueue=i,$c(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)A_(o,i),o=o.sibling;return Ve(Lt,Lt.current&1|2),r.child}i=i.sibling}f.tail!==null&&Mt()>Kc&&(r.flags|=128,u=!0,Yl(f,!1),r.lanes=4194304)}else{if(!u)if(i=xc(m),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,$c(r,i),Yl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ke)return ft(r),null}else 2*Mt()-f.renderingStartTime>Kc&&o!==536870912&&(r.flags|=128,u=!0,Yl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(i=f.last,i!==null?i.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Mt(),r.sibling=null,i=Lt.current,Ve(Lt,u?i&1|2:i&1),r):(ft(r),null);case 22:case 23:return ur(r),fd(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),o=r.updateQueue,o!==null&&$c(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&Ye(ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),dr(Ut),ft(r),null;case 25:return null}throw Error(s(156,r.tag))}function mS(i,r){switch(ld(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return dr(Ut),rn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return si(r),null;case 13:if(ur(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));xl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Ye(Lt),null;case 4:return rn(),null;case 10:return dr(r.type),null;case 22:case 23:return ur(r),fd(),i!==null&&Ye(ra),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return dr(Ut),null;case 25:return null;default:return null}}function C_(i,r){switch(ld(r),r.tag){case 3:dr(Ut),rn();break;case 26:case 27:case 5:si(r);break;case 4:rn();break;case 13:ur(r);break;case 19:Ye(Lt);break;case 10:dr(r.type);break;case 22:case 23:ur(r),fd(),i!==null&&Ye(ra);break;case 24:dr(Ut)}}var pS={getCacheForType:function(i){var r=an(Ut),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},gS=typeof WeakMap=="function"?WeakMap:Map,dt=0,it=null,Ue=null,He=0,rt=0,kn=null,vr=!1,go=!1,am=!1,_r=0,yt=0,ds=0,da=0,om=0,ei=0,yo=0,Xl=null,Pi=null,lm=!1,um=0,Kc=1/0,Qc=null,ms=null,Yc=!1,ma=null,Wl=0,cm=0,hm=null,Zl=0,fm=null;function Vn(){if((dt&2)!==0&&He!==0)return He&-He;if(R.T!==null){var i=oo;return i!==0?i:Em()}return tc()}function I_(){ei===0&&(ei=(He&536870912)===0||Ke?cl():536870912);var i=Xn.current;return i!==null&&(i.flags|=32),ei}function yn(i,r,o){(i===it&&rt===2||i.cancelPendingCommit!==null)&&(vo(i,0),Er(i,He,ei,!1)),bt(i,o),((dt&2)===0||i!==it)&&(i===it&&((dt&2)===0&&(da|=o),yt===4&&Er(i,He,ei,!1)),Li(i))}function x_(i,r,o){if((dt&6)!==0)throw Error(s(327));var u=!o&&(r&60)===0&&(r&i.expiredLanes)===0||Br(i,r),f=u?_S(i,r):gm(i,r,!0),m=u;do{if(f===0){go&&!u&&Er(i,r,0,!1);break}else if(f===6)Er(i,r,0,!vr);else{if(o=i.current.alternate,m&&!yS(o)){f=gm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var w=i;f=Xl;var N=w.current.memoizedState.isDehydrated;if(N&&(vo(w,_).flags|=256),_=gm(w,_,!1),_!==2){if(am&&!N){w.errorRecoveryDisabledLanes|=m,da|=m,f=4;break e}m=Pi,Pi=f,m!==null&&dm(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){vo(i,0),Er(i,r,0,!0);break}e:{switch(u=i,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){Er(u,r,ei,!vr);break e}break;case 2:Pi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=o,u.finishedLanes=r,(r&62914560)===r&&(m=um+300-Mt(),10<m)){if(Er(u,r,ei,!vr),zn(u,0)!==0)break e;u.timeoutHandle=J_(N_.bind(null,u,o,Pi,Qc,lm,r,ei,da,yo,vr,2,-0,0),m);break e}N_(u,o,Pi,Qc,lm,r,ei,da,yo,vr,0,-0,0)}}break}while(!0);Li(i)}function dm(i){Pi===null?Pi=i:Pi.push.apply(Pi,i)}function N_(i,r,o,u,f,m,_,w,N,j,X,re,$){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(ru={stylesheets:null,count:0,unsuspend:ZS},E_(r),r=eR(),r!==null)){i.cancelPendingCommit=r(L_.bind(null,i,o,u,f,_,w,N,1,re,$)),Er(i,m,_,!j);return}L_(i,o,u,f,_,w,N,X,re,$)}function yS(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Dn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Er(i,r,o,u){r&=~om,r&=~da,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var m=31-dn(f),_=1<<m;u[m]=-1,f&=~_}o!==0&&qr(i,o,r)}function Xc(){return(dt&6)===0?(Jl(0),!1):!0}function mm(){if(Ue!==null){if(rt===0)var i=Ue.return;else i=Ue,fr=ua=null,Ed(i),so=null,Ml=0,i=Ue;for(;i!==null;)C_(i.alternate,i),i=i.return;Ue=null}}function vo(i,r){i.finishedWork=null,i.finishedLanes=0;var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,PS(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),mm(),it=i,Ue=o=fs(i.current,null),He=r,rt=0,kn=null,vr=!1,go=Br(i,r),am=!1,yo=ei=om=da=ds=yt=0,Pi=Xl=null,lm=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-dn(u),m=1<<f;r|=i[f],u&=~m}return _r=r,Ec(),o}function D_(i,r){Oe=null,R.H=Vi,r===Dl?(r=$y(),rt=3):r===qy?(r=$y(),rt=4):rt=r===Hv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Ue===null&&(yt=1,zc(i,Kn(r,i.current)))}function O_(){var i=R.H;return R.H=Vi,i===null?Vi:i}function M_(){var i=R.A;return R.A=pS,i}function pm(){yt=4,vr||(He&4194176)!==He&&Xn.current!==null||(go=!0),(ds&134217727)===0&&(da&134217727)===0||it===null||Er(it,He,ei,!1)}function gm(i,r,o){var u=dt;dt|=2;var f=O_(),m=M_();(it!==i||He!==r)&&(Qc=null,vo(i,r)),r=!1;var _=yt;e:do try{if(rt!==0&&Ue!==null){var w=Ue,N=kn;switch(rt){case 8:mm(),_=6;break e;case 3:case 2:case 6:Xn.current===null&&(r=!0);var j=rt;if(rt=0,kn=null,_o(i,w,N,j),o&&go){_=0;break e}break;default:j=rt,rt=0,kn=null,_o(i,w,N,j)}}vS(),_=yt;break}catch(X){D_(i,X)}while(!0);return r&&i.shellSuspendCounter++,fr=ua=null,dt=u,R.H=f,R.A=m,Ue===null&&(it=null,He=0,Ec()),_}function vS(){for(;Ue!==null;)k_(Ue)}function _S(i,r){var o=dt;dt|=2;var u=O_(),f=M_();it!==i||He!==r?(Qc=null,Kc=Mt()+500,vo(i,r)):go=Br(i,r);e:do try{if(rt!==0&&Ue!==null){r=Ue;var m=kn;t:switch(rt){case 1:rt=0,kn=null,_o(i,r,m,1);break;case 2:if(Hy(m)){rt=0,kn=null,V_(r);break}r=function(){rt===2&&it===i&&(rt=7),Li(i)},m.then(r,r);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Hy(m)?(rt=0,kn=null,V_(r)):(rt=0,kn=null,_o(i,r,m,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var w=Ue;if(!_||c0(_)){rt=0,kn=null;var N=w.sibling;if(N!==null)Ue=N;else{var j=w.return;j!==null?(Ue=j,Wc(j)):Ue=null}break t}}rt=0,kn=null,_o(i,r,m,5);break;case 6:rt=0,kn=null,_o(i,r,m,6);break;case 8:mm(),yt=6;break e;default:throw Error(s(462))}}ES();break}catch(X){D_(i,X)}while(!0);return fr=ua=null,R.H=u,R.A=f,dt=o,Ue!==null?0:(it=null,He=0,Ec(),yt)}function ES(){for(;Ue!==null&&!js();)k_(Ue)}function k_(i){var r=n_(i.alternate,i,_r);i.memoizedProps=i.pendingProps,r===null?Wc(i):Ue=r}function V_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Xv(o,r,r.pendingProps,r.type,void 0,He);break;case 11:r=Xv(o,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:Ed(r);default:C_(o,r),r=Ue=A_(r,_r),r=n_(o,r,_r)}i.memoizedProps=i.pendingProps,r===null?Wc(i):Ue=r}function _o(i,r,o,u){fr=ua=null,Ed(r),so=null,Ml=0;var f=r.return;try{if(lS(i,f,r,o,He)){yt=1,zc(i,Kn(o,i.current)),Ue=null;return}}catch(m){if(f!==null)throw Ue=f,m;yt=1,zc(i,Kn(o,i.current)),Ue=null;return}r.flags&32768?(Ke||u===1?i=!0:go||(He&536870912)!==0?i=!1:(vr=i=!0,(u===2||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),P_(r,i)):Wc(r)}function Wc(i){var r=i;do{if((r.flags&32768)!==0){P_(r,vr);return}i=r.return;var o=dS(r.alternate,r,_r);if(o!==null){Ue=o;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=i}while(r!==null);yt===0&&(yt=5)}function P_(i,r){do{var o=mS(i.alternate,i);if(o!==null){o.flags&=32767,Ue=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ue=i;return}Ue=i=o}while(i!==null);yt=6,Ue=null}function L_(i,r,o,u,f,m,_,w,N,j){var X=R.T,re=le.p;try{le.p=2,R.T=null,TS(i,r,o,u,re,f,m,_,w,N,j)}finally{R.T=X,le.p=re}}function TS(i,r,o,u,f,m,_,w){do Eo();while(ma!==null);if((dt&6)!==0)throw Error(s(327));var N=i.finishedWork;if(u=i.finishedLanes,N===null)return null;if(i.finishedWork=null,i.finishedLanes=0,N===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var j=N.lanes|N.childLanes;if(j|=sd,Ju(i,u,j,m,_,w),i===it&&(Ue=it=null,He=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Yc||(Yc=!0,cm=j,hm=o,SS(Tn,function(){return Eo(),null})),o=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||o?(o=R.T,R.T=null,m=le.p,le.p=2,_=dt,dt|=4,cS(i,N),y_(N,i),GA(Im,i.containerInfo),uh=!!Cm,Im=Cm=null,i.current=N,d_(i,N.alternate,N),Xi(),dt=_,le.p=m,R.T=o):i.current=N,Yc?(Yc=!1,ma=i,Wl=u):U_(i,j),j=i.pendingLanes,j===0&&(ms=null),ll(N.stateNode),Li(i),r!==null)for(f=i.onRecoverableError,N=0;N<r.length;N++)j=r[N],f(j.value,{componentStack:j.stack});return(Wl&3)!==0&&Eo(),j=i.pendingLanes,(u&4194218)!==0&&(j&42)!==0?i===fm?Zl++:(Zl=0,fm=i):Zl=0,Jl(0),null}function U_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Vl(r)))}function Eo(){if(ma!==null){var i=ma,r=cm;cm=0;var o=ec(Wl),u=R.T,f=le.p;try{if(le.p=32>o?32:o,R.T=null,ma===null)var m=!1;else{o=hm,hm=null;var _=ma,w=Wl;if(ma=null,Wl=0,(dt&6)!==0)throw Error(s(331));var N=dt;if(dt|=4,b_(_.current),__(_,_.current,w,o),dt=N,Jl(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(jr,_)}catch{}m=!0}return m}finally{le.p=f,R.T=u,U_(i,r)}}return!1}function j_(i,r,o){r=Kn(o,r),r=kd(i.stateNode,r,2),i=ls(i,r,2),i!==null&&(bt(i,2),Li(i))}function nt(i,r,o){if(i.tag===3)j_(i,i,o);else for(;r!==null;){if(r.tag===3){j_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ms===null||!ms.has(u))){i=Kn(o,i),o=Fv(2),u=ls(r,o,2),u!==null&&(qv(o,u,r,i),bt(u,2),Li(u));break}}r=r.return}}function ym(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new gS;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(am=!0,f.add(o),i=bS.bind(null,i,r,o),r.then(i,i))}function bS(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(He&o)===o&&(yt===4||yt===3&&(He&62914560)===He&&300>Mt()-um?(dt&2)===0&&vo(i,0):om|=o,yo===He&&(yo=0)),Li(i)}function z_(i,r){r===0&&(r=Fr()),i=es(i,r),i!==null&&(bt(i,r),Li(i))}function wS(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),z_(i,o)}function AS(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),z_(i,o)}function SS(i,r){return In(i,r)}var Zc=null,To=null,vm=!1,Jc=!1,_m=!1,pa=0;function Li(i){i!==To&&i.next===null&&(To===null?Zc=To=i:To=To.next=i),Jc=!0,vm||(vm=!0,CS(RS))}function Jl(i,r){if(!_m&&Jc){_m=!0;do for(var o=!1,u=Zc;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-dn(42|i)+1)-1,m&=f&~(_&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(o=!0,q_(u,m))}else m=He,m=zn(u,u===it?m:0),(m&3)===0||Br(u,m)||(o=!0,q_(u,m));u=u.next}while(o);_m=!1}}function RS(){Jc=vm=!1;var i=0;pa!==0&&(VS()&&(i=pa),pa=0);for(var r=Mt(),o=null,u=Zc;u!==null;){var f=u.next,m=B_(u,r);m===0?(u.next=null,o===null?Zc=f:o.next=f,f===null&&(To=o)):(o=u,(i!==0||(m&3)!==0)&&(Jc=!0)),u=f}Jl(i)}function B_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var _=31-dn(m),w=1<<_,N=f[_];N===-1?((w&o)===0||(w&u)!==0)&&(f[_]=Ua(w,r)):N<=r&&(i.expiredLanes|=w),m&=~w}if(r=it,o=He,o=zn(i,i===r?o:0),u=i.callbackNode,o===0||i===r&&rt===2||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ai(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Br(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&ai(u),ec(o)){case 2:case 8:o=tt;break;case 32:o=Tn;break;case 268435456:o=jn;break;default:o=Tn}return u=F_.bind(null,i),o=In(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&ai(u),i.callbackPriority=2,i.callbackNode=null,2}function F_(i,r){var o=i.callbackNode;if(Eo()&&i.callbackNode!==o)return null;var u=He;return u=zn(i,i===it?u:0),u===0?null:(x_(i,u,r),B_(i,Mt()),i.callbackNode!=null&&i.callbackNode===o?F_.bind(null,i):null)}function q_(i,r){if(Eo())return null;x_(i,r,!0)}function CS(i){LS(function(){(dt&6)!==0?In(Te,i):i()})}function Em(){return pa===0&&(pa=cl()),pa}function H_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ri(""+i)}function G_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function IS(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=H_((f[kt]||null).action),_=u.submitter;_&&(r=(r=_[kt]||null)?H_(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var w=new Ga("action","action",null,u,f);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pa!==0){var N=_?G_(f,_):new FormData(f);xd(o,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=_?G_(f,_):new FormData(f),xd(o,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var Tm=0;Tm<Ly.length;Tm++){var bm=Ly[Tm],xS=bm.toLowerCase(),NS=bm[0].toUpperCase()+bm.slice(1);ui(xS,"on"+NS)}ui(Oy,"onAnimationEnd"),ui(My,"onAnimationIteration"),ui(ky,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(KA,"onTransitionRun"),ui(QA,"onTransitionStart"),ui(YA,"onTransitionCancel"),ui(Vy,"onTransitionEnd"),bn("onMouseEnter",["mouseout","mouseover"]),bn("onMouseLeave",["mouseout","mouseover"]),bn("onPointerEnter",["pointerout","pointerover"]),bn("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function $_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var _=u.length-1;0<=_;_--){var w=u[_],N=w.instance,j=w.currentTarget;if(w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=j;try{m(f)}catch(X){jc(X)}f.currentTarget=null,m=N}else for(_=0;_<u.length;_++){if(w=u[_],N=w.instance,j=w.currentTarget,w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=j;try{m(f)}catch(X){jc(X)}f.currentTarget=null,m=N}}}}function Be(i,r){var o=r[zs];o===void 0&&(o=r[zs]=new Set);var u=i+"__bubble";o.has(u)||(K_(r,i,2,!1),o.add(u))}function wm(i,r,o){var u=0;r&&(u|=4),K_(o,i,u,r)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Am(i){if(!i[eh]){i[eh]=!0,fl.forEach(function(o){o!=="selectionchange"&&(DS.has(o)||wm(o,!1,i),wm(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[eh]||(r[eh]=!0,wm("selectionchange",!1,r))}}function K_(i,r,o,u){switch(g0(r)){case 2:var f=iR;break;case 8:f=rR;break;default:f=Lm}o=f.bind(null,r,o,i),f=void 0,!Hn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function Sm(i,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;_=_.return}for(;w!==null;){if(_=li(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=m=_;continue e}w=w.parentNode}}u=u.return}sc(function(){var j=m,X=Ha(o),re=[];e:{var $=Py.get(i);if($!==void 0){var Y=Ga,ye=i;switch(i){case"keypress":if(Ii(o)===0)break e;case"keydown":case"keyup":Y=Wa;break;case"focusin":ye="focus",Y=Qa;break;case"focusout":ye="blur",Y=Qa;break;case"beforeblur":case"afterblur":Y=Qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=dc;break;case Oy:case My:case ky:Y=Ya;break;case Vy:Y=pc;break;case"scroll":case"scrollend":Y=ac;break;case"wheel":Y=Za;break;case"copy":case"cut":case"paste":Y=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Al;break;case"toggle":case"beforetoggle":Y=yc}var Ie=(r&4)!==0,vt=!Ie&&(i==="scroll"||i==="scrollend"),B=Ie?$!==null?$+"Capture":null:$;Ie=[];for(var U=j,q;U!==null;){var J=U;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||B===null||(J=Gs(U,B),J!=null&&Ie.push(tu(U,J,q))),vt)break;U=U.return}0<Ie.length&&($=new Y($,ye,null,o,X),re.push({event:$,listeners:Ie}))}}if((r&7)===0){e:{if($=i==="mouseover"||i==="pointerover",Y=i==="mouseout"||i==="pointerout",$&&o!==qn&&(ye=o.relatedTarget||o.fromElement)&&(li(ye)||ye[Zi]))break e;if((Y||$)&&($=X.window===X?X:($=X.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(ye=o.relatedTarget||o.toElement,Y=j,ye=ye?li(ye):null,ye!==null&&(vt=he(ye),Ie=ye.tag,ye!==vt||Ie!==5&&Ie!==27&&Ie!==6)&&(ye=null)):(Y=null,ye=j),Y!==ye)){if(Ie=Gn,J="onMouseLeave",B="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=Al,J="onPointerLeave",B="onPointerEnter",U="pointer"),vt=Y==null?$:Kr(Y),q=ye==null?$:Kr(ye),$=new Ie(J,U+"leave",Y,o,X),$.target=vt,$.relatedTarget=q,J=null,li(X)===j&&(Ie=new Ie(B,U+"enter",ye,o,X),Ie.target=q,Ie.relatedTarget=vt,J=Ie),vt=J,Y&&ye)t:{for(Ie=Y,B=ye,U=0,q=Ie;q;q=bo(q))U++;for(q=0,J=B;J;J=bo(J))q++;for(;0<U-q;)Ie=bo(Ie),U--;for(;0<q-U;)B=bo(B),q--;for(;U--;){if(Ie===B||B!==null&&Ie===B.alternate)break t;Ie=bo(Ie),B=bo(B)}Ie=null}else Ie=null;Y!==null&&Q_(re,$,Y,Ie,!1),ye!==null&&vt!==null&&Q_(re,vt,ye,Ie,!0)}}e:{if($=j?Kr(j):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var ge=Ty;else if(Pt($))if(by)ge=qA;else{ge=BA;var Le=zA}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?j&&yl(j.elementType)&&(ge=Ty):ge=FA;if(ge&&(ge=ge(i,j))){ar(re,ge,o,X);break e}Le&&Le(i,$,j),i==="focusout"&&j&&$.type==="number"&&j.memoizedProps.value!=null&&qa($,"number",$.value)}switch(Le=j?Kr(j):window,i){case"focusin":(Pt(Le)||Le.contentEditable==="true")&&(Ja=Le,nd=j,Cl=null);break;case"focusout":Cl=nd=Ja=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Ny(re,o,X);break;case"selectionchange":if($A)break;case"keydown":case"keyup":Ny(re,o,X)}var _e;if(Di)e:{switch(i){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Fe?K(i,o)&&(we="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(v&&o.locale!=="ko"&&(Fe||we!=="onCompositionStart"?we==="onCompositionEnd"&&Fe&&(_e=_l()):(Ci=X,Jr="value"in Ci?Ci.value:Ci.textContent,Fe=!0)),Le=th(j,we),0<Le.length&&(we=new bl(we,i,null,o,X),re.push({event:we,listeners:Le}),_e?we.data=_e:(_e=ue(o),_e!==null&&(we.data=_e)))),(_e=y?Vt(i,o):qe(i,o))&&(we=th(j,"onBeforeInput"),0<we.length&&(Le=new bl("onBeforeInput","beforeinput",null,o,X),re.push({event:Le,listeners:we}),Le.data=_e)),IS(re,i,j,o,X)}$_(re,r)})}function tu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function th(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Gs(i,o),f!=null&&u.unshift(tu(i,f,m)),f=Gs(i,r),f!=null&&u.push(tu(i,f,m))),i=i.return}return u}function bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Q_(i,r,o,u,f){for(var m=r._reactName,_=[];o!==null&&o!==u;){var w=o,N=w.alternate,j=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||j===null||(N=j,f?(j=Gs(o,m),j!=null&&_.unshift(tu(o,j,N))):f||(j=Gs(o,m),j!=null&&_.push(tu(o,j,N)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var OS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function Y_(i){return(typeof i=="string"?i:""+i).replace(OS,`
`).replace(MS,"")}function X_(i,r){return r=Y_(r),Y_(i)===r}function nh(){}function Je(i,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Fn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Fn(i,""+u);break;case"className":Xr(i,"class",u);break;case"tabIndex":Xr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(i,o,u);break;case"style":rc(i,u,m);break;case"data":if(r!=="object"){Xr(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ri(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&Je(i,r,"name",f.name,f,null),Je(i,r,"formEncType",f.formEncType,f,null),Je(i,r,"formMethod",f.formMethod,f,null),Je(i,r,"formTarget",f.formTarget,f,null)):(Je(i,r,"encType",f.encType,f,null),Je(i,r,"method",f.method,f,null),Je(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ri(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=nh);break;case"onScroll":u!=null&&Be("scroll",i);break;case"onScrollEnd":u!=null&&Be("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ri(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Be("beforetoggle",i),Be("toggle",i),Yr(i,"popover",u);break;case"xlinkActuate":Bn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yf.get(o)||o,Yr(i,o,u))}}function Rm(i,r,o,u,f,m){switch(o){case"style":rc(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Fn(i,u):(typeof u=="number"||typeof u=="bigint")&&Fn(i,""+u);break;case"onScroll":u!=null&&Be("scroll",i);break;case"onScrollEnd":u!=null&&Be("scrollend",i);break;case"onClick":u!=null&&(i.onclick=nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=i[kt]||null,m=m!=null?m[o]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Yr(i,o,u)}}}function Jt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",i),Be("load",i);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(i,r,m,_,o,null)}}f&&Je(i,r,"srcSet",o.srcSet,o,null),u&&Je(i,r,"src",o.src,o,null);return;case"input":Be("invalid",i);var w=m=_=f=null,N=null,j=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":f=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":j=X;break;case"value":m=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Je(i,r,u,X,o,null)}}qs(i,m,w,N,j,_,f,!1),Fs(i);return;case"select":Be("invalid",i),u=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":u=w;default:Je(i,r,f,w,o,null)}r=m,o=_,i.multiple=!!u,r!=null?$e(i,!!u,r,!1):o!=null&&$e(i,!!u,o,!0);return;case"textarea":Be("invalid",i),m=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(w=o[_],w!=null))switch(_){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(i,r,_,w,o,null)}Zr(i,u,f,m),Fs(i);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Je(i,r,N,u,o,null)}return;case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":Be("load",i);break;case"video":case"audio":for(u=0;u<eu.length;u++)Be(eu[u],i);break;case"image":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"embed":case"source":case"link":Be("error",i),Be("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(i,r,j,u,o,null)}return;default:if(yl(r)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&Rm(i,r,X,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Je(i,r,w,u,o,null))}function kS(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,w=null,N=null,j=null,X=null;for(Y in o){var re=o[Y];if(o.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=re;default:u.hasOwnProperty(Y)||Je(i,r,Y,null,u,re)}}for(var $ in u){var Y=u[$];if(re=o[$],u.hasOwnProperty($)&&(Y!=null||re!=null))switch($){case"type":m=Y;break;case"name":f=Y;break;case"checked":j=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==re&&Je(i,r,$,Y,u,re)}}Wr(i,_,w,N,j,X,m,f);return;case"select":Y=_=w=$=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Y=N;default:u.hasOwnProperty(m)||Je(i,r,m,null,u,N)}for(f in u)if(m=u[f],N=o[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":$=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==N&&Je(i,r,f,m,u,N)}r=w,o=_,u=Y,$!=null?$e(i,!!o,$,!1):!!u!=!!o&&(r!=null?$e(i,!!o,r,!0):$e(i,!!o,o?[]:"",!1));return;case"textarea":Y=$=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(i,r,w,null,u,f)}for(_ in u)if(f=u[_],m=o[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":$=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Je(i,r,_,f,u,m)}Hs(i,$,Y);return;case"option":for(var ye in o)if($=o[ye],o.hasOwnProperty(ye)&&$!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:Je(i,r,ye,null,u,$)}for(N in u)if($=u[N],Y=o[N],u.hasOwnProperty(N)&&$!==Y&&($!=null||Y!=null))switch(N){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Je(i,r,N,$,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)$=o[Ie],o.hasOwnProperty(Ie)&&$!=null&&!u.hasOwnProperty(Ie)&&Je(i,r,Ie,null,u,$);for(j in u)if($=u[j],Y=o[j],u.hasOwnProperty(j)&&$!==Y&&($!=null||Y!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Je(i,r,j,$,u,Y)}return;default:if(yl(r)){for(var vt in o)$=o[vt],o.hasOwnProperty(vt)&&$!==void 0&&!u.hasOwnProperty(vt)&&Rm(i,r,vt,void 0,u,$);for(X in u)$=u[X],Y=o[X],!u.hasOwnProperty(X)||$===Y||$===void 0&&Y===void 0||Rm(i,r,X,$,u,Y);return}}for(var B in o)$=o[B],o.hasOwnProperty(B)&&$!=null&&!u.hasOwnProperty(B)&&Je(i,r,B,null,u,$);for(re in u)$=u[re],Y=o[re],!u.hasOwnProperty(re)||$===Y||$==null&&Y==null||Je(i,r,re,$,u,Y)}var Cm=null,Im=null;function ih(i){return i.nodeType===9?i:i.ownerDocument}function W_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function xm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Nm=null;function VS(){var i=window.event;return i&&i.type==="popstate"?i===Nm?!1:(Nm=i,!0):(Nm=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(i){return e0.resolve(null).then(i).catch(US)}:J_;function US(i){setTimeout(function(){throw i})}function Dm(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){i.removeChild(f),uu(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);uu(r)}function Om(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Om(o),Bs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function jS(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[$r])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=fi(i.nextSibling),i===null)break}return null}function zS(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=fi(i.nextSibling),i===null))return null;return i}function fi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function t0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function n0(i,r,o){switch(r=ih(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var ti=new Map,i0=new Set;function rh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Tr=le.d;le.d={f:BS,r:FS,D:qS,C:HS,L:GS,m:$S,X:QS,S:KS,M:YS};function BS(){var i=Tr.f(),r=Xc();return i||r}function FS(i){var r=Ji(i);r!==null&&r.tag===5&&r.type==="form"?Nv(r):Tr.r(i)}var wo=typeof document>"u"?null:document;function r0(i,r,o){var u=wo;if(u&&typeof r=="string"&&r){var f=pt(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),i0.has(f)||(i0.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Jt(r,"link",i),ht(r),u.head.appendChild(r)))}}function qS(i){Tr.D(i),r0("dns-prefetch",i,null)}function HS(i,r){Tr.C(i,r),r0("preconnect",i,r)}function GS(i,r,o){Tr.L(i,r,o);var u=wo;if(u&&i&&r){var f='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pt(o.imageSizes)+'"]')):f+='[href="'+pt(i)+'"]';var m=f;switch(r){case"style":m=Ao(i);break;case"script":m=So(i)}ti.has(m)||(i=D({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(m,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(nu(m))||r==="script"&&u.querySelector(iu(m))||(r=u.createElement("link"),Jt(r,"link",i),ht(r),u.head.appendChild(r)))}}function $S(i,r){Tr.m(i,r);var o=wo;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pt(u)+'"][href="'+pt(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=So(i)}if(!ti.has(m)&&(i=D({rel:"modulepreload",href:i},r),ti.set(m,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(iu(m)))return}u=o.createElement("link"),Jt(u,"link",i),ht(u),o.head.appendChild(u)}}}function KS(i,r,o){Tr.S(i,r,o);var u=wo;if(u&&i){var f=Qr(u).hoistableStyles,m=Ao(i);r=r||"default";var _=f.get(m);if(!_){var w={loading:0,preload:null};if(_=u.querySelector(nu(m)))w.loading=5;else{i=D({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(m))&&Mm(i,o);var N=_=u.createElement("link");ht(N),Jt(N,"link",i),N._p=new Promise(function(j,X){N.onload=j,N.onerror=X}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,sh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(m,_)}}}function QS(i,r){Tr.X(i,r);var o=wo;if(o&&i){var u=Qr(o).hoistableScripts,f=So(i),m=u.get(f);m||(m=o.querySelector(iu(f)),m||(i=D({src:i,async:!0},r),(r=ti.get(f))&&km(i,r),m=o.createElement("script"),ht(m),Jt(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function YS(i,r){Tr.M(i,r);var o=wo;if(o&&i){var u=Qr(o).hoistableScripts,f=So(i),m=u.get(f);m||(m=o.querySelector(iu(f)),m||(i=D({src:i,async:!0,type:"module"},r),(r=ti.get(f))&&km(i,r),m=o.createElement("script"),ht(m),Jt(m,"link",i),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function s0(i,r,o,u){var f=(f=Tt.current)?rh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ao(o.href),o=Qr(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ao(o.href);var m=Qr(f).hoistableStyles,_=m.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,_),(m=f.querySelector(nu(i)))&&!m._p&&(_.instance=m,_.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),m||XS(f,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=So(o),o=Qr(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ao(i){return'href="'+pt(i)+'"'}function nu(i){return'link[rel="stylesheet"]['+i+"]"}function a0(i){return D({},i,{"data-precedence":i.precedence,precedence:null})}function XS(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jt(r,"link",o),ht(r),i.head.appendChild(r))}function So(i){return'[src="'+pt(i)+'"]'}function iu(i){return"script[async]"+i}function o0(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+pt(o.href)+'"]');if(u)return r.instance=u,ht(u),u;var f=D({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ht(u),Jt(u,"style",f),sh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Ao(o.href);var m=i.querySelector(nu(f));if(m)return r.state.loading|=4,r.instance=m,ht(m),m;u=a0(o),(f=ti.get(f))&&Mm(u,f),m=(i.ownerDocument||i).createElement("link"),ht(m);var _=m;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Jt(m,"link",u),r.state.loading|=4,sh(m,o.precedence,i),r.instance=m;case"script":return m=So(o.src),(f=i.querySelector(iu(m)))?(r.instance=f,ht(f),f):(u=o,(f=ti.get(m))&&(u=D({},o),km(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),ht(f),Jt(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,sh(u,o.precedence,i));return r.instance}function sh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var w=u[_];if(w.dataset.precedence===r)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Mm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function km(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ah=null;function l0(i,r,o){if(ah===null){var u=new Map,f=ah=new Map;f.set(o,u)}else f=ah,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var m=o[f];if(!(m[$r]||m[qt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=i+_;var w=u.get(_);w?w.push(m):u.set(_,[m])}}return u}function u0(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function WS(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function c0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ru=null;function ZS(){}function JS(i,r,o){if(ru===null)throw Error(s(475));var u=ru;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ao(o.href),m=i.querySelector(nu(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=oh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=m,ht(m);return}m=i.ownerDocument||i,o=a0(o),(f=ti.get(f))&&Mm(o,f),m=m.createElement("link"),ht(m);var _=m;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),Jt(m,"link",o),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=oh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function eR(){if(ru===null)throw Error(s(475));var i=ru;return i.stylesheets&&i.count===0&&Vm(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Vm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function oh(){if(this.count--,this.count===0){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var lh=null;function Vm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,lh=new Map,r.forEach(tR,i),lh=null,oh.call(i))}function tR(i,r){if(!(r.state.loading&4)){var o=lh.get(i);if(o)var u=o.get(null);else{o=new Map,lh.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,f),o.set(_,f),this.count++,u=oh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var su={$$typeof:I,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function nR(i,r,o,u,f,m,_,w){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function h0(i,r,o,u,f,m,_,w,N,j,X,re){return i=new nR(i,r,o,_,w,N,j,re),r=1,m===!0&&(r|=24),m=Jn(3,null,null,r),i.current=m,m.stateNode=i,r=dd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},Kd(m),i}function f0(i){return i?(i=no,i):no}function d0(i,r,o,u,f,m){f=f0(f),u.context===null?u.context=f:u.pendingContext=f,u=os(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ls(i,u,r),o!==null&&(yn(o,i,r),Fl(o,i,r))}function m0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Pm(i,r){m0(i,r),(i=i.alternate)&&m0(i,r)}function p0(i){if(i.tag===13){var r=es(i,67108864);r!==null&&yn(r,i,67108864),Pm(i,67108864)}}var uh=!0;function iR(i,r,o,u){var f=R.T;R.T=null;var m=le.p;try{le.p=2,Lm(i,r,o,u)}finally{le.p=m,R.T=f}}function rR(i,r,o,u){var f=R.T;R.T=null;var m=le.p;try{le.p=8,Lm(i,r,o,u)}finally{le.p=m,R.T=f}}function Lm(i,r,o,u){if(uh){var f=Um(u);if(f===null)Sm(i,r,u,ch,o),y0(i,u);else if(aR(f,i,r,o,u))u.stopPropagation();else if(y0(i,u),r&4&&-1<sR.indexOf(i)){for(;f!==null;){var m=Ji(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=oi(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-dn(_);w.entanglements[1]|=N,_&=~N}Li(m),(dt&6)===0&&(Kc=Mt()+500,Jl(0))}}break;case 13:w=es(m,2),w!==null&&yn(w,m,2),Xc(),Pm(m,2)}if(m=Um(u),m===null&&Sm(i,r,u,ch,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Sm(i,r,u,null,o)}}function Um(i){return i=Ha(i),jm(i)}var ch=null;function jm(i){if(ch=null,i=li(i),i!==null){var r=he(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=De(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ch=i,null}function g0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case Te:return 2;case tt:return 8;case Tn:case Wi:return 32;case jn:return 268435456;default:return 32}default:return 32}}var zm=!1,ps=null,gs=null,ys=null,au=new Map,ou=new Map,vs=[],sR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(i,r){switch(i){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":au.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(r.pointerId)}}function lu(i,r,o,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ji(r),r!==null&&p0(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function aR(i,r,o,u,f){switch(r){case"focusin":return ps=lu(ps,i,r,o,u,f),!0;case"dragenter":return gs=lu(gs,i,r,o,u,f),!0;case"mouseover":return ys=lu(ys,i,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return au.set(m,lu(au.get(m)||null,i,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ou.set(m,lu(ou.get(m)||null,i,r,o,u,f)),!0}return!1}function v0(i){var r=li(i.target);if(r!==null){var o=he(r);if(o!==null){if(r=o.tag,r===13){if(r=De(o),r!==null){i.blockedOn=r,Gr(i.priority,function(){if(o.tag===13){var u=Vn(),f=es(o,u);f!==null&&yn(f,o,u),Pm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function hh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Um(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);qn=u,o.target.dispatchEvent(u),qn=null}else return r=Ji(o),r!==null&&p0(r),i.blockedOn=o,!1;r.shift()}return!0}function _0(i,r,o){hh(i)&&o.delete(r)}function oR(){zm=!1,ps!==null&&hh(ps)&&(ps=null),gs!==null&&hh(gs)&&(gs=null),ys!==null&&hh(ys)&&(ys=null),au.forEach(_0),ou.forEach(_0)}function fh(i,r){i.blockedOn===r&&(i.blockedOn=null,zm||(zm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oR)))}var dh=null;function E0(i){dh!==i&&(dh=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){dh===i&&(dh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if(jm(u||o)===null)continue;break}var m=Ji(o);m!==null&&(i.splice(r,3),r-=3,xd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function uu(i){function r(N){return fh(N,i)}ps!==null&&fh(ps,i),gs!==null&&fh(gs,i),ys!==null&&fh(ys,i),au.forEach(r),ou.forEach(r);for(var o=0;o<vs.length;o++){var u=vs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<vs.length&&(o=vs[0],o.blockedOn===null);)v0(o),o.blockedOn===null&&vs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],_=f[kt]||null;if(typeof m=="function")_||E0(o);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[kt]||null)w=_.formAction;else if(jm(f)!==null)continue}else w=_.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),E0(o)}}}function Bm(i){this._internalRoot=i}mh.prototype.render=Bm.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Vn();d0(o,u,i,r,null,null)},mh.prototype.unmount=Bm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&Eo(),d0(i.current,2,null,i,null,null),Xc(),r[Zi]=null}};function mh(i){this._internalRoot=i}mh.prototype.unstable_scheduleHydration=function(i){if(i){var r=tc();i={blockedOn:null,target:i,priority:r};for(var o=0;o<vs.length&&r!==0&&r<vs[o].priority;o++);vs.splice(o,0,i),o===0&&v0(i)}};var T0=e.version;if(T0!=="19.0.0")throw Error(s(527,T0,"19.0.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=ie(r),i=i!==null?fe(i):null,i=i===null?null:i.stateNode,i};var lR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:li,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{jr=ph.inject(lR),sn=ph}catch{}}return hu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=Uv,m=jv,_=zv,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=h0(i,1,!1,null,null,o,u,f,m,_,w,null),i[Zi]=r.current,Am(i.nodeType===8?i.parentNode:i),new Bm(r)},hu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",m=Uv,_=jv,w=zv,N=null,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(j=o.formState)),r=h0(i,1,!0,r,o??null,u,f,m,_,w,N,j),r.context=f0(null),o=r.current,u=Vn(),f=os(u),f.callback=null,ls(o,f,u),r.current.lanes=u,bt(r,u),Li(r),i[Zi]=r.current,Am(i),new mh(r)},hu.version="19.0.0",hu}var D0;function yR(){if(D0)return Hm.exports;D0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hm.exports=gR(),Hm.exports}var vR=yR();const _R=Qo(vR);var fu={},O0;function ER(){if(O0)return fu;O0=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.parse=c,fu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function c(A,I){const M=new l,G=A.length;if(G<2)return M;const P=(I==null?void 0:I.decode)||E;let H=0;do{const Z=A.indexOf("=",H);if(Z===-1)break;const Q=A.indexOf(";",H),ae=Q===-1?G:Q;if(Z>ae){H=A.lastIndexOf(";",Z-1)+1;continue}const W=d(A,H,Z),se=p(A,Z,W),k=A.slice(W,se);if(M[k]===void 0){let x=d(A,Z+1,ae),R=p(A,ae,x);const D=P(A.slice(x,R));M[k]=D}H=ae+1}while(H<G);return M}function d(A,I,M){do{const G=A.charCodeAt(I);if(G!==32&&G!==9)return I}while(++I<M);return M}function p(A,I,M){for(;I>M;){const G=A.charCodeAt(--I);if(G!==32&&G!==9)return I+1}return M}function g(A,I,M){const G=(M==null?void 0:M.encode)||encodeURIComponent;if(!n.test(A))throw new TypeError(`argument name is invalid: ${A}`);const P=G(I);if(!e.test(P))throw new TypeError(`argument val is invalid: ${I}`);let H=A+"="+P;if(!M)return H;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);H+="; Max-Age="+M.maxAge}if(M.domain){if(!t.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);H+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);H+="; Path="+M.path}if(M.expires){if(!b(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);H+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(H+="; HttpOnly"),M.secure&&(H+="; Secure"),M.partitioned&&(H+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return H}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return a.call(A)==="[object Date]"}return fu}ER();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M0="popstate";function TR(n={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return bp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Ru(a)}return wR(e,t,null,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bR(){return Math.random().toString(36).substring(2,10)}function k0(n,e){return{usr:n.state,key:n.key,idx:e}}function bp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:t,key:e&&e.key||s||bR()}}function Ru({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Yo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function wR(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,g=E();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function E(){return(c.state||{idx:null}).idx}function b(){d="POP";let P=E(),H=P==null?null:P-g;g=P,p&&p({action:d,location:G.location,delta:H})}function A(P,H){d="PUSH";let Z=bp(G.location,P,H);g=E()+1;let Q=k0(Z,g),ae=G.createHref(Z);try{c.pushState(Q,"",ae)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(ae)}l&&p&&p({action:d,location:G.location,delta:1})}function I(P,H){d="REPLACE";let Z=bp(G.location,P,H);g=E();let Q=k0(Z,g),ae=G.createHref(Z);c.replaceState(Q,"",ae),l&&p&&p({action:d,location:G.location,delta:0})}function M(P){let H=a.location.origin!=="null"?a.location.origin:a.location.href,Z=typeof P=="string"?P:Ru(P);return Z=Z.replace(/ $/,"%20"),lt(H,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,H)}let G={get action(){return d},get location(){return n(a,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(M0,b),p=P,()=>{a.removeEventListener(M0,b),p=null}},createHref(P){return e(a,P)},createURL:M,encodeLocation(P){let H=M(P);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:A,replace:I,go(P){return c.go(P)}};return G}function GT(n,e,t="/"){return AR(n,e,t,!1)}function AR(n,e,t,s){let a=typeof e=="string"?Yo(e):e,l=Ir(a.pathname||"/",t);if(l==null)return null;let c=$T(n);SR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=PR(l);d=kR(c[p],g,s)}return d}function $T(n,e=[],t=[],s=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Sr([s,p.relativePath]),E=t.concat(p);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),$T(l.children,e,E,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:OR(g,l.index),routesMeta:E})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of KT(l.path))a(l,c,p)}),e}function KT(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=KT(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function SR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:MR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var RR=/^:[\w-]+$/,CR=3,IR=2,xR=1,NR=10,DR=-2,V0=n=>n==="*";function OR(n,e){let t=n.split("/"),s=t.length;return t.some(V0)&&(s+=DR),e&&(s+=IR),t.filter(a=>!V0(a)).reduce((a,l)=>a+(RR.test(l)?CR:l===""?xR:NR),s)}function MR(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function kR(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=l==="/"?e:e.slice(l.length)||"/",b=Uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=Uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Sr([l,b.pathname]),pathnameBase:zR(Sr([l,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(l=Sr([l,b.pathnameBase]))}return c}function Uh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=VR(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},A)=>{if(E==="*"){let M=d[A]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const I=d[A];return b&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function VR(n,e=!1,t=!0){gi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function PR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ir(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function LR(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?Yo(n):n;return{pathname:t?t.startsWith("/")?t:UR(t,e):e,search:BR(s),hash:FR(a)}}function UR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Qm(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ig(n){let e=jR(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function rg(n,e,t,s=!1){let a;typeof n=="string"?a=Yo(n):(a={...n},lt(!a.pathname||!a.pathname.includes("?"),Qm("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),Qm("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),Qm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),b-=1;a.pathname=A.join("/")}d=b>=0?e[b]:"/"}let p=LR(a,d),g=c&&c!=="/"&&c.endsWith("/"),E=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Sr=n=>n.join("/").replace(/\/\/+/g,"/"),zR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),BR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var QT=["POST","PUT","PATCH","DELETE"];new Set(QT);var HR=["GET",...QT];new Set(HR);var Xo=C.createContext(null);Xo.displayName="DataRouter";var pf=C.createContext(null);pf.displayName="DataRouterState";var YT=C.createContext({isTransitioning:!1});YT.displayName="ViewTransition";var GR=C.createContext(new Map);GR.displayName="Fetchers";var $R=C.createContext(null);$R.displayName="Await";var _i=C.createContext(null);_i.displayName="Navigation";var Lu=C.createContext(null);Lu.displayName="Location";var Qi=C.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var sg=C.createContext(null);sg.displayName="RouteError";function KR(n,{relative:e}={}){lt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=C.useContext(_i),{hash:a,pathname:l,search:c}=Uu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Sr([t,l])),s.createHref({pathname:d,search:c,hash:a})}function Wo(){return C.useContext(Lu)!=null}function Pr(){return lt(Wo(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Lu).location}var XT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WT(n){C.useContext(_i).static||C.useLayoutEffect(n)}function Oa(){let{isDataRoute:n}=C.useContext(Qi);return n?a2():QR()}function QR(){lt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Xo),{basename:e,navigator:t}=C.useContext(_i),{matches:s}=C.useContext(Qi),{pathname:a}=Pr(),l=JSON.stringify(ig(s)),c=C.useRef(!1);return WT(()=>{c.current=!0}),C.useCallback((p,g={})=>{if(gi(c.current,XT),!c.current)return;if(typeof p=="number"){t.go(p);return}let E=rg(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Sr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,a,n])}C.createContext(null);function Uu(n,{relative:e}={}){let{matches:t}=C.useContext(Qi),{pathname:s}=Pr(),a=JSON.stringify(ig(t));return C.useMemo(()=>rg(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function YR(n,e){return ZT(n,e)}function ZT(n,e,t,s){var Z;lt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=C.useContext(_i),{matches:c}=C.useContext(Qi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",b=d&&d.route;{let Q=b&&b.path||"";JT(g,!b||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let A=Pr(),I;if(e){let Q=typeof e=="string"?Yo(e):e;lt(E==="/"||((Z=Q.pathname)==null?void 0:Z.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),I=Q}else I=A;let M=I.pathname||"/",G=M;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");G="/"+M.replace(/^\//,"").split("/").slice(Q.length).join("/")}let P=!l&&t&&t.matches&&t.matches.length>0?t.matches:GT(n,{pathname:G});gi(b||P!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),gi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=e2(P&&P.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:Sr([E,a.encodeLocation?a.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:Sr([E,a.encodeLocation?a.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,t,s);return e&&H?C.createElement(Lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},H):H}function XR(){let n=s2(),e=qR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:a},t):null,c)}var WR=C.createElement(XR,null),ZR=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Qi.Provider,{value:this.props.routeContext},C.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JR({routeContext:n,match:e,children:t}){let s=C.useContext(Xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Qi.Provider,{value:n},t)}function e2(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:b}=t,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||A){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,E)=>{let b,A=!1,I=null,M=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,I=g.route.errorElement||WR,c&&(d<0&&E===0?(JT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,M=null):d===E&&(A=!0,M=g.route.hydrateFallbackElement||null)));let G=e.concat(a.slice(0,E+1)),P=()=>{let H;return b?H=I:A?H=M:g.route.Component?H=C.createElement(g.route.Component,null):g.route.element?H=g.route.element:H=p,C.createElement(JR,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:t!=null},children:H})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?C.createElement(ZR,{location:t.location,revalidation:t.revalidation,component:I,error:b,children:P(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):P()},null)}function ag(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t2(n){let e=C.useContext(Xo);return lt(e,ag(n)),e}function n2(n){let e=C.useContext(pf);return lt(e,ag(n)),e}function i2(n){let e=C.useContext(Qi);return lt(e,ag(n)),e}function og(n){let e=i2(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function r2(){return og("useRouteId")}function s2(){var s;let n=C.useContext(sg),e=n2("useRouteError"),t=og("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function a2(){let{router:n}=t2("useNavigate"),e=og("useNavigate"),t=C.useRef(!1);return WT(()=>{t.current=!0}),C.useCallback(async(a,l={})=>{gi(t.current,XT),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var P0={};function JT(n,e,t){!e&&!P0[n]&&(P0[n]=!0,gi(!1,t))}C.memo(o2);function o2({routes:n,future:e,state:t}){return ZT(n,void 0,t,e)}function l2({to:n,replace:e,state:t,relative:s}){lt(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(_i);gi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(Qi),{pathname:c}=Pr(),d=Oa(),p=rg(n,ig(l),c,s==="path"),g=JSON.stringify(p);return C.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function mu(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u2({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){lt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Yo(t));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:A="default"}=t,I=C.useMemo(()=>{let M=Ir(p,c);return M==null?null:{location:{pathname:M,search:g,hash:E,state:b,key:A},navigationType:s}},[c,p,g,E,b,A,s]);return gi(I!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:C.createElement(_i.Provider,{value:d},C.createElement(Lu.Provider,{children:e,value:I}))}function c2({children:n,location:e}){return YR(wp(n),e)}function wp(n,e=[]){let t=[];return C.Children.forEach(n,(s,a)=>{if(!C.isValidElement(s))return;let l=[...e,a];if(s.type===C.Fragment){t.push.apply(t,wp(s.props.children,l));return}lt(s.type===mu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=wp(s.props.children,l)),t.push(c)}),t}var Rh="get",Ch="application/x-www-form-urlencoded";function gf(n){return n!=null&&typeof n.tagName=="string"}function h2(n){return gf(n)&&n.tagName.toLowerCase()==="button"}function f2(n){return gf(n)&&n.tagName.toLowerCase()==="form"}function d2(n){return gf(n)&&n.tagName.toLowerCase()==="input"}function m2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function p2(n,e){return n.button===0&&(!e||e==="_self")&&!m2(n)}var gh=null;function g2(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var y2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(n){return n!=null&&!y2.has(n)?(gi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ch}"`),null):n}function v2(n,e){let t,s,a,l,c;if(f2(n)){let d=n.getAttribute("action");s=d?Ir(d,e):null,t=n.getAttribute("method")||Rh,a=Ym(n.getAttribute("enctype"))||Ch,l=new FormData(n)}else if(h2(n)||d2(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(s=p?Ir(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Rh,a=Ym(n.getAttribute("formenctype"))||Ym(d.getAttribute("enctype"))||Ch,l=new FormData(d,n),!g2()){let{name:g,type:E,value:b}=n;if(E==="image"){let A=g?`${g}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else g&&l.append(g,b)}}else{if(gf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Rh,s=null,a=Ch,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}function lg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function _2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function T2(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await _2(l,t);return c.links?c.links():[]}return[]}));return S2(s.flat(1).filter(E2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function L0(n,e,t,s,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function b2(n,e,{includeHydrateFallback:t}={}){return w2(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function w2(n){return[...new Set(n)]}function A2(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function S2(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(A2(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function R2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ir(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function e1(){let n=C.useContext(Xo);return lg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function C2(){let n=C.useContext(pf);return lg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ug=C.createContext(void 0);ug.displayName="FrameworkContext";function t1(){let n=C.useContext(ug);return lg(n,"You must render this element inside a <HydratedRouter> element"),n}function I2(n,e){let t=C.useContext(ug),[s,a]=C.useState(!1),[l,c]=C.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,A=C.useRef(null);C.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let G=H=>{H.forEach(Z=>{c(Z.isIntersecting)})},P=new IntersectionObserver(G,{threshold:.5});return A.current&&P.observe(A.current),()=>{P.disconnect()}}},[n]),C.useEffect(()=>{if(s){let G=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(G)}}},[s]);let I=()=>{a(!0)},M=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,A,{}]:[l,A,{onFocus:du(d,I),onBlur:du(p,M),onMouseEnter:du(g,I),onMouseLeave:du(E,M),onTouchStart:du(b,I)}]:[!1,A,{}]}function du(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function x2({page:n,...e}){let{router:t}=e1(),s=C.useMemo(()=>GT(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?C.createElement(D2,{page:n,matches:s,...e}):null}function N2(n){let{manifest:e,routeModules:t}=t1(),[s,a]=C.useState([]);return C.useEffect(()=>{let l=!1;return T2(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),s}function D2({page:n,matches:e,...t}){let s=Pr(),{manifest:a,routeModules:l}=t1(),{basename:c}=e1(),{loaderData:d,matches:p}=C2(),g=C.useMemo(()=>L0(n,e,p,a,s,"data"),[n,e,p,a,s]),E=C.useMemo(()=>L0(n,e,p,a,s,"assets"),[n,e,p,a,s]),b=C.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let M=new Set,G=!1;if(e.forEach(H=>{var Q;let Z=a.routes[H.route.id];!Z||!Z.hasLoader||(!g.some(ae=>ae.route.id===H.route.id)&&H.route.id in d&&((Q=l[H.route.id])!=null&&Q.shouldRevalidate)||Z.hasClientLoader?G=!0:M.add(H.route.id))}),M.size===0)return[];let P=R2(n,c);return G&&M.size>0&&P.searchParams.set("_routes",e.filter(H=>M.has(H.route.id)).map(H=>H.route.id).join(",")),[P.pathname+P.search]},[c,d,s,a,g,e,n,l]),A=C.useMemo(()=>b2(E,a),[E,a]),I=N2(E);return C.createElement(C.Fragment,null,b.map(M=>C.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),A.map(M=>C.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),I.map(({key:M,link:G})=>C.createElement("link",{key:M,...G})))}function O2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var n1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n1&&(window.__reactRouterVersion="7.5.0")}catch{}function M2({basename:n,children:e,window:t}){let s=C.useRef();s.current==null&&(s.current=TR({window:t,v5Compat:!0}));let a=s.current,[l,c]=C.useState({action:a.action,location:a.location}),d=C.useCallback(p=>{C.startTransition(()=>c(p))},[c]);return C.useLayoutEffect(()=>a.listen(d),[a,d]),C.createElement(u2,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r1=C.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:E,viewTransition:b,...A},I){let{basename:M}=C.useContext(_i),G=typeof g=="string"&&i1.test(g),P,H=!1;if(typeof g=="string"&&G&&(P=g,n1))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),L=Ir(D.pathname,M);D.origin===R.origin&&L!=null?g=L+D.search+D.hash:H=!0}catch{gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=KR(g,{relative:a}),[Q,ae,W]=I2(s,A),se=L2(g,{replace:c,state:d,target:p,preventScrollReset:E,relative:a,viewTransition:b});function k(R){e&&e(R),R.defaultPrevented||se(R)}let x=C.createElement("a",{...A,...W,href:P||Z,onClick:H||l?e:k,ref:O2(I,ae),target:p,"data-discover":!G&&t==="render"?"true":void 0});return Q&&!G?C.createElement(C.Fragment,null,x,C.createElement(x2,{page:Z})):x});r1.displayName="Link";var k2=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},E){let b=Uu(c,{relative:g.relative}),A=Pr(),I=C.useContext(pf),{navigator:M,basename:G}=C.useContext(_i),P=I!=null&&F2(b)&&d===!0,H=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,Z=A.pathname,Q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),Q=Q?Q.toLowerCase():null,H=H.toLowerCase()),Q&&G&&(Q=Ir(Q,G)||Q);const ae=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let W=Z===H||!a&&Z.startsWith(H)&&Z.charAt(ae)==="/",se=Q!=null&&(Q===H||!a&&Q.startsWith(H)&&Q.charAt(H.length)==="/"),k={isActive:W,isPending:se,isTransitioning:P},x=W?e:void 0,R;typeof s=="function"?R=s(k):R=[s,W?"active":null,se?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(k):l;return C.createElement(r1,{...g,"aria-current":x,className:R,ref:E,style:D,to:c,viewTransition:d},typeof p=="function"?p(k):p)});k2.displayName="NavLink";var V2=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=Rh,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...A},I)=>{let M=z2(),G=B2(d,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&i1.test(d),Z=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ae=Q.nativeEvent.submitter,W=(ae==null?void 0:ae.getAttribute("formmethod"))||c;M(ae||Q.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:a,state:l,relative:g,preventScrollReset:E,viewTransition:b})};return C.createElement("form",{ref:I,method:P,action:G,onSubmit:s?p:Z,...A,"data-discover":!H&&n==="render"?"true":void 0})});V2.displayName="Form";function P2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(n){let e=C.useContext(Xo);return lt(e,P2(n)),e}function L2(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Oa(),p=Pr(),g=Uu(n,{relative:l});return C.useCallback(E=>{if(p2(E,e)){E.preventDefault();let b=t!==void 0?t:Ru(p)===Ru(g);d(n,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,s,e,n,a,l,c])}var U2=0,j2=()=>`__${String(++U2)}__`;function z2(){let{router:n}=s1("useSubmit"),{basename:e}=C.useContext(_i),t=r2();return C.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=v2(s,e);if(a.navigate===!1){let E=a.fetcherKey||j2();await n.fetch(E,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function B2(n,{relative:e}={}){let{basename:t}=C.useContext(_i),s=C.useContext(Qi);lt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Uu(n||".",{relative:e})},c=Pr();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let E=d.toString();l.search=E?`?${E}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Sr([t,l.pathname])),Ru(l)}function F2(n,e={}){let t=C.useContext(YT);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s1("useViewTransitionState"),a=Uu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ir(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Ir(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Uh(a.pathname,c)!=null||Uh(a.pathname,l)!=null}new TextEncoder;var q2=HT();const ko=Qo(q2);var Xm={},U0;function H2(){return U0||(U0=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=mf();function t(c){if(c&&c.__esModule)return c;var d=Object.create(null);return c&&Object.keys(c).forEach(function(p){if(p!=="default"){var g=Object.getOwnPropertyDescriptor(c,p);Object.defineProperty(d,p,g.get?g:{enumerable:!0,get:function(){return c[p]}})}}),d.default=c,Object.freeze(d)}var s=t(e);/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var a=function(){return a=Object.assign||function(d){for(var p,g=1,E=arguments.length;g<E;g++){p=arguments[g];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(d[b]=p[b])}return d},a.apply(this,arguments)},l=function(c){var d=c.bgColor,p=d===void 0?"#6a1b9a":d,g=c.height,E=g===void 0?"20px":g,b=c.width,A=b===void 0?"100%":b,I=c.borderRadius,M=I===void 0?"50px":I,G=c.labelAlignment,P=G===void 0?"right":G,H=c.baseBgColor,Z=H===void 0?"#e0e0de":H,Q=c.labelColor,ae=Q===void 0?"#fff":Q,W=c.labelSize,se=W===void 0?"15px":W,k=c.isLabelVisible,x=k===void 0?!0:k,R=c.dir,D=R===void 0?"ltr":R,L=c.ariaValuemin,z=L===void 0?0:L,O=c.ariaValuemax,ce=O===void 0?100:O,ve=c.ariaValuetext,ne=ve===void 0?null:ve,pe=c.maxCompleted,he=pe===void 0?100:pe,De=c.animateOnRender,V=De===void 0?!1:De,ie=c.initCompletedOnAnimation,fe=ie===void 0?0:ie,oe=c.isIndeterminate,le=oe===void 0?!1:oe,be=c.completed,Se=c.margin,et=c.padding,ke=c.customLabelStyles,Ye=c.transitionDuration,Ve=c.transitionTimingFunction,ct=c.className,Ot=c.customLabel,Tt=c.barContainerClassName,Ft=c.completedClassName,Pe=c.labelClassName,rn=function(jn){return jn==="left"?"flex-start":jn==="center"?"center":jn==="right"?"flex-end":null},En=rn(P),si=typeof fe=="number"?"".concat(fe,"%"):fe,Ei=function(jn,ol){if(jn){var Ti=Number(ol)/jn;return Ti>1?"100%":"".concat(Ti*100,"%")}return si},In=Ei(he,be),ai=s.useState(si),js=ai[0],Xi=ai[1],Mt={height:E,background:Z,borderRadius:M,padding:et,width:A,margin:Se,overflow:"hidden"},Ur={height:E,width:le?"100%":V?js:In,background:p,transition:le?"none":"width ".concat(Ye||"1s"," ").concat(Ve||"ease-in-out"),borderRadius:"inherit",display:"flex",alignItems:"center",justifyContent:P!=="outside"&&En?En:"normal",animation:le?"indeterminate 1.5s infinite linear":"none"},Te=a({padding:P==="outside"?"0 0 0 5px":"5px",color:ae,fontWeight:"bold",fontSize:se,display:x?"initial":"none"},ke),tt={display:P==="outside"?"flex":"initial",alignItems:P==="outside"?"center":"initial"},Tn=typeof be=="number"?"".concat(be,"%"):"".concat(be),Wi=Ot||Tn;return s.useEffect(function(){V&&!le&&requestAnimationFrame(function(){return Xi(In)})},[In,V,le]),s.createElement("div",{style:ct?void 0:tt,className:ct,dir:D,role:"progressbar","aria-valuenow":le?void 0:parseFloat(Wi),"aria-valuemin":z,"aria-valuemax":ce,"aria-valuetext":"".concat(ne===null?Wi:ne)},s.createElement("div",{style:Tt?void 0:Mt,className:Tt},s.createElement("div",{style:Ft?void 0:Ur,className:Ft},P!=="outside"&&s.createElement("span",{style:Pe?void 0:Te,className:Pe},Wi))),P==="outside"&&s.createElement("span",{style:Pe?void 0:Te,className:Pe},Wi),s.createElement("style",null,`
          @keyframes indeterminate {
            0% {
              width: 30%;
              transform: translateX(-50%);
            }
            50% {
              width: 30%;
              transform: translateX(250%);
            }
            100% {
              width: 30%;
              transform: translateX(-50%);
            }
          }
        `))};n.default=l}(Xm)),Xm}var G2=H2();const Ro=Qo(G2);var a1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j0=vn.createContext&&vn.createContext(a1),$2=["attr","size","title"];function K2(n,e){if(n==null)return{};var t=Q2(n,e),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)s=l[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(t[s]=n[s])}return t}function Q2(n,e){if(n==null)return{};var t={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function jh(){return jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},jh.apply(this,arguments)}function z0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,s)}return t}function zh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z0(Object(t),!0).forEach(function(s){Y2(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):z0(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function Y2(n,e,t){return e=X2(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function X2(n){var e=W2(n,"string");return typeof e=="symbol"?e:e+""}function W2(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var s=t.call(n,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function o1(n){return n&&n.map((e,t)=>vn.createElement(e.tag,zh({key:t},e.attr),o1(e.child)))}function Dt(n){return e=>vn.createElement(Z2,jh({attr:zh({},n.attr)},e),o1(n.child))}function Z2(n){var e=t=>{var{attr:s,size:a,title:l}=n,c=K2(n,$2),d=a||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),vn.createElement("svg",jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:p,style:zh(zh({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&vn.createElement("title",null,l),n.children)};return j0!==void 0?vn.createElement(j0.Consumer,null,t=>e(t)):e(a1)}function J2(n){return Dt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,40V224a8,8,0,0,1-16,0V176H152a8,8,0,0,1-8-8,268.75,268.75,0,0,1,7.22-56.88c9.78-40.49,28.32-67.63,53.63-78.47A8,8,0,0,1,216,40Zm-96.11-1.31a8,8,0,1,0-15.78,2.63L111.89,88H88V40a8,8,0,0,0-16,0V88H48.11l7.78-46.68a8,8,0,1,0-15.78-2.63l-8,48A8.17,8.17,0,0,0,32,88a48.07,48.07,0,0,0,40,47.32V224a8,8,0,0,0,16,0V135.32A48.07,48.07,0,0,0,128,88a8.17,8.17,0,0,0-.11-1.31Z"},child:[]}]})(n)}function eC(n){return Dt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M117.25,157.92a60,60,0,1,0-66.5,0A95.83,95.83,0,0,0,3.53,195.63a8,8,0,1,0,13.4,8.74,80,80,0,0,1,134.14,0,8,8,0,0,0,13.4-8.74A95.83,95.83,0,0,0,117.25,157.92ZM40,108a44,44,0,1,1,44,44A44.05,44.05,0,0,1,40,108Zm210.14,98.7a8,8,0,0,1-11.07-2.33A79.83,79.83,0,0,0,172,168a8,8,0,0,1,0-16,44,44,0,1,0-16.34-84.87,8,8,0,1,1-5.94-14.85,60,60,0,0,1,55.53,105.64,95.83,95.83,0,0,1,47.22,37.71A8,8,0,0,1,250.14,206.7Z"},child:[]}]})(n)}function B0(n){return Dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(n)}function tC(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M346.7 6C337.6 17 320 42.3 320 72c0 40 15.3 55.3 40 80s40 40 80 40c29.7 0 55-17.6 66-26.7c4-3.3 6-8.2 6-13.3s-2-10-6-13.2c-11.4-9.1-38.3-26.8-74-26.8c-32 0-40 8-40 8s8-8 8-40c0-35.7-17.7-62.6-26.8-74C370 2 365.1 0 360 0s-10 2-13.3 6zM244.6 136c-40 0-77.1 18.1-101.7 48.2l60.5 60.5c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0l-55.3-55.3 0 .1L2.2 477.9C-2 487-.1 497.8 7 505s17.9 9 27.1 4.8l134.7-62.4-52.1-52.1c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L199.7 433l100.2-46.4c46.4-21.5 76.2-68 76.2-119.2C376 194.8 317.2 136 244.6 136z"},child:[]}]})(n)}function nC(n){return Dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 512C86 512 0 426 0 320C0 228.8 130.2 57.7 166.6 11.7C172.6 4.2 181.5 0 191.1 0l1.8 0c9.6 0 18.5 4.2 24.5 11.7C253.8 57.7 384 228.8 384 320c0 106-86 192-192 192zM96 336c0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.9 50.1 112 112 112c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.2 0-80-35.8-80-80z"},child:[]}]})(n)}function F0(n){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 64c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32l0 160 0 64 0 160c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-64-32 0c-17.7 0-32-14.3-32-32l0-64c-17.7 0-32-14.3-32-32s14.3-32 32-32l0-64c0-17.7 14.3-32 32-32l32 0 0-64zm448 0l0 64 32 0c17.7 0 32 14.3 32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l0 64c0 17.7-14.3 32-32 32l-32 0 0 64c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-160 0-64 0-160c0-17.7 14.3-32 32-32l32 0c17.7 0 32 14.3 32 32zM416 224l0 64-192 0 0-64 192 0z"},child:[]}]})(n)}function iC(n){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM125.7 175.5c9.9-9.9 23.4-15.5 37.5-15.5c1.9 0 3.8 .1 5.6 .3L137.6 254c-9.3 28 1.7 58.8 26.8 74.5l86.2 53.9-25.4 88.8c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l28.7-100.4c5.9-20.6-2.6-42.6-20.7-53.9L238 299l30.9-82.4 5.1 12.3C289 264.7 323.9 288 362.7 288l21.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-21.3 0c-12.9 0-24.6-7.8-29.5-19.7l-6.3-15c-14.6-35.1-44.1-61.9-80.5-73.1l-48.7-15c-11.1-3.4-22.7-5.2-34.4-5.2c-31 0-60.8 12.3-82.7 34.3L57.4 153.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l23.1-23.1zM91.2 352L32 352c-17.7 0-32 14.3-32 32s14.3 32 32 32l69.6 0c19 0 36.2-11.2 43.9-28.5L157 361.6l-9.5-6c-17.5-10.9-30.5-26.8-37.9-44.9L91.2 352z"},child:[]}]})(n)}function rC(n){return Dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(n)}function sC(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M445.588 56l-.026 384.352c6.881 11.323 14 15.677 19.97 15.648 5.924-.028 12.967-4.434 19.714-15.418L466.82 244.27l-.215-2.391 1.475-1.906c21.174-27.169 28.573-74.108 22.533-113.81-3.02-19.852-9.342-37.82-18.195-50.522-7.424-10.652-16.28-17.447-26.828-19.641h-.002zm-372.375.004l-.016 67.127-12.56-.016V56.008H46.332l.002 67.11H33.756v-67.11h-14.57v103.228c-.001 11.417 6.23 17.748 16.04 21.662l4.06 1.622-.09 4.37c-2 84.57-3.977 169.139-5.962 253.708C40.074 451.79 47.1 456.028 52.95 456c5.85-.028 12.87-4.377 19.623-15.432-2.315-84.547-4.63-169.096-6.941-253.644l-.12-4.4 4.073-1.606c10.324-4.106 17.039-11.074 17.039-21.676V56.004h-13.41zM256 95A161 161 0 0 0 95 256a161 161 0 0 0 161 161 161 161 0 0 0 161-161A161 161 0 0 0 256 95z"},child:[]}]})(n)}function aC(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M164.188 40.375c-168.48 35.59-220.94 167.97-17 187.47-13.147 35.014-21.172 74.948-22.22 114.218-35.694 33.01-59.593 66.343-59.593 66.343l47.72 47.72-39.345 26.218h113.28c-73.368-73.383-21.278-104.5 65.626-104.5 88.096 0 134.175 35.905 65.594 104.5h114.5l-40.563-26.22 47.72-47.718s-22.25-31.027-55.844-62.844c-.65-40.39-8.807-81.663-22.344-117.718 203.953-19.496 151.482-151.878-17-187.47-40.813 30.863 6.55 79.75 43.717 44.626 36.908 54.048 8.752 99.845-71.937 65.594-.02-.022-.042-.04-.063-.063-9.66 28.054-33.333 48.47-61.968 48.47-28.637 0-52.332-20.416-62-48.47l-.064.064C111.736 184.826 83.596 139.042 120.5 85c37.168 35.125 84.5-13.763 43.688-44.625zm90.28 24.063c-25.736 0-48 25.088-48 57.937 0 32.85 22.264 57.938 48 57.938 25.738 0 47.97-25.086 47.97-57.938 0-32.852-22.232-57.938-47.97-57.938z"},child:[]}]})(n)}const oC=()=>{};var q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},lC=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,E=l>>2,b=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,I=g&63;p||(I=64,c||(A=64)),s.push(t[E],t[b],t[A],t[I])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(l1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new uC;const A=l<<2|d>>4;if(s.push(A),g!==64){const I=d<<4&240|g>>2;if(s.push(I),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cC=function(n){const e=l1(n);return u1.encodeByteArray(e,!0)},Bh=function(n){return cC(n).replace(/\./g,"")},c1=function(n){try{return u1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=()=>hC().__FIREBASE_DEFAULTS__,dC=()=>{if(typeof process>"u"||typeof q0>"u")return;const n=q0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c1(n[1]);return e&&JSON.parse(e)},yf=()=>{try{return oC()||fC()||dC()||mC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},h1=n=>{var e,t;return(t=(e=yf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},f1=n=>{const e=h1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},d1=()=>{var n;return(n=yf())===null||n===void 0?void 0:n.config},m1=n=>{var e;return(e=yf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bh(JSON.stringify(t)),Bh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function yC(){var n;const e=(n=yf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EC(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TC(){return!yC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y1(){try{return typeof indexedDB=="object"}catch{return!1}}function v1(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function bC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="FirebaseError";class ri extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=wC,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ma.prototype.create)}}class Ma{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?AC(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ri(a,d,s)}}function AC(n,e){return n.replace(SC,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const SC=/\{\$([^}]+)}/g;function RC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xr(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],c=e[a];if(H0(l)&&H0(c)){if(!xr(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function H0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function CC(n,e){const t=new IC(n,e);return t.subscribe.bind(t)}class IC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");xC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Wm),a.error===void 0&&(a.error=Wm),a.complete===void 0&&(a.complete=Wm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1e3,DC=2,OC=4*60*60*1e3,MC=.5;function G0(n,e=NC,t=DC){const s=e*Math.pow(t,n),a=Math.round(MC*s*(Math.random()-.5)*2);return Math.min(OC,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n){return n&&n._delegate?n._delegate:n}class ii{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new pC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PC(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VC(n){return n===ga?void 0:n}function PC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const UC={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},jC=je.INFO,zC={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},BC=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=zC[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vf{constructor(e){this.name=e,this._logLevel=jC,this._logHandler=BC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const FC=(n,e)=>e.some(t=>n instanceof t);let $0,K0;function qC(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HC(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _1=new WeakMap,Ap=new WeakMap,E1=new WeakMap,Zm=new WeakMap,cg=new WeakMap;function GC(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Rs(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&_1.set(t,n)}).catch(()=>{}),cg.set(e,n),e}function $C(n){if(Ap.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Ap.set(n,e)}let Sp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||E1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KC(n){Sp=n(Sp)}function QC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Jm(this),e,...t);return E1.set(s,e.sort?e.sort():[e]),Rs(s)}:HC().includes(n)?function(...e){return n.apply(Jm(this),e),Rs(_1.get(this))}:function(...e){return Rs(n.apply(Jm(this),e))}}function YC(n){return typeof n=="function"?QC(n):(n instanceof IDBTransaction&&$C(n),FC(n,qC())?new Proxy(n,Sp):n)}function Rs(n){if(n instanceof IDBRequest)return GC(n);if(Zm.has(n))return Zm.get(n);const e=YC(n);return e!==n&&(Zm.set(n,e),cg.set(e,n)),e}const Jm=n=>cg.get(n);function T1(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Rs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Rs(c.result),p.oldVersion,p.newVersion,Rs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const XC=["get","getKey","getAll","getAllKeys","count"],WC=["put","add","delete","clear"],ep=new Map;function Q0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=WC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||XC.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return ep.set(e,l),l}KC(n=>({...n,get:(e,t,s)=>Q0(e,t)||n.get(e,t,s),has:(e,t)=>!!Q0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function JC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",Y0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new vf("@firebase/app"),eI="@firebase/app-compat",tI="@firebase/analytics-compat",nI="@firebase/analytics",iI="@firebase/app-check-compat",rI="@firebase/app-check",sI="@firebase/auth",aI="@firebase/auth-compat",oI="@firebase/database",lI="@firebase/data-connect",uI="@firebase/database-compat",cI="@firebase/functions",hI="@firebase/functions-compat",fI="@firebase/installations",dI="@firebase/installations-compat",mI="@firebase/messaging",pI="@firebase/messaging-compat",gI="@firebase/performance",yI="@firebase/performance-compat",vI="@firebase/remote-config",_I="@firebase/remote-config-compat",EI="@firebase/storage",TI="@firebase/storage-compat",bI="@firebase/firestore",wI="@firebase/vertexai",AI="@firebase/firestore-compat",SI="firebase",RI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",CI={[Rp]:"fire-core",[eI]:"fire-core-compat",[nI]:"fire-analytics",[tI]:"fire-analytics-compat",[rI]:"fire-app-check",[iI]:"fire-app-check-compat",[sI]:"fire-auth",[aI]:"fire-auth-compat",[oI]:"fire-rtdb",[lI]:"fire-data-connect",[uI]:"fire-rtdb-compat",[cI]:"fire-fn",[hI]:"fire-fn-compat",[fI]:"fire-iid",[dI]:"fire-iid-compat",[mI]:"fire-fcm",[pI]:"fire-fcm-compat",[gI]:"fire-perf",[yI]:"fire-perf-compat",[vI]:"fire-rc",[_I]:"fire-rc-compat",[EI]:"fire-gcs",[TI]:"fire-gcs-compat",[bI]:"fire-fst",[AI]:"fire-fst-compat",[wI]:"fire-vertex","fire-js":"fire-js",[SI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Map,II=new Map,Ip=new Map;function X0(n,e){try{n.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yi(n){const e=n.name;if(Ip.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,n);for(const t of Fh.values())X0(t,n);for(const t of II.values())X0(t,n);return!0}function Ps(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new Ma("app","Firebase",xI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=RI;function b1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cp,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Cs.create("bad-app-name",{appName:String(a)});if(t||(t=d1()),!t)throw Cs.create("no-options");const l=Fh.get(a);if(l){if(xr(t,l.options)&&xr(s,l.config))return l;throw Cs.create("duplicate-app",{appName:a})}const c=new LC(a);for(const p of Ip.values())c.addComponent(p);const d=new NI(t,s,c);return Fh.set(a,d),d}function _f(n=Cp){const e=Fh.get(n);if(!e&&n===Cp&&d1())return b1();if(!e)throw Cs.create("no-app",{appName:n});return e}function Rn(n,e,t){var s;let a=(s=CI[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(d.join(" "));return}yi(new ii(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebase-heartbeat-database",OI=1,Cu="firebase-heartbeat-store";let tp=null;function w1(){return tp||(tp=T1(DI,OI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Cs.create("idb-open",{originalErrorMessage:n.message})})),tp}async function MI(n){try{const t=(await w1()).transaction(Cu),s=await t.objectStore(Cu).get(A1(n));return await t.done,s}catch(e){if(e instanceof ri)Nr.warn(e.message);else{const t=Cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(t.message)}}}async function W0(n,e){try{const s=(await w1()).transaction(Cu,"readwrite");await s.objectStore(Cu).put(e,A1(n)),await s.done}catch(t){if(t instanceof ri)Nr.warn(t.message);else{const s=Cs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nr.warn(s.message)}}}function A1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1024,VI=30;class PI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Z0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>VI){const c=jI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z0(),{heartbeatsToSend:s,unsentEntries:a}=LI(this._heartbeatsCache.heartbeats),l=Bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Nr.warn(t),""}}}function Z0(){return new Date().toISOString().substring(0,10)}function LI(n,e=kI){const t=[];let s=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),J0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),J0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class UI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y1()?v1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return W0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return W0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function J0(n){return Bh(JSON.stringify({version:2,heartbeats:n})).length}function jI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n){yi(new ii("platform-logger",e=>new ZC(e),"PRIVATE")),yi(new ii("heartbeat",e=>new PI(e),"PRIVATE")),Rn(Rp,Y0,n),Rn(Rp,Y0,"esm2017"),Rn("fire-js","")}zI("");var BI="firebase",FI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn(BI,FI,"app");function hg(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function S1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qI=S1,R1=new Ma("auth","Firebase",S1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new vf("@firebase/auth");function HI(n,...e){qh.logLevel<=je.WARN&&qh.warn(`Auth (${ka}): ${n}`,...e)}function Ih(n,...e){qh.logLevel<=je.ERROR&&qh.error(`Auth (${ka}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(n,...e){throw dg(n,...e)}function pi(n,...e){return dg(n,...e)}function fg(n,e,t){const s=Object.assign(Object.assign({},qI()),{[e]:t});return new Ma("auth","Firebase",s).create(e,{appName:n.name})}function Aa(n){return fg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GI(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&qi(n,"argument-error"),fg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return R1.create(n,...e)}function Re(n,e,...t){if(!n)throw dg(e,...t)}function wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ih(e),new Error(e)}function Dr(n,e){n||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $I(){return eE()==="http:"||eE()==="https:"}function eE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($I()||g1()||"connection"in navigator)?navigator.onLine:!0}function QI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Dr(t>e,"Short delay should be less than long delay!"),this.isMobile=gC()||_C()}get(){return KI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(n,e){Dr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WI=new zu(3e4,6e4);function pg(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Zo(n,e,t,s,a={}){return I1(n,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=ju(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return vC()||(g.referrerPolicy="no-referrer"),C1.fetch()(await x1(n,n.config.apiHost,t,d),g)})}async function I1(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},YI),e);try{const a=new JI(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw yh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw yh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw yh(n,"user-disabled",c);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fg(n,E,g);qi(n,E)}}catch(a){if(a instanceof ri)throw a;qi(n,"network-request-failed",{message:String(a)})}}async function ZI(n,e,t,s,a={}){const l=await Zo(n,e,t,s,a);return"mfaPendingCredential"in l&&qi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function x1(n,e,t,s){const a=`${e}${t}?${s}`,l=n,c=l.config.emulator?mg(n.config,a):`${n.config.apiScheme}://${a}`;return XI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class JI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),WI.get())})}}function yh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=pi(n,e,s);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(n,e){return Zo(n,"POST","/v1/accounts:delete",e)}async function Hh(n,e){return Zo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t4(n,e=!1){const t=St(n),s=await t.getIdToken(e),a=gg(s);Re(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Eu(np(a.auth_time)),issuedAtTime:Eu(np(a.iat)),expirationTime:Eu(np(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function np(n){return Number(n)*1e3}function gg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const a=c1(t);return a?JSON.parse(a):(Ih("Failed to decode base64 JWT payload"),null)}catch(a){return Ih("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function tE(n){const e=gg(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ri&&n4(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function n4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(n){var e;const t=n.auth,s=await n.getIdToken(),a=await Iu(n,Hh(t,{idToken:s}));Re(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?N1(l.providerUserInfo):[],d=s4(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Np(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(n,b)}async function r4(n){const e=St(n);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s4(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function N1(n){return n.map(e=>{var{providerId:t}=e,s=hg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(n,e){const t=await I1(n,{},async()=>{const s=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await x1(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",C1.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function o4(n,e){return Zo(n,"POST","/v2/accounts:revokeToken",pg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=tE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await a4(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Vo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Np(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return t4(this,e)}reload(){return r4(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Aa(this.auth));const e=await this.getIdToken();return await Iu(this,e4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,c,d,p,g,E;const b=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(a=t.email)!==null&&a!==void 0?a:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,M=(c=t.photoURL)!==null&&c!==void 0?c:void 0,G=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Z=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ae,isAnonymous:W,providerData:se,stsTokenManager:k}=t;Re(Q&&k,e,"internal-error");const x=Vo.fromJSON(this.name,k);Re(typeof Q=="string",e,"internal-error"),Es(b,e.name),Es(A,e.name),Re(typeof ae=="boolean",e,"internal-error"),Re(typeof W=="boolean",e,"internal-error"),Es(I,e.name),Es(M,e.name),Es(G,e.name),Es(P,e.name),Es(H,e.name),Es(Z,e.name);const R=new di({uid:Q,auth:e,email:A,emailVerified:ae,displayName:b,isAnonymous:W,photoURL:M,phoneNumber:I,tenantId:G,stsTokenManager:x,createdAt:H,lastLoginAt:Z});return se&&Array.isArray(se)&&(R.providerData=se.map(D=>Object.assign({},D))),P&&(R._redirectEventId=P),R}static async _fromIdTokenResponse(e,t,s=!1){const a=new Vo;a.updateFromServerResponse(t);const l=new di({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Gh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?N1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Vo;d.updateFromIdToken(s);const p=new di({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Np(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function Ar(n){Dr(n instanceof Function,"Expected a class definition");let e=nE.get(n);return e?(Dr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}D1.type="NONE";const iE=D1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(n,e,t){return`firebase:${n}:${e}:${t}`}class Po{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=xh(this.userKey,a.apiKey,l),this.fullPersistenceKey=xh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hh(this.auth,{idToken:e}).catch(()=>{});return t?di._fromGetAccountInfoResponse(this.auth,t,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Po(Ar(iE),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ar(iE);const c=xh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(c);if(E){let b;if(typeof E=="string"){const A=await Hh(e,{idToken:E}).catch(()=>{});if(!A)break;b=await di._fromGetAccountInfoResponse(e,A,E)}else b=di._fromJSON(e,E);g!==l&&(d=b),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Po(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Po(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L1(e))return"Blackberry";if(U1(e))return"Webos";if(M1(e))return"Safari";if((e.includes("chrome/")||k1(e))&&!e.includes("edge/"))return"Chrome";if(P1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function O1(n=fn()){return/firefox\//i.test(n)}function M1(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k1(n=fn()){return/crios\//i.test(n)}function V1(n=fn()){return/iemobile/i.test(n)}function P1(n=fn()){return/android/i.test(n)}function L1(n=fn()){return/blackberry/i.test(n)}function U1(n=fn()){return/webos/i.test(n)}function yg(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function l4(n=fn()){var e;return yg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u4(){return EC()&&document.documentMode===10}function j1(n=fn()){return yg(n)||P1(n)||U1(n)||L1(n)||/windows phone/i.test(n)||V1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n,e=[]){let t;switch(n){case"Browser":t=rE(fn());break;case"Worker":t=`${rE(fn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(n,e={}){return Zo(n,"GET","/v2/passwordPolicy",pg(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=6;class d4{constructor(e){var t,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:f4,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new c4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hh(this,{idToken:e}),s=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(Aa(this));const t=e?St(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h4(this),t=new d4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ma("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await o4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=z1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&HI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ef(n){return St(n)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=CC(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p4(n){vg=n}function g4(n){return vg.loadJS(n)}function y4(){return vg.gapiScript}function v4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(n,e){const t=Ps(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(xr(l,e??{}))return a;qi(a,"already-initialized")}return t.initialize({options:e})}function E4(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ar);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function T4(n,e,t){const s=Ef(n);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=B1(e),{host:c,port:d}=b4(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},E=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(xr(g,s.config.emulator)&&xr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,w4()}function B1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function b4(n){const e=B1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:aE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:aE(c)}}}function aE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function w4(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e){return ZI(n,"POST","/v1/accounts:signInWithIdp",pg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="http://localhost";class Ra extends F1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=hg(t,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Ra(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Lo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:A4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ju(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends _g{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Bu{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ra._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return br.credential(t,s)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Bu{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Bu{constructor(){super("twitter.com")}static credential(e,t){return Ra._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return As.credential(t,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await di._fromIdTokenResponse(e,s,a),c=oE(s);return new jo({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=oE(s);return new jo({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function oE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends ri{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new $h(e,t,s,a)}}function q1(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(n,l,e,s):l})}async function S4(n,e,t=!1){const s=await Iu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return jo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(n,e,t=!1){const{auth:s}=n;if(ni(s.app))return Promise.reject(Aa(s));const a="reauthenticate";try{const l=await Iu(n,q1(s,a,e,n),t);Re(l.idToken,s,"internal-error");const c=gg(l.idToken);Re(c,s,"internal-error");const{sub:d}=c;return Re(n.uid===d,s,"user-mismatch"),jo._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&qi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(n,e,t=!1){if(ni(n.app))return Promise.reject(Aa(n));const s="signIn",a=await q1(n,s,e),l=await jo._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(n,e){return St(n).setPersistence(e)}function x4(n,e,t,s){return St(n).onIdTokenChanged(e,t,s)}function N4(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function D4(n,e,t,s){return St(n).onAuthStateChanged(e,t,s)}function O4(n){return St(n).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=1e3,k4=10;class G1 extends H1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);u4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,k4):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},M4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G1.type="LOCAL";const $1=G1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends H1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}K1.type="SESSION";const Q1=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Tf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await V4(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Eg("",20);a.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(E),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function L4(n){ji().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function U4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function z4(){return Y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebaseLocalStorageDb",B4=1,Qh="firebaseLocalStorage",W1="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bf(n,e){return n.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function F4(){const n=indexedDB.deleteDatabase(X1);return new Fu(n).toPromise()}function Dp(){const n=indexedDB.open(X1,B4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Qh,{keyPath:W1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Qh)?e(s):(s.close(),await F4(),e(await Dp()))})})}async function lE(n,e,t){const s=bf(n,!0).put({[W1]:e,value:t});return new Fu(s).toPromise()}async function q4(n,e){const t=bf(n,!1).get(e),s=await new Fu(t).toPromise();return s===void 0?null:s.value}function uE(n,e){const t=bf(n,!0).delete(e);return new Fu(t).toPromise()}const H4=800,G4=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>G4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(z4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await U4(),!this.activeServiceWorker)return;this.sender=new P4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await lE(e,Kh,"1"),await uE(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>lE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>q4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>uE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=bf(a,!1).getAll();return new Fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const $4=Z1;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(n,e){return e?Ar(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends F1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function K4(n){return C4(n.auth,new Tg(n),n.bypassAuthState)}function Q4(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),R4(t,new Tg(n),n.bypassAuthState)}async function Y4(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),S4(t,new Tg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K4;case"linkViaPopup":case"linkViaRedirect":return Y4;case"reauthViaPopup":case"reauthViaRedirect":return Q4;default:qi(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new zu(2e3,1e4);async function W4(n,e,t){if(ni(n.app))return Promise.reject(pi(n,"operation-not-supported-in-this-environment"));const s=Ef(n);GI(n,e,_g);const a=J1(s,t);return new Ta(s,"signInViaPopup",e,a).executeNotNull()}class Ta extends eb{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X4.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="pendingRedirect",Nh=new Map;class J4 extends eb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Nh.get(this.auth._key());if(!e){try{const s=await ex(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ex(n,e){const t=ix(e),s=nx(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function tx(n,e){Nh.set(n._key(),e)}function nx(n){return Ar(n._redirectPersistence)}function ix(n){return xh(Z4,n.config.apiKey,n.name)}async function rx(n,e,t=!1){if(ni(n.app))return Promise.reject(Aa(n));const s=Ef(n),a=J1(s,e),c=await new J4(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=10*60*1e3;class ax{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ox(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!tb(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(pi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sx&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tb({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ox(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tb(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(n,e={}){return Zo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cx=/^https?/;async function hx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lx(n);for(const t of e)try{if(fx(t))return}catch{}qi(n,"unauthorized-domain")}function fx(n){const e=xp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!cx.test(t))return!1;if(ux.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new zu(3e4,6e4);function hE(){const n=ji().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mx(n){return new Promise((e,t)=>{var s,a,l;function c(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),t(pi(n,"network-request-failed"))},timeout:dx.get()})}if(!((a=(s=ji().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ji().gapi)===null||l===void 0)&&l.load)c();else{const d=v4("iframefcb");return ji()[d]=()=>{gapi.load?c():t(pi(n,"network-request-failed"))},g4(`${y4()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function px(n){return Dh=Dh||mx(n),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new zu(5e3,15e3),yx="__/auth/iframe",vx="emulator/auth/iframe",_x={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tx(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mg(e,vx):`https://${n.config.authDomain}/${yx}`,s={apiKey:e.apiKey,appName:n.name,v:ka},a=Ex.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${ju(s).slice(1)}`}async function bx(n){const e=await px(n),t=ji().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:Tx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_x,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=pi(n,"network-request-failed"),d=ji().setTimeout(()=>{l(c)},gx.get());function p(){ji().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ax=500,Sx=600,Rx="_blank",Cx="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ix(n,e,t,s=Ax,a=Sx){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},wx),{width:s.toString(),height:a.toString(),top:l,left:c}),g=fn().toLowerCase();t&&(d=k1(g)?Rx:t),O1(g)&&(e=e||Cx,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[I,M])=>`${A}${I}=${M},`,"");if(l4(g)&&d!=="_self")return xx(e||"",d),new fE(null);const b=window.open(e||"",d,E);Re(b,n,"popup-blocked");try{b.focus()}catch{}return new fE(b)}function xx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__/auth/handler",Dx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function dE(n,e,t,s,a,l){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:ka,eventId:a};if(e instanceof _g){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",RC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))c[E]=b}if(e instanceof Bu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(c.scopes=E.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await n._getAppCheckToken(),g=p?`#${Ox}=${encodeURIComponent(p)}`:"";return`${Mx(n)}?${ju(d).slice(1)}${g}`}function Mx({config:n}){return n.emulator?mg(n,Dx):`https://${n.authDomain}/${Nx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class kx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q1,this._completeRedirectFn=rx,this._overrideRedirectResult=tx}async _openPopup(e,t,s,a){var l;Dr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await dE(e,t,s,xp(),a);return Ix(e,c,Eg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await dE(e,t,s,xp(),a);return L4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Dr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await bx(e),s=new ax(e);return t.register("authEvent",a=>(Re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ip,{type:ip},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[ip];c!==void 0&&t(!!c),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j1()||M1()||yg()}}const Vx=kx;var mE="@firebase/auth",pE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ux(n){yi(new ii("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:z1(n)},g=new m4(s,a,l,p);return E4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),yi(new ii("auth-internal",e=>{const t=Ef(e.getProvider("auth").getImmediate());return(s=>new Px(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(mE,pE,Lx(n)),Rn(mE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=5*60,zx=m1("authIdTokenMaxAge")||jx;let gE=null;const Bx=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>zx)return;const a=t==null?void 0:t.token;gE!==a&&(gE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Fx(n=_f()){const e=Ps(n,"auth");if(e.isInitialized())return e.getImmediate();const t=_4(n,{popupRedirectResolver:Vx,persistence:[$4,$1,Q1]}),s=m1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Bx(l.toString());N4(t,c,()=>c(t.currentUser)),x4(t,d=>c(d))}}const a=h1("auth");return a&&T4(t,`http://${a}`),t}function qx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}p4({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=pi("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",qx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ux("Browser");var yE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,nb;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,x){function R(){}R.prototype=x.prototype,k.D=x.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(D,L,z){for(var O=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)O[ce-2]=arguments[ce];return x.prototype[L].apply(D,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,x,R){R||(R=0);var D=Array(16);if(typeof x=="string")for(var L=0;16>L;++L)D[L]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(L=0;16>L;++L)D[L]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=k.g[0],R=k.g[1],L=k.g[2];var z=k.g[3],O=x+(z^R&(L^z))+D[0]+3614090360&4294967295;x=R+(O<<7&4294967295|O>>>25),O=z+(L^x&(R^L))+D[1]+3905402710&4294967295,z=x+(O<<12&4294967295|O>>>20),O=L+(R^z&(x^R))+D[2]+606105819&4294967295,L=z+(O<<17&4294967295|O>>>15),O=R+(x^L&(z^x))+D[3]+3250441966&4294967295,R=L+(O<<22&4294967295|O>>>10),O=x+(z^R&(L^z))+D[4]+4118548399&4294967295,x=R+(O<<7&4294967295|O>>>25),O=z+(L^x&(R^L))+D[5]+1200080426&4294967295,z=x+(O<<12&4294967295|O>>>20),O=L+(R^z&(x^R))+D[6]+2821735955&4294967295,L=z+(O<<17&4294967295|O>>>15),O=R+(x^L&(z^x))+D[7]+4249261313&4294967295,R=L+(O<<22&4294967295|O>>>10),O=x+(z^R&(L^z))+D[8]+1770035416&4294967295,x=R+(O<<7&4294967295|O>>>25),O=z+(L^x&(R^L))+D[9]+2336552879&4294967295,z=x+(O<<12&4294967295|O>>>20),O=L+(R^z&(x^R))+D[10]+4294925233&4294967295,L=z+(O<<17&4294967295|O>>>15),O=R+(x^L&(z^x))+D[11]+2304563134&4294967295,R=L+(O<<22&4294967295|O>>>10),O=x+(z^R&(L^z))+D[12]+1804603682&4294967295,x=R+(O<<7&4294967295|O>>>25),O=z+(L^x&(R^L))+D[13]+4254626195&4294967295,z=x+(O<<12&4294967295|O>>>20),O=L+(R^z&(x^R))+D[14]+2792965006&4294967295,L=z+(O<<17&4294967295|O>>>15),O=R+(x^L&(z^x))+D[15]+1236535329&4294967295,R=L+(O<<22&4294967295|O>>>10),O=x+(L^z&(R^L))+D[1]+4129170786&4294967295,x=R+(O<<5&4294967295|O>>>27),O=z+(R^L&(x^R))+D[6]+3225465664&4294967295,z=x+(O<<9&4294967295|O>>>23),O=L+(x^R&(z^x))+D[11]+643717713&4294967295,L=z+(O<<14&4294967295|O>>>18),O=R+(z^x&(L^z))+D[0]+3921069994&4294967295,R=L+(O<<20&4294967295|O>>>12),O=x+(L^z&(R^L))+D[5]+3593408605&4294967295,x=R+(O<<5&4294967295|O>>>27),O=z+(R^L&(x^R))+D[10]+38016083&4294967295,z=x+(O<<9&4294967295|O>>>23),O=L+(x^R&(z^x))+D[15]+3634488961&4294967295,L=z+(O<<14&4294967295|O>>>18),O=R+(z^x&(L^z))+D[4]+3889429448&4294967295,R=L+(O<<20&4294967295|O>>>12),O=x+(L^z&(R^L))+D[9]+568446438&4294967295,x=R+(O<<5&4294967295|O>>>27),O=z+(R^L&(x^R))+D[14]+3275163606&4294967295,z=x+(O<<9&4294967295|O>>>23),O=L+(x^R&(z^x))+D[3]+4107603335&4294967295,L=z+(O<<14&4294967295|O>>>18),O=R+(z^x&(L^z))+D[8]+1163531501&4294967295,R=L+(O<<20&4294967295|O>>>12),O=x+(L^z&(R^L))+D[13]+2850285829&4294967295,x=R+(O<<5&4294967295|O>>>27),O=z+(R^L&(x^R))+D[2]+4243563512&4294967295,z=x+(O<<9&4294967295|O>>>23),O=L+(x^R&(z^x))+D[7]+1735328473&4294967295,L=z+(O<<14&4294967295|O>>>18),O=R+(z^x&(L^z))+D[12]+2368359562&4294967295,R=L+(O<<20&4294967295|O>>>12),O=x+(R^L^z)+D[5]+4294588738&4294967295,x=R+(O<<4&4294967295|O>>>28),O=z+(x^R^L)+D[8]+2272392833&4294967295,z=x+(O<<11&4294967295|O>>>21),O=L+(z^x^R)+D[11]+1839030562&4294967295,L=z+(O<<16&4294967295|O>>>16),O=R+(L^z^x)+D[14]+4259657740&4294967295,R=L+(O<<23&4294967295|O>>>9),O=x+(R^L^z)+D[1]+2763975236&4294967295,x=R+(O<<4&4294967295|O>>>28),O=z+(x^R^L)+D[4]+1272893353&4294967295,z=x+(O<<11&4294967295|O>>>21),O=L+(z^x^R)+D[7]+4139469664&4294967295,L=z+(O<<16&4294967295|O>>>16),O=R+(L^z^x)+D[10]+3200236656&4294967295,R=L+(O<<23&4294967295|O>>>9),O=x+(R^L^z)+D[13]+681279174&4294967295,x=R+(O<<4&4294967295|O>>>28),O=z+(x^R^L)+D[0]+3936430074&4294967295,z=x+(O<<11&4294967295|O>>>21),O=L+(z^x^R)+D[3]+3572445317&4294967295,L=z+(O<<16&4294967295|O>>>16),O=R+(L^z^x)+D[6]+76029189&4294967295,R=L+(O<<23&4294967295|O>>>9),O=x+(R^L^z)+D[9]+3654602809&4294967295,x=R+(O<<4&4294967295|O>>>28),O=z+(x^R^L)+D[12]+3873151461&4294967295,z=x+(O<<11&4294967295|O>>>21),O=L+(z^x^R)+D[15]+530742520&4294967295,L=z+(O<<16&4294967295|O>>>16),O=R+(L^z^x)+D[2]+3299628645&4294967295,R=L+(O<<23&4294967295|O>>>9),O=x+(L^(R|~z))+D[0]+4096336452&4294967295,x=R+(O<<6&4294967295|O>>>26),O=z+(R^(x|~L))+D[7]+1126891415&4294967295,z=x+(O<<10&4294967295|O>>>22),O=L+(x^(z|~R))+D[14]+2878612391&4294967295,L=z+(O<<15&4294967295|O>>>17),O=R+(z^(L|~x))+D[5]+4237533241&4294967295,R=L+(O<<21&4294967295|O>>>11),O=x+(L^(R|~z))+D[12]+1700485571&4294967295,x=R+(O<<6&4294967295|O>>>26),O=z+(R^(x|~L))+D[3]+2399980690&4294967295,z=x+(O<<10&4294967295|O>>>22),O=L+(x^(z|~R))+D[10]+4293915773&4294967295,L=z+(O<<15&4294967295|O>>>17),O=R+(z^(L|~x))+D[1]+2240044497&4294967295,R=L+(O<<21&4294967295|O>>>11),O=x+(L^(R|~z))+D[8]+1873313359&4294967295,x=R+(O<<6&4294967295|O>>>26),O=z+(R^(x|~L))+D[15]+4264355552&4294967295,z=x+(O<<10&4294967295|O>>>22),O=L+(x^(z|~R))+D[6]+2734768916&4294967295,L=z+(O<<15&4294967295|O>>>17),O=R+(z^(L|~x))+D[13]+1309151649&4294967295,R=L+(O<<21&4294967295|O>>>11),O=x+(L^(R|~z))+D[4]+4149444226&4294967295,x=R+(O<<6&4294967295|O>>>26),O=z+(R^(x|~L))+D[11]+3174756917&4294967295,z=x+(O<<10&4294967295|O>>>22),O=L+(x^(z|~R))+D[2]+718787259&4294967295,L=z+(O<<15&4294967295|O>>>17),O=R+(z^(L|~x))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+z&4294967295}s.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var R=x-this.blockSize,D=this.B,L=this.h,z=0;z<x;){if(L==0)for(;z<=R;)a(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<x;)if(D[L++]=k.charCodeAt(z++),L==this.blockSize){a(this,D),L=0;break}}else for(;z<x;)if(D[L++]=k[z++],L==this.blockSize){a(this,D),L=0;break}}this.h=L,this.o+=x},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var R=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=R&255,R/=256;for(this.u(k),k=Array(16),x=R=0;4>x;++x)for(var D=0;32>D;D+=8)k[R++]=this.g[x]>>>D&255;return k};function l(k,x){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=x(k)}function c(k,x){this.h=x;for(var R=[],D=!0,L=k.length-1;0<=L;L--){var z=k[L]|0;D&&z==x||(R[L]=z,D=!1)}this.g=R}var d={};function p(k){return-128<=k&&128>k?l(k,function(x){return new c([x|0],0>x?-1:0)}):new c([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return P(g(-k));for(var x=[],R=1,D=0;k>=R;D++)x[D]=k/R|0,R*=4294967296;return new c(x,0)}function E(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return P(E(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(x,8)),D=b,L=0;L<k.length;L+=8){var z=Math.min(8,k.length-L),O=parseInt(k.substring(L,L+z),x);8>z?(z=g(Math.pow(x,z)),D=D.j(z).add(g(O))):(D=D.j(R),D=D.add(g(O)))}return D}var b=p(0),A=p(1),I=p(16777216);n=c.prototype,n.m=function(){if(G(this))return-P(this).m();for(var k=0,x=1,R=0;R<this.g.length;R++){var D=this.i(R);k+=(0<=D?D:4294967296+D)*x,x*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(G(this))return"-"+P(this).toString(k);for(var x=g(Math.pow(k,6)),R=this,D="";;){var L=ae(R,x).g;R=H(R,L.j(x));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=L,M(R))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function G(k){return k.h==-1}n.l=function(k){return k=H(this,k),G(k)?-1:M(k)?0:1};function P(k){for(var x=k.g.length,R=[],D=0;D<x;D++)R[D]=~k.g[D];return new c(R,~k.h).add(A)}n.abs=function(){return G(this)?P(this):this},n.add=function(k){for(var x=Math.max(this.g.length,k.g.length),R=[],D=0,L=0;L<=x;L++){var z=D+(this.i(L)&65535)+(k.i(L)&65535),O=(z>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);D=O>>>16,z&=65535,O&=65535,R[L]=O<<16|z}return new c(R,R[R.length-1]&-2147483648?-1:0)};function H(k,x){return k.add(P(x))}n.j=function(k){if(M(this)||M(k))return b;if(G(this))return G(k)?P(this).j(P(k)):P(P(this).j(k));if(G(k))return P(this.j(P(k)));if(0>this.l(I)&&0>k.l(I))return g(this.m()*k.m());for(var x=this.g.length+k.g.length,R=[],D=0;D<2*x;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<k.g.length;L++){var z=this.i(D)>>>16,O=this.i(D)&65535,ce=k.i(L)>>>16,ve=k.i(L)&65535;R[2*D+2*L]+=O*ve,Z(R,2*D+2*L),R[2*D+2*L+1]+=z*ve,Z(R,2*D+2*L+1),R[2*D+2*L+1]+=O*ce,Z(R,2*D+2*L+1),R[2*D+2*L+2]+=z*ce,Z(R,2*D+2*L+2)}for(D=0;D<x;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=x;D<2*x;D++)R[D]=0;return new c(R,0)};function Z(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function Q(k,x){this.g=k,this.h=x}function ae(k,x){if(M(x))throw Error("division by zero");if(M(k))return new Q(b,b);if(G(k))return x=ae(P(k),x),new Q(P(x.g),P(x.h));if(G(x))return x=ae(k,P(x)),new Q(P(x.g),x.h);if(30<k.g.length){if(G(k)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,D=x;0>=D.l(k);)R=W(R),D=W(D);var L=se(R,1),z=se(D,1);for(D=se(D,2),R=se(R,2);!M(D);){var O=z.add(D);0>=O.l(k)&&(L=L.add(R),z=O),D=se(D,1),R=se(R,1)}return x=H(k,L.j(x)),new Q(L,x)}for(L=b;0<=k.l(x);){for(R=Math.max(1,Math.floor(k.m()/x.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=g(R),O=z.j(x);G(O)||0<O.l(k);)R-=D,z=g(R),O=z.j(x);M(z)&&(z=A),L=L.add(z),k=H(k,O)}return new Q(L,k)}n.A=function(k){return ae(this,k).h},n.and=function(k){for(var x=Math.max(this.g.length,k.g.length),R=[],D=0;D<x;D++)R[D]=this.i(D)&k.i(D);return new c(R,this.h&k.h)},n.or=function(k){for(var x=Math.max(this.g.length,k.g.length),R=[],D=0;D<x;D++)R[D]=this.i(D)|k.i(D);return new c(R,this.h|k.h)},n.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),R=[],D=0;D<x;D++)R[D]=this.i(D)^k.i(D);return new c(R,this.h^k.h)};function W(k){for(var x=k.g.length+1,R=[],D=0;D<x;D++)R[D]=k.i(D)<<1|k.i(D-1)>>>31;return new c(R,k.h)}function se(k,x){var R=x>>5;x%=32;for(var D=k.g.length-R,L=[],z=0;z<D;z++)L[z]=0<x?k.i(z+R)>>>x|k.i(z+R+1)<<32-x:k.i(z+R);return new c(L,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=E,Is=c}).apply(typeof yE<"u"?yE:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ib,pu,rb,Oh,Op,sb,ab,ob;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,v){return h==Array.prototype||h==Object.prototype||(h[y]=v.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function a(h,y){if(y)e:{var v=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var F=h[S];if(!(F in v))break e;v=v[F]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var v=0,S=!1,F={next:function(){if(!S&&v<h.length){var K=v++;return{value:y(K,h[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function E(h,y,v){return h.call.apply(h.bind,arguments)}function b(h,y,v){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),h.apply(y,F)}}return function(){return h.apply(y,arguments)}}function A(h,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,A.apply(null,arguments)}function I(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function M(h,y){function v(){}v.prototype=y.prototype,h.aa=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Qb=function(S,F,K){for(var ue=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ue[Fe-2]=arguments[Fe];return y.prototype[F].apply(S,ue)}}function G(h){const y=h.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function P(h,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const F=h.length||0,K=S.length||0;h.length=F+K;for(let ue=0;ue<K;ue++)h[F+ue]=S[ue]}else h.push(S)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(h){return/^[\s\xa0]*$/.test(h)}function Q(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var W=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function se(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function k(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function x(h){const y={};for(const v in h)y[v]=h[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,y){let v,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(v in S)h[v]=S[v];for(let K=0;K<R.length;K++)v=R[K],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function L(h){var y=1;h=h.split(":");const v=[];for(;0<y&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function z(h){d.setTimeout(()=>{throw h},0)}function O(){var h=De;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ce{constructor(){this.h=this.g=null}add(y,v){const S=ve.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ve=new H(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,he=!1,De=new ce,V=()=>{const h=d.Promise.resolve(void 0);pe=()=>{h.then(ie)}};var ie=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(v){z(v)}var y=ve;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}he=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return h}();function be(h,y){if(oe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(W){e:{try{ae(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}M(be,oe);var Se={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Ye(h,y,v,S,F){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=F,this.key=++ke,this.da=this.fa=!1}function Ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,y,v,S,F){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var ue=Tt(h,y,S,F);return-1<ue?(y=h[ue],v||(y.fa=!1)):(y=new Ye(y,this.src,K,!!S,F),y.fa=v,h.push(y)),y};function Ot(h,y){var v=y.type;if(v in h.g){var S=h.g[v],F=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=F)&&Array.prototype.splice.call(S,F,1),K&&(Ve(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Tt(h,y,v,S){for(var F=0;F<h.length;++F){var K=h[F];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==S)return F}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),Pe={};function rn(h,y,v,S,F){if(Array.isArray(y)){for(var K=0;K<y.length;K++)rn(h,y[K],v,S,F);return null}return v=Ur(v),h&&h[et]?h.K(y,v,g(S)?!!S.capture:!1,F):En(h,y,v,!1,S,F)}function En(h,y,v,S,F,K){if(!y)throw Error("Invalid event type");var ue=g(F)?!!F.capture:!!F,Fe=Xi(h);if(Fe||(h[Ft]=Fe=new ct(h)),v=Fe.add(y,v,S,ue,K),v.proxy)return v;if(S=si(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)le||(F=ue),F===void 0&&(F=!1),h.addEventListener(y.toString(),S,F);else if(h.attachEvent)h.attachEvent(ai(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function si(){function h(v){return y.call(h.src,h.listener,v)}const y=js;return h}function Ei(h,y,v,S,F){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ei(h,y[K],v,S,F);else S=g(S)?!!S.capture:!!S,v=Ur(v),h&&h[et]?(h=h.i,y=String(y).toString(),y in h.g&&(K=h.g[y],v=Tt(K,v,S,F),-1<v&&(Ve(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete h.g[y],h.h--)))):h&&(h=Xi(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Tt(y,v,S,F)),(v=-1<h?y[h]:null)&&In(v))}function In(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[et])Ot(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(ai(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Xi(y))?(Ot(v,h),v.h==0&&(v.src=null,y[Ft]=null)):Ve(h)}}}function ai(h){return h in Pe?Pe[h]:Pe[h]="on"+h}function js(h,y){if(h.da)h=!0;else{y=new be(y,this);var v=h.listener,S=h.ha||h.src;h.fa&&In(h),h=v.call(S,y)}return h}function Xi(h){return h=h[Ft],h instanceof ct?h:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ur(h){return typeof h=="function"?h:(h[Mt]||(h[Mt]=function(y){return h.handleEvent(y)}),h[Mt])}function Te(){fe.call(this),this.i=new ct(this),this.M=this,this.F=null}M(Te,fe),Te.prototype[et]=!0,Te.prototype.removeEventListener=function(h,y,v,S){Ei(this,h,y,v,S)};function tt(h,y){var v,S=h.F;if(S)for(v=[];S;S=S.F)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new oe(y,h);else if(y instanceof oe)y.target=y.target||h;else{var F=y;y=new oe(S,h),D(y,F)}if(F=!0,v)for(var K=v.length-1;0<=K;K--){var ue=y.g=v[K];F=Tn(ue,S,!0,y)&&F}if(ue=y.g=h,F=Tn(ue,S,!0,y)&&F,F=Tn(ue,S,!1,y)&&F,v)for(K=0;K<v.length;K++)ue=y.g=v[K],F=Tn(ue,S,!1,y)&&F}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var v=h.g[y],S=0;S<v.length;S++)Ve(v[S]);delete h.g[y],h.h--}}this.F=null},Te.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},Te.prototype.L=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function Tn(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,K=0;K<y.length;++K){var ue=y[K];if(ue&&!ue.da&&ue.capture==v){var Fe=ue.listener,Vt=ue.ha||ue.src;ue.fa&&Ot(h.i,ue),F=Fe.call(Vt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Wi(h,y,v){if(typeof h=="function")v&&(h=A(h,v));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function jn(h){h.g=Wi(()=>{h.g=null,h.i&&(h.i=!1,jn(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ol extends fe{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(h){fe.call(this),this.h=h,this.g={}}M(Ti,fe);var jr=[];function sn(h){se(h.g,function(y,v){this.g.hasOwnProperty(v)&&In(y)},h),h.g={}}Ti.prototype.N=function(){Ti.aa.N.call(this),sn(this)},Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ll=d.JSON.stringify,bi=d.JSON.parse,dn=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ul(){}ul.prototype.h=null;function Wu(h){return h.h||(h.h=h.i())}function Zu(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zr(){oe.call(this,"d")}M(zr,oe);function oi(){oe.call(this,"c")}M(oi,oe);var zn={},Br=null;function Ua(){return Br=Br||new Te}zn.La="serverreachability";function cl(h){oe.call(this,zn.La,h)}M(cl,oe);function Fr(h){const y=Ua();tt(y,new cl(y))}zn.STAT_EVENT="statevent";function ja(h,y){oe.call(this,zn.STAT_EVENT,h),this.stat=y}M(ja,oe);function bt(h){const y=Ua();tt(y,new ja(y,h))}zn.Ma="timingevent";function Ju(h,y){oe.call(this,zn.Ma,h),this.size=y}M(Ju,oe);function qr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Hr(){this.g=!0}Hr.prototype.xa=function(){this.g=!1};function ec(h,y,v,S,F,K){h.info(function(){if(h.g)if(K)for(var ue="",Fe=K.split("&"),Vt=0;Vt<Fe.length;Vt++){var qe=Fe[Vt].split("=");if(1<qe.length){var Gt=qe[0];qe=qe[1];var Pt=Gt.split("_");ue=2<=Pt.length&&Pt[1]=="type"?ue+(Gt+"="+qe+"&"):ue+(Gt+"=redacted&")}}else ue=null;else ue=K;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+v+`
`+ue})}function tc(h,y,v,S,F,K,ue){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+v+`
`+K+" "+ue})}function Gr(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+qt(h,v)+(S?" "+S:"")})}function Ai(h,y){h.info(function(){return"TIMEOUT: "+y})}Hr.prototype.info=function(){};function qt(h,y){if(!h.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(h=0;h<v.length;h++)if(Array.isArray(v[h])){var S=v[h];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var K=F[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ue=1;ue<F.length;ue++)F[ue]=""}}}}return ll(v)}catch{return y}}var kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zs;function za(){}M(za,ul),za.prototype.g=function(){return new XMLHttpRequest},za.prototype.i=function(){return{}},zs=new za;function Si(h,y,v,S){this.j=h,this.i=y,this.l=v,this.R=S||1,this.U=new Ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var $r={},Bs={};function li(h,y,v){h.L=1,h.v=Hs(pt(y)),h.m=v,h.P=!0,Ji(h,null)}function Ji(h,y){h.F=Date.now(),ht(h),h.A=pt(h.v);var v=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),nr(v.i,"t",S),h.C=0,v=h.j.J,h.h=new hl,h.g=pc(h.j,v?y:null,!h.m),0<h.O&&(h.M=new ol(A(h.Y,h,h.g),h.O)),y=h.U,v=h.g,S=h.ca;var F="readystatechange";Array.isArray(F)||(F&&(jr[0]=F.toString()),F=jr);for(var K=0;K<F.length;K++){var ue=rn(v,F[K],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Fr(),ec(h.i,h.u,h.A,h.l,h.R,h.m)}Si.prototype.ca=function(h){h=h.target;const y=this.M;y&&Gn(h)==3?y.j():this.Y(h)},Si.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=Gn(this.g);var y=this.g.Ba();const ar=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||oc(this.g)))){this.J||Pt!=4||y==7||(y==8||0>=ar?Fr(3):Fr(2)),Ba(this);var v=this.g.Z();this.X=v;t:if(Kr(this)){var S=oc(this.g);h="";var F=S.length,K=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),xn(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(K&&y==F-1)});S.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,tc(this.i,this.u,this.A,this.l,this.R,Pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Vt=this.g;if((Fe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Fe)){var qe=Fe;break t}}qe=null}if(v=qe)Gr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,v);else{this.o=!1,this.s=3,bt(12),bn(this),xn(this);break e}}if(this.P){v=!0;let Xt;for(;!this.J&&this.C<ue.length;)if(Xt=Qr(this,ue),Xt==Bs){Pt==4&&(this.s=4,bt(14),v=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==$r){this.s=4,bt(15),Gr(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else Gr(this.i,this.l,Xt,null),Nn(this,Xt);if(Kr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ue.length!=0||this.h.h||(this.s=1,bt(16),v=!1),this.o=this.o&&v,!v)Gr(this.i,this.l,ue,"[Invalid Chunked Response]"),bn(this),xn(this);else if(0<ue.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ws(Gt),Gt.M=!0,bt(11))}}else Gr(this.i,this.l,ue,null),Nn(this,ue);Pt==4&&bn(this),this.o&&!this.J&&(Pt==4?fc(this.j,this):(this.o=!1,ht(this)))}else Wf(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),bn(this),xn(this)}}}catch{}finally{}};function Kr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qr(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?Bs:(v=Number(y.substring(v,S)),isNaN(v)?$r:(S+=1,S+v>y.length?Bs:(y=y.slice(S,S+v),h.C=S+v,y)))}Si.prototype.cancel=function(){this.J=!0,bn(this)};function ht(h){h.S=Date.now()+h.I,fl(h,h.I)}function fl(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=qr(A(h.ba,h),y)}function Ba(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Si.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ai(this.i,this.A),this.L!=2&&(Fr(),bt(17)),bn(this),this.s=2,xn(this)):fl(this,this.S-h)};function xn(h){h.j.G==0||h.J||fc(h.j,h)}function bn(h){Ba(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,sn(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Nn(h,y){try{var v=h.j;if(v.G!=0&&(v.g==h||Yr(v.h,h))){if(!h.K&&Yr(v.h,h)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<h.F)Wa(v),Ya(v);else break e;wl(v),bt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=qr(A(v.Za,v),6e3));if(1>=nc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else sr(v,11)}else if((h.K||v.g==h)&&Wa(v),!Z(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let qe=F[y];if(v.T=qe[0],qe=qe[1],v.G==2)if(qe[0]=="c"){v.K=qe[1],v.ia=qe[2];const Gt=qe[3];Gt!=null&&(v.la=Gt,v.j.info("VER="+v.la));const Pt=qe[4];Pt!=null&&(v.Aa=Pt,v.j.info("SVER="+v.Aa));const ar=qe[5];ar!=null&&typeof ar=="number"&&0<ar&&(S=1.5*ar,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Xt=h.g;if(Xt){const Oi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var K=S.h;K.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Xr(K,K.h),K.h=null))}if(S.D){const Sl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(S.ya=Sl,$e(S.I,S.D,Sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-h.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ue=h;if(S.qa=mc(S,S.J?S.ia:null,S.W),ue.K){Bn(S.h,ue);var Fe=ue,Vt=S.L;Vt&&(Fe.I=Vt),Fe.B&&(Ba(Fe),ht(Fe)),S.g=ue}else cc(S);0<v.i.length&&Xa(v)}else qe[0]!="stop"&&qe[0]!="close"||sr(v,7);else v.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?sr(v,7):Tl(v):qe[0]!="noop"&&v.l&&v.l.ta(qe),v.v=0)}}Fr(4)}catch{}}var $f=class{constructor(h,y){this.g=h,this.map=y}};function dl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function nc(h){return h.h?1:h.g?h.g.size:0}function Yr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Xr(h,y){h.g?h.g.add(y):h.h=y}function Bn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}dl.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function mn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.D);return y}return G(h.i)}function ic(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],v=h.length,S=0;S<v;S++)y.push(h[S]);return y}y=[],v=0;for(S in h)y[v++]=h[S];return y}function Kf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var v=0;v<h;v++)y.push(v);return y}y=[],v=0;for(const S in h)y[v++]=S;return y}}}function Fs(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var v=Kf(h),S=ic(h),F=S.length,K=0;K<F;K++)y.call(void 0,S[K],v&&v[K],h)}var pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fa(h,y){if(h){h=h.split("&");for(var v=0;v<h.length;v++){var S=h[v].indexOf("="),F=null;if(0<=S){var K=h[v].substring(0,S);F=h[v].substring(S+1)}else K=h[v];y(K,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function er(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof er){this.h=h.h,Wr(this,h.j),this.o=h.o,this.g=h.g,qs(this,h.s),this.l=h.l;var y=h.i,v=new Ri;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),qa(this,v),this.m=h.m}else h&&(y=String(h).match(pl))?(this.h=!1,Wr(this,y[1]||"",!0),this.o=Zr(y[2]||""),this.g=Zr(y[3]||"",!0),qs(this,y[4]),this.l=Zr(y[5]||"",!0),qa(this,y[6]||"",!0),this.m=Zr(y[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}er.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Fn(y,gl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Fn(y,gl,!0),"@"),h.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&h.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Fn(v,v.charAt(0)=="/"?yl:rc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Fn(v,Xf)),h.join("")};function pt(h){return new er(h)}function Wr(h,y,v){h.j=v?Zr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function qs(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function qa(h,y,v){y instanceof Ri?(h.i=y,vl(h.i,h.h)):(v||(y=Fn(y,Yf)),h.i=new Ri(y,h.h))}function $e(h,y,v){h.i.set(y,v)}function Hs(h){return $e(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Zr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fn(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,Qf),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Qf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var gl=/[#\/\?@]/g,rc=/[#\?:]/g,yl=/[#\?]/g,Yf=/[#\?@]/g,Xf=/#/g;function Ri(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function qn(h){h.g||(h.g=new Map,h.h=0,h.i&&Fa(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=Ri.prototype,n.add=function(h,y){qn(this),this.i=null,h=ir(this,h);var v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Ha(h,y){qn(h),y=ir(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function tr(h,y){return qn(h),y=ir(h,y),h.g.has(y)}n.forEach=function(h,y){qn(this),this.g.forEach(function(v,S){v.forEach(function(F){h.call(y,F,S,this)},this)},this)},n.na=function(){qn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const F=h[S];for(let K=0;K<F.length;K++)v.push(y[S])}return v},n.V=function(h){qn(this);let y=[];if(typeof h=="string")tr(this,h)&&(y=y.concat(this.g.get(ir(this,h))));else{h=Array.from(this.g.values());for(let v=0;v<h.length;v++)y=y.concat(h[v])}return y},n.set=function(h,y){return qn(this),this.i=null,h=ir(this,h),tr(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function nr(h,y,v){Ha(h,y),0<v.length&&(h.i=null,h.g.set(ir(h,y),G(v)),h.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const K=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var F=K;ue[S]!==""&&(F+="="+encodeURIComponent(String(ue[S]))),h.push(F)}}return this.i=h.join("&")};function ir(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function vl(h,y){y&&!h.j&&(qn(h),h.i=null,h.g.forEach(function(v,S){var F=S.toLowerCase();S!=F&&(Ha(this,S),nr(this,F,v))},h)),h.j=y}function sc(h,y){const v=new Hr;if(d.Image){const S=new Image;S.onload=I(Hn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=I(Hn,v,"TestLoadImage: error",!1,y,S),S.onabort=I(Hn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(Hn,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Gs(h,y){const v=new Hr,S=new AbortController,F=setTimeout(()=>{S.abort(),Hn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(F),K.ok?Hn(v,"TestPingServer: ok",!0,y):Hn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Hn(v,"TestPingServer: error",!1,y)})}function Hn(h,y,v,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(v)}catch{}}function $s(){this.g=new dn}function Ci(h,y,v){const S=v||"";try{Fs(h,function(F,K){let ue=F;g(F)&&(ue=ll(F)),y.push(S+K+"="+encodeURIComponent(ue))})}catch(F){throw y.push(S+"type="+encodeURIComponent("_badmap")),F}}function Jr(h){this.l=h.Ub||null,this.j=h.eb||!1}M(Jr,ul),Jr.prototype.g=function(){return new rr(this.l,this.j)},Jr.prototype.i=function(h){return function(){return h}}({});function rr(h,y){Te.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(rr,Te),n=rr.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,xi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_l(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function _l(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ii(this):xi(this),this.readyState==3&&_l(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ii(this))},n.Qa=function(h){this.g&&(this.response=h,Ii(this))},n.ga=function(){this.g&&Ii(this)};function Ii(h){h.readyState=4,h.l=null,h.j=null,h.v=null,xi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function xi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function El(h){let y="";return se(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ht(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=El(v),typeof h=="string"?v!=null&&encodeURIComponent(String(v)):$e(h,y,v))}function Xe(h){Te.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Xe,Te);var Ga=/^https?$/i,Ks=["POST","PUT"];n=Xe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zs.g(),this.v=this.o?Wu(this.o):Wu(zs),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){ac(this,K);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)v.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ks,y,void 0))||S||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of v)this.g.setRequestHeader(K,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){ac(this,K)}};function ac(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,$a(h),Ni(h)}function $a(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,tt(this,"complete"),tt(this,"abort"),Ni(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},n.bb=function(){Ka(this)};function Ka(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Gn(h)!=4||h.Z()!=2)){if(h.u&&Gn(h)==4)Wi(h.Ea,0,h);else if(tt(h,"readystatechange"),Gn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ue===0){var F=String(h.D).match(pl)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),S=!Ga.test(F?F.toLowerCase():"")}v=S}if(v)tt(h,"complete"),tt(h,"success");else{h.m=6;try{var K=2<Gn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",$a(h)}}finally{Ni(h)}}}}function Ni(h,y){if(h.g){Qs(h);const v=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||tt(h,"ready");try{v.onreadystatechange=S}catch{}}}function Qs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Gn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),bi(y)}};function oc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Wf(h){const y={};h=(h.g&&2<=Gn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(Z(h[S]))continue;var v=L(h[S]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[F]||[];y[F]=K,K.push(v)}k(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Qa(h){this.Aa=0,this.i=[],this.j=new Hr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,h),this.cb=Ys("retryDelaySeedMs",1e4,h),this.Wa=Ys("forwardChannelMaxRetries",2,h),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new dl(h&&h.concurrentRequestLimit),this.Da=new $s,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qa.prototype,n.la=8,n.G=1,n.connect=function(h,y,v,S){bt(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=mc(this,null,this.W),Xa(this)};function Tl(h){if(lc(h),h.G==3){var y=h.U++,v=pt(h.I);if($e(v,"SID",h.K),$e(v,"RID",y),$e(v,"TYPE","terminate"),Xs(h,v),y=new Si(h,h.j,y),y.L=2,y.v=Hs(pt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=pc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ht(y)}dc(h)}function Ya(h){h.g&&(Ws(h),h.g.cancel(),h.g=null)}function lc(h){Ya(h),h.u&&(d.clearTimeout(h.u),h.u=null),Wa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Xa(h){if(!ml(h.h)&&!h.s){h.s=!0;var y=h.Ga;pe||V(),he||(pe(),he=!0),De.add(y,h),h.B=0}}function Zf(h,y){return nc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=qr(A(h.Ga,h,y),Al(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const F=new Si(this,this.j,h);let K=this.o;if(this.S&&(K?(K=x(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(F.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=uc(this,F,y),v=pt(this.I),$e(v,"RID",h),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),Xs(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(El(K)))+"&"+y:this.m&&Ht(v,this.m,K)),Xr(this.h,F),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",y),$e(v,"SID","null"),F.T=!0,li(F,v,null)):li(F,v,y),this.G=2}}else this.G==3&&(h?bl(this,h):this.i.length==0||ml(this.h)||bl(this))};function bl(h,y){var v;y?v=y.l:v=h.U++;const S=pt(h.I);$e(S,"SID",h.K),$e(S,"RID",v),$e(S,"AID",h.T),Xs(h,S),h.m&&h.o&&Ht(S,h.m,h.o),v=new Si(h,h.j,v,h.B+1),h.m===null&&(v.H=h.o),y&&(h.i=y.D.concat(h.i)),y=uc(h,v,1e3),v.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Xr(h.h,v),li(v,S,y)}function Xs(h,y){h.H&&se(h.H,function(v,S){$e(y,S,v)}),h.l&&Fs({},function(v,S){$e(y,S,v)})}function uc(h,y,v){v=Math.min(h.i.length,v);var S=h.l?A(h.l.Na,h.l,h):null;e:{var F=h.i;let K=-1;for(;;){const ue=["count="+v];K==-1?0<v?(K=F[0].g,ue.push("ofs="+K)):K=0:ue.push("ofs="+K);let Fe=!0;for(let Vt=0;Vt<v;Vt++){let qe=F[Vt].g;const Gt=F[Vt].map;if(qe-=K,0>qe)K=Math.max(0,F[Vt].g-100),Fe=!1;else try{Ci(Gt,ue,"req"+qe+"_")}catch{S&&S(Gt)}}if(Fe){S=ue.join("&");break e}}}return h=h.i.splice(0,v),y.D=h,S}function cc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;pe||V(),he||(pe(),he=!0),De.add(y,h),h.v=0}}function wl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=qr(A(h.Fa,h),Al(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=qr(A(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),Ya(this),hc(this))};function Ws(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function hc(h){h.g=new Si(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=pt(h.qa);$e(y,"RID","rpc"),$e(y,"SID",h.K),$e(y,"AID",h.T),$e(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&$e(y,"TO",h.ja),$e(y,"TYPE","xmlhttp"),Xs(h,y),h.m&&h.o&&Ht(y,h.m,h.o),h.L&&(h.g.I=h.L);var v=h.g;h=h.ia,v.L=1,v.v=Hs(pt(y)),v.m=null,v.P=!0,Ji(v,h)}n.Za=function(){this.C!=null&&(this.C=null,Ya(this),wl(this),bt(19))};function Wa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function fc(h,y){var v=null;if(h.g==y){Wa(h),Ws(h),h.g=null;var S=2}else if(Yr(h.h,y))v=y.D,Bn(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=h.B;S=Ua(),tt(S,new Ju(S,v)),Xa(h)}else cc(h);else if(F=y.s,F==3||F==0&&0<y.X||!(S==1&&Zf(h,y)||S==2&&wl(h)))switch(v&&0<v.length&&(y=h.h,y.i=y.i.concat(v)),F){case 1:sr(h,5);break;case 4:sr(h,10);break;case 3:sr(h,6);break;default:sr(h,2)}}}function Al(h,y){let v=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(v*=2),v*y}function sr(h,y){if(h.j.info("Error code "+y),y==2){var v=A(h.fb,h),S=h.Xa;const F=!S;S=new er(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wr(S,"https"),Hs(S),F?sc(S.toString(),v):Gs(S.toString(),v)}else bt(2);h.G=0,h.l&&h.l.sa(y),dc(h),lc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function dc(h){if(h.G=0,h.ka=[],h.l){const y=mn(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,G(h.i),h.i.length=0),h.l.ra()}}function mc(h,y,v){var S=v instanceof er?pt(v):new er(v);if(S.g!="")y&&(S.g=y+"."+S.g),qs(S,S.s);else{var F=d.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var K=new er(null);S&&Wr(K,S),y&&(K.g=y),F&&qs(K,F),v&&(K.l=v),S=K}return v=h.D,y=h.ya,v&&y&&$e(S,v,y),$e(S,"VER",h.la),Xs(h,S),S}function pc(h,y,v){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Xe(new Jr({eb:v})):new Xe(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}n=gc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Za(){}Za.prototype.g=function(h,y){return new pn(h,y)};function pn(h,y){Te.call(this),this.g=new Qa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!Z(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Di(this)}M(pn,Te),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Tl(this.g)},pn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.u&&(v={},v.__data__=ll(h),h=v);y.i.push(new $f(y.Ya++,h)),y.G==3&&Xa(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,pn.aa.N.call(this)};function yc(h){zr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}M(yc,zr);function vc(){oi.call(this),this.status=1}M(vc,oi);function Di(h){this.g=h}M(Di,gc),Di.prototype.ua=function(){tt(this.g,"a")},Di.prototype.ta=function(h){tt(this.g,new yc(h))},Di.prototype.sa=function(h){tt(this.g,new vc)},Di.prototype.ra=function(){tt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,ob=function(){return new Za},ab=function(){return Ua()},sb=zn,Op={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,Oh=kt,Zi.COMPLETE="complete",rb=Zi,Zu.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Te.prototype.listen=Te.prototype.K,pu=Zu,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,ib=Xe}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const vE="@firebase/firestore",_E="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new vf("@firebase/firestore");function No(){return Ca.logLevel}function de(n,...e){if(Ca.logLevel<=je.DEBUG){const t=e.map(bg);Ca.debug(`Firestore (${Jo}): ${n}`,...t)}}function Or(n,...e){if(Ca.logLevel<=je.ERROR){const t=e.map(bg);Ca.error(`Firestore (${Jo}): ${n}`,...t)}}function zo(n,...e){if(Ca.logLevel<=je.WARN){const t=e.map(bg);Ca.warn(`Firestore (${Jo}): ${n}`,...t)}}function bg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function We(n,e){n||Ae()}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class Gx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $x{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Rr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Rr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new lb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new un(e)}}class Kx{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Qx{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new Kx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yx{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ni(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){We(this.o===void 0);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new EE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new EE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Xx(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Me(n,e){return n<e?-1:n>e?1:0}function Mp(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return Me(s,a);{const l=ub(),c=Wx(l.encode(TE(n,t)),l.encode(TE(e,t)));return c!==0?c:Me(s,a)}}t+=s>65535?2:1}return Me(n.length,e.length)}function TE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Wx(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Me(n[t],e[t]);return Me(n.length,e.length)}function Bo(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=-62135596800,wE=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*wE);return new _t(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bE)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new _t(0,0))}static max(){return new Ce(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="__name__";class Ui{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(),s===void 0?s=e.length-t:s>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Ui.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Me(e.length,t.length)}static compareSegments(e,t){const s=Ui.isNumericId(e),a=Ui.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Ui.extractNumericId(e).compare(Ui.extractNumericId(t)):Mp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class at extends Ui{construct(e,t,s){return new at(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new at(t)}static emptyPath(){return new at([])}}const Zx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ui{construct(e,t,s){return new tn(e,t,s)}static isValidIdentifier(e){return Zx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AE}static keyField(){return new tn([AE])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(at.fromString(e))}static fromName(e){return new Ee(at.fromString(e).popFirst(5))}static empty(){return new Ee(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return at.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new at(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function Jx(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(s===1e9?new _t(t+1,0):new _t(t,s));return new Ns(a,Ee.empty(),e)}function eN(n){return new Ns(n.readTime,n.key,xu)}class Ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ns(Ce.min(),Ee.empty(),xu)}static max(){return new Ns(Ce.max(),Ee.empty(),xu)}}function tN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==nN)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>s(p))}),c=!0,l===a&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(a=>a?ee.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(E=>{c[g]=E,++d,d===l&&s(c)},E=>a(E))}})}static doWhile(e,t){return new ee((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function rN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}wf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=-1;function Af(n){return n==null}function Yh(n){return n===0&&1/n==-1/0}function sN(n){return typeof n=="number"&&Number.isInteger(n)&&!Yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="";function aN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SE(e)),e=oN(n.get(t),e);return SE(e)}function oN(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case hb:t+="";break;default:t+=l}}return t}function SE(n){return n+hb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new en(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,s,a,l){return this}insert(e,t,s){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new zt(tn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new db("Invalid base64 string: "+l):l}}(e);return new nn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const lN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(n){if(We(!!n),typeof n=="string"){let e=0;const t=lN.exec(n);if(We(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Os(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="server_timestamp",pb="__type__",gb="__previous_value__",yb="__local_write_time__";function Ag(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pb])===null||t===void 0?void 0:t.stringValue)===mb}function Sf(n){const e=n.mapValue.fields[gb];return Ag(e)?Sf(e):e}function Nu(n){const e=Ds(n.mapValue.fields[yb].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,t,s,a,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Xh="(default)";class Du{constructor(e,t){this.projectId=e,this.database=t||Xh}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Xh}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="__type__",cN="__max__",Eh={mapValue:{}},_b="__vector__",Wh="value";function Ms(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ag(n)?4:fN(n)?9007199254740991:hN(n)?10:11:Ae()}function Hi(n,e){if(n===e)return!0;const t=Ms(n);if(t!==Ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nu(n).isEqual(Nu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ds(a.timestampValue),d=Ds(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Os(a.bytesValue).isEqual(Os(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=At(a.doubleValue),d=At(l.doubleValue);return c===d?Yh(c)===Yh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(RE(c)!==RE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Hi(c[p],d[p])))return!1;return!0}(n,e);default:return Ae()}}function Ou(n,e){return(n.values||[]).find(t=>Hi(t,e))!==void 0}function Fo(n,e){if(n===e)return 0;const t=Ms(n),s=Ms(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=At(l.integerValue||l.doubleValue),p=At(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return IE(n.timestampValue,e.timestampValue);case 4:return IE(Nu(n),Nu(e));case 5:return Mp(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Os(l),p=Os(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=Me(d[g],p[g]);if(E!==0)return E}return Me(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Me(At(l.latitude),At(c.latitude));return d!==0?d:Me(At(l.longitude),At(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,E;const b=l.fields||{},A=c.fields||{},I=(d=b[Wh])===null||d===void 0?void 0:d.arrayValue,M=(p=A[Wh])===null||p===void 0?void 0:p.arrayValue,G=Me(((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:xE(I,M)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Eh.mapValue&&c===Eh.mapValue)return 0;if(l===Eh.mapValue)return 1;if(c===Eh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const A=Mp(p[b],E[b]);if(A!==0)return A;const I=Fo(d[p[b]],g[E[b]]);if(I!==0)return I}return Me(p.length,E.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function IE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Ds(n),s=Ds(e),a=Me(t.seconds,s.seconds);return a!==0?a:Me(t.nanos,s.nanos)}function xE(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Fo(t[a],s[a]);if(l)return l}return Me(t.length,s.length)}function qo(n){return kp(n)}function kp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Ds(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Os(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=kp(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${kp(t.fields[c])}`;return a+"}"}(n.mapValue):Ae()}function Mh(n){switch(Ms(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sf(n);return e?16+Mh(e):16;case 5:return 2*n.stringValue.length;case 6:return Os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Mh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Ls(s.fields,(l,c)=>{a+=l.length+Mh(c)}),a}(n.mapValue);default:throw Ae()}}function NE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vp(n){return!!n&&"integerValue"in n}function Sg(n){return!!n&&"arrayValue"in n}function DE(n){return!!n&&"nullValue"in n}function OE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kh(n){return!!n&&"mapValue"in n}function hN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vb])===null||t===void 0?void 0:t.stringValue)===_b}function Tu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ls(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Tu(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=tn.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=Tu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];kh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ls(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Sn(Tu(this.value))}}function Eb(n){const e=[];return Ls(n.fields,(t,s)=>{const a=new tn([t]);if(kh(s)){const l=Eb(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Ce.min(),Ce.min(),Ce.min(),Sn.empty(),0)}static newFoundDocument(e,t,s,a){return new cn(e,1,t,Ce.min(),s,a,0)}static newNoDocument(e,t){return new cn(e,2,t,Ce.min(),Ce.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Ce.min(),Ce.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t){this.position=e,this.inclusive=t}}function ME(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?s=Ee.comparator(Ee.fromName(c.referenceValue),t.key):s=Fo(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function kE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t="asc"){this.field=e,this.dir=t}}function dN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{}class Nt extends Tb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new pN(e,t,s):t==="array-contains"?new vN(e,s):t==="in"?new _N(e,s):t==="not-in"?new EN(e,s):t==="array-contains-any"?new TN(e,s):new Nt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new gN(e,s):new yN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fo(t,this.value)):t!==null&&Ms(this.value)===Ms(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends Tb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new vi(e,t)}matches(e){return bb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bb(n){return n.op==="and"}function wb(n){return mN(n)&&bb(n)}function mN(n){for(const e of n.filters)if(e instanceof vi)return!1;return!0}function Pp(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+qo(n.value);if(wb(n))return n.filters.map(e=>Pp(e)).join(",");{const e=n.filters.map(t=>Pp(t)).join(",");return`${n.op}(${e})`}}function Ab(n,e){return n instanceof Nt?function(s,a){return a instanceof Nt&&s.op===a.op&&s.field.isEqual(a.field)&&Hi(s.value,a.value)}(n,e):n instanceof vi?function(s,a){return a instanceof vi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&Ab(c,a.filters[d]),!0):!1}(n,e):void Ae()}function Sb(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`}(n):n instanceof vi?function(t){return t.op.toString()+" {"+t.getFilters().map(Sb).join(" ,")+"}"}(n):"Filter"}class pN extends Nt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class gN extends Nt{constructor(e,t){super(e,"in",t),this.keys=Rb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yN extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=Rb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class vN extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sg(t)&&Ou(t.arrayValue,this.value)}}class _N extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ou(this.value.arrayValue,t)}}class EN extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ou(this.value.arrayValue,t)}}class TN extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function VE(n,e=null,t=[],s=[],a=null,l=null,c=null){return new bN(n,e,t,s,a,l,c)}function Rg(n){const e=xe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Pp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>qo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>qo(s)).join(",")),e.le=t}return e.le}function Cg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ab(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!kE(n.startAt,e.startAt)&&kE(n.endAt,e.endAt)}function Lp(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wN(n,e,t,s,a,l,c,d){return new qu(n,e,t,s,a,l,c,d)}function Ig(n){return new qu(n)}function PE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Cb(n){return n.collectionGroup!==null}function bu(n){const e=xe(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new zt(tn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Jh(l,s))}),t.has(tn.keyField().canonicalString())||e.he.push(new Jh(tn.keyField(),s))}return e.he}function zi(n){const e=xe(n);return e.Pe||(e.Pe=AN(e,bu(n))),e.Pe}function AN(n,e){if(n.limitType==="F")return VE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Jh(a.field,l)});const t=n.endAt?new Zh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Zh(n.startAt.position,n.startAt.inclusive):null;return VE(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Up(n,e){const t=n.filters.concat([e]);return new qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jp(n,e,t){return new qu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rf(n,e){return Cg(zi(n),zi(e))&&n.limitType===e.limitType}function Ib(n){return`${Rg(zi(n))}|lt:${n.limitType}`}function Do(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Sb(a)).join(", ")}]`),Af(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>qo(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>qo(a)).join(",")),`Target(${s})`}(zi(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ee.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,a){for(const l of bu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(c,d,p){const g=ME(c,d,p);return c.inclusive?g<=0:g<0}(s.startAt,bu(s),a)||s.endAt&&!function(c,d,p){const g=ME(c,d,p);return c.inclusive?g>=0:g>0}(s.endAt,bu(s),a))}(n,e)}function SN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xb(n){return(e,t)=>{let s=!1;for(const a of bu(n)){const l=RN(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function RN(n,e,t){const s=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Fo(p,g):Ae()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return fb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new mt(Ee.comparator);function Mr(){return CN}const Nb=new mt(Ee.comparator);function gu(...n){let e=Nb;for(const t of n)e=e.insert(t.key,t);return e}function Db(n){let e=Nb;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ba(){return wu()}function Ob(){return wu()}function wu(){return new Va(n=>n.toString(),(n,e)=>n.isEqual(e))}const IN=new mt(Ee.comparator),xN=new zt(Ee.comparator);function ze(...n){let e=xN;for(const t of n)e=e.add(t);return e}const NN=new zt(Me);function DN(){return NN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function Mb(n){return{integerValue:""+n}}function kb(n,e){return sN(e)?Mb(e):xg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(){this._=void 0}}function ON(n,e,t){return n instanceof Mu?function(a,l){const c={fields:{[pb]:{stringValue:mb},[yb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ag(l)&&(l=Sf(l)),l&&(c.fields[gb]=l),{mapValue:c}}(t,e):n instanceof Ho?Pb(n,e):n instanceof ku?Lb(n,e):function(a,l){const c=Vb(a,l),d=LE(c)+LE(a.Ie);return Vp(c)&&Vp(a.Ie)?Mb(d):xg(a.serializer,d)}(n,e)}function MN(n,e,t){return n instanceof Ho?Pb(n,e):n instanceof ku?Lb(n,e):t}function Vb(n,e){return n instanceof Vu?function(s){return Vp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Mu extends If{}class Ho extends If{constructor(e){super(),this.elements=e}}function Pb(n,e){const t=Ub(e);for(const s of n.elements)t.some(a=>Hi(a,s))||t.push(s);return{arrayValue:{values:t}}}class ku extends If{constructor(e){super(),this.elements=e}}function Lb(n,e){let t=Ub(e);for(const s of n.elements)t=t.filter(a=>!Hi(a,s));return{arrayValue:{values:t}}}class Vu extends If{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function LE(n){return At(n.integerValue||n.doubleValue)}function Ub(n){return Sg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){this.field=e,this.transform=t}}function kN(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof Ho&&a instanceof Ho||s instanceof ku&&a instanceof ku?Bo(s.elements,a.elements,Hi):s instanceof Vu&&a instanceof Vu?Hi(s.Ie,a.Ie):s instanceof Mu&&a instanceof Mu}(n.transform,e.transform)}class VN{constructor(e,t){this.version=e,this.transformResults=t}}class Bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xf{}function jb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bb(n.key,Bi.none()):new Hu(n.key,n.data,Bi.none());{const t=n.data,s=Sn.empty();let a=new zt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Us(n.key,s,new Pn(a.toArray()),Bi.none())}}function PN(n,e,t){n instanceof Hu?function(a,l,c){const d=a.value.clone(),p=jE(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Us?function(a,l,c){if(!Vh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=jE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(zb(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Au(n,e,t,s){return n instanceof Hu?function(l,c,d,p){if(!Vh(l.precondition,c))return d;const g=l.value.clone(),E=zE(l.fieldTransforms,p,c);return g.setAll(E),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof Us?function(l,c,d,p){if(!Vh(l.precondition,c))return d;const g=zE(l.fieldTransforms,p,c),E=c.data;return E.setAll(zb(l)),E.setAll(g),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,s):function(l,c,d){return Vh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function LN(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=Vb(s.transform,a||null);l!=null&&(t===null&&(t=Sn.empty()),t.set(s.field,l))}return t||null}function UE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Bo(s,a,(l,c)=>kN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Hu extends xf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Us extends xf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function jE(n,e,t){const s=new Map;We(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,MN(c,d,t[a]))}return s}function zE(n,e,t){const s=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);s.set(a.field,ON(l,c,e))}return s}class Bb extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UN extends xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&PN(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Au(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Au(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ob();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=jb(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(t,s)=>UE(t,s))&&Bo(this.baseMutations,e.baseMutations,(t,s)=>UE(t,s))}}class Dg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){We(e.mutations.length===s.length);let a=function(){return IN}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Dg(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ge;function FN(n){switch(n){case te.OK:return Ae();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ae()}}function Fb(n){if(n===void 0)return Or("GRPC error has no .code"),te.UNKNOWN;switch(n){case xt.OK:return te.OK;case xt.CANCELLED:return te.CANCELLED;case xt.UNKNOWN:return te.UNKNOWN;case xt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case xt.INTERNAL:return te.INTERNAL;case xt.UNAVAILABLE:return te.UNAVAILABLE;case xt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case xt.NOT_FOUND:return te.NOT_FOUND;case xt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case xt.ABORTED:return te.ABORTED;case xt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case xt.DATA_LOSS:return te.DATA_LOSS;default:return Ae()}}(Ge=xt||(xt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Is([4294967295,4294967295],0);function BE(n){const e=ub().encode(n),t=new nb;return t.update(e),new Uint8Array(t.digest())}function FE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Is([t,s],0),new Is([a,l],0)]}class Og{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(s<0)throw new yu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Is.fromNumber(this.Ee)}Ae(e,t,s){let a=e.add(t.multiply(Is.fromNumber(s)));return a.compare(qN)===1&&(a=new Is([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=BE(e),[s,a]=FE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Og(l,a,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=BE(e),[s,a]=FE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Nf(Ce.min(),a,new mt(Me),Mr(),ze())}}class Gu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Gu(s,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,s,a){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=a}}class qb{constructor(e,t){this.targetId=e,this.ge=t}}class Hb{constructor(e,t,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class qE{constructor(){this.pe=0,this.ye=HE(),this.we=nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ze(),t=ze(),s=ze();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ae()}}),new Gu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=HE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,We(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class HN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mr(),this.$e=Th(),this.Ue=Th(),this.Ke=new mt(Me)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,s=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Lp(l))if(s===0){const c=new Ee(l.path);this.ze(t,c,cn.newNoDocument(c,Ce.min()))}else We(s===1);else{const c=this.et(t);if(c!==s){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Os(s).toUint8Array()}catch(p){if(p instanceof db)return zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Og(c,a,l)}catch(p){return zo(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Lp(d.target)){const p=new Ee(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,cn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let s=ze();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Nf(e,t,this.Ke,this.Qe,s);return this.Qe=Mr(),this.$e=Th(),this.Ue=Th(),this.Ke=new mt(Me),a}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new qE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new zt(Me),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new zt(Me),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new qE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Th(){return new mt(Ee.comparator)}function HE(){return new mt(Ee.comparator)}const GN={asc:"ASCENDING",desc:"DESCENDING"},$N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KN={and:"AND",or:"OR"};class QN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zp(n,e){return n.useProto3Json||Af(e)?e:{value:e}}function ef(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YN(n,e){return ef(n,e.toTimestamp())}function Fi(n){return We(!!n),Ce.fromTimestamp(function(t){const s=Ds(t);return new _t(s.seconds,s.nanos)}(n))}function Mg(n,e){return Bp(n,e).canonicalString()}function Bp(n,e){const t=function(a){return new at(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $b(n){const e=at.fromString(n);return We(Wb(e)),e}function Fp(n,e){return Mg(n.databaseId,e.path)}function rp(n,e){const t=$b(e);if(t.get(1)!==n.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(Qb(t))}function Kb(n,e){return Mg(n.databaseId,e)}function XN(n){const e=$b(n);return e.length===4?at.emptyPath():Qb(e)}function qp(n){return new at(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Qb(n){return We(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function GE(n,e,t){return{name:Fp(n,e),fields:t.value.mapValue.fields}}function WN(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(We(E===void 0||typeof E=="string"),nn.fromBase64String(E||"")):(We(E===void 0||E instanceof Buffer||E instanceof Uint8Array),nn.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const E=g.code===void 0?te.UNKNOWN:Fb(g.code);return new me(E,g.message||"")}(c);t=new Hb(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=rp(n,s.document.name),l=Fi(s.document.updateTime),c=s.document.createTime?Fi(s.document.createTime):Ce.min(),d=new Sn({mapValue:{fields:s.document.fields}}),p=cn.newFoundDocument(a,l,c,d),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=rp(n,s.document),l=s.readTime?Fi(s.readTime):Ce.min(),c=cn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new Ph([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=rp(n,s.document),l=s.removedTargetIds||[];t=new Ph([],l,a,null)}else{if(!("filter"in e))return Ae();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new BN(a,l),d=s.targetId;t=new qb(d,c)}}return t}function ZN(n,e){let t;if(e instanceof Hu)t={update:GE(n,e.key,e.value)};else if(e instanceof Bb)t={delete:Fp(n,e.key)};else if(e instanceof Us)t={update:GE(n,e.key,e.data),updateMask:oD(e.fieldMask)};else{if(!(e instanceof UN))return Ae();t={verify:Fp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Mu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ho)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vu)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ae()}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:YN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(n,e.precondition)),t}function JN(n,e){return n&&n.length>0?(We(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Fi(a.updateTime):Fi(l);return c.isEqual(Ce.min())&&(c=Fi(l)),new VN(c,a.transformResults||[])}(t,e))):[]}function eD(n,e){return{documents:[Kb(n,e.path)]}}function tD(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Kb(n,a);const l=function(g){if(g.length!==0)return Xb(vi.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Oo(A.field),direction:rD(A.dir)}}(E))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=zp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function nD(n){let e=XN(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){We(s===1);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(b){const A=Yb(b);return A instanceof vi&&wb(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(A=>function(M){return new Jh(Mo(M.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(b){let A;return A=typeof b=="object"?b.value:b,Af(A)?null:A}(t.limit));let p=null;t.startAt&&(p=function(b){const A=!!b.before,I=b.values||[];return new Zh(I,A)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const A=!b.before,I=b.values||[];return new Zh(I,A)}(t.endAt)),wN(e,a,c,l,d,"F",p,g)}function iD(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Yb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Mo(t.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Mo(t.unaryFilter.field);return Nt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Mo(t.unaryFilter.field);return Nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mo(t.unaryFilter.field);return Nt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(Mo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vi.create(t.compositeFilter.filters.map(s=>Yb(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function rD(n){return GN[n]}function sD(n){return $N[n]}function aD(n){return KN[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Mo(n){return tn.fromServerFormat(n.fieldPath)}function Xb(n){return n instanceof Nt?function(t){if(t.op==="=="){if(OE(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(DE(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OE(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(DE(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:sD(t.op),value:t.value}}}(n):n instanceof vi?function(t){const s=t.getFilters().map(a=>Xb(a));return s.length===1?s[0]:{compositeFilter:{op:aD(t.op),filters:s}}}(n):Ae()}function oD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Wb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,s,a,l=Ce.min(),c=Ce.min(),d=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.Tt=e}}function uD(n){const e=nD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.Tn=new hD}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Ns.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class hD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new zt(at.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new zt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zb=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(Zb,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Go(0)}static Kn(){return new Go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="LruGarbageCollector",fD=1048576;function QE([n,e],[t,s]){const a=Me(n,t);return a===0?Me(e,s):a}class dD{constructor(e){this.Hn=e,this.buffer=new zt(QE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();QE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(KE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?de(KE,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.er(3e5)})}}class pD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(wf.ae);const s=new dD(t);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve($E)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,a,l,c,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(s=b,d=Date.now(),this.removeTargets(e,s,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),No()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function gD(n,e){return new pD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.changes=new Va(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&Au(s.mutation,a,Pn.empty(),_t.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ze()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ze()){const a=ba();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let c=gu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=ba();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ze()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,a){let l=Mr();const c=wu(),d=function(){return wu()}();return t.forEach((p,g)=>{const E=s.get(g.key);a.has(g.key)&&(E===void 0||E.mutation instanceof Us)?l=l.insert(g.key,g):E!==void 0?(c.set(g.key,E.mutation.getFieldMask()),Au(E.mutation,g,E.mutation.getFieldMask(),_t.now())):c.set(g.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,E)=>c.set(g,E)),t.forEach((g,E)=>{var b;return d.set(g,new vD(E,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const s=wu();let a=new mt((c,d)=>c-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Pn.empty();E=d.applyToLocalView(g,E),s.set(p,E);const b=(a.get(d.batchId)||ze()).add(p);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,b=Ob();E.forEach(A=>{if(!l.has(A)){const I=jb(t.get(A),s.get(A));I!==null&&b.set(A,I),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ee.resolve(ba());let d=xu,p=l;return c.next(g=>ee.forEach(g,(E,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,ze())).next(E=>({batchId:d,changes:Db(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(s=>{let a=gu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,p=>{const g=function(b,A){return new qu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(E=>{E.forEach((b,A)=>{c=c.insert(b,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(c=>{l.forEach((p,g)=>{const E=g.getKey();c.get(E)===null&&(c=c.insert(E,cn.newInvalidDocument(E)))});let d=gu();return c.forEach((p,g)=>{const E=l.get(p);E!==void 0&&Au(E.mutation,g,Pn.empty(),_t.now()),Cf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:uD(a.bundledQuery),readTime:Fi(a.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.overlays=new mt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ba();return ee.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.Et(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const a=ba(),l=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ee.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new mt((g,E)=>g-E);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=l.get(g.largestBatchId);E===null&&(E=ba(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=ba(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=a)););return ee.resolve(d)}Et(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new zN(t,s));let l=this.Rr.get(t);l===void 0&&(l=ze(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Vr=new zt(Yt.mr),this.gr=new zt(Yt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Yt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Yt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Ee(new at([])),s=new Yt(t,e),a=new Yt(t,e+1),l=[];return this.gr.forEachInRange([s,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new at([])),s=new Yt(t,e),a=new Yt(t,e+1);let l=ze();return this.gr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Yt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||Me(e.Cr,t.Cr)}static pr(e,t){return Me(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new zt(Yt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new jN(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Yt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Nr(s),l=a<0?0:a;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?wg:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Yt(t,0),a=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new zt(Me);return t.forEach(a=>{const l=new Yt(a,0),c=new Yt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{s=s.add(d.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Yt(new Ee(l),0);let d=new zt(Me);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Cr)),!0)},c),ee.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){We(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(t.mutations,a=>{const l=new Yt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Yt(t,0),a=this.Mr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.kr=e,this.docs=function(){return new mt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let s=Mr();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Mr();const c=t.path,d=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||tN(eN(E),s)<=0||(a.has(E.key)||Cf(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Ae()}qr(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new SD(this)}getSize(e){return ee.resolve(this.size)}}class SD extends yD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.persistence=e,this.Qr=new Va(t=>Rg(t),Cg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new kg,this.targetCount=0,this.Kr=Go.Un()}forEachTarget(e,t){return this.Qr.forEach((s,a)=>t(a)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Go(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ee.waitFor(l).next(()=>a)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new wf(0),this.zr=!1,this.zr=!0,this.jr=new bD,this.referenceDelegate=e(this),this.Hr=new RD(this),this.indexManager=new cD,this.remoteDocumentCache=function(a){return new AD(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new lD(t),this.Yr=new ED(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new wD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const a=new CD(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class CD extends iN{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.ti=new kg,this.ni=null}static ri(e){return new Vg(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const a=Ee.fromPath(s);return this.si(e,a).next(l=>{l||t.removeEntry(a,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class tf{constructor(e,t){this.persistence=e,this.oi=new Va(s=>aN(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=gD(this,t)}static ri(e,t){return new tf(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(l=>l?ee.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Ce.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}ar(e,t,s){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ee.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=a}static Yi(e,t){let s=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Pg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return TC()?8:rN(fn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new ID;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,s,a){return s.documentReadCount<this.es?(No()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(No()<=je.DEBUG&&de("QueryEngine","Query:",Do(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(No()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(t))):ee.resolve())}rs(e,t){if(PE(t))return ee.resolve(null);let s=zi(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=jp(t,null,"F"),s=zi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=ze(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,c,p.readTime)?this.rs(e,jp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,a){return PE(t)||a.isEqual(Ce.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(l=>{const c=this.cs(t,l);return this.ls(t,c,s,a)?ee.resolve(null):(No()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Do(t)),this.hs(e,c,t,Jx(a,xu)).next(d=>d))})}cs(e,t){let s=new zt(xb(e));return t.forEach((a,l)=>{Cf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,s){return No()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Do(t)),this.ns.getDocumentsMatchingQuery(e,t,Ns.min(),s)}hs(e,t,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="LocalStore",ND=3e8;class DD{constructor(e,t,s,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new mt(Me),this.Is=new Va(l=>Rg(l),Cg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _D(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function OD(n,e,t,s){return new DD(n,e,t,s)}async function ew(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let p=ze();for(const g of a){c.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function MD(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const b=g.batch,A=b.keys();let I=ee.resolve();return A.forEach(M=>{I=I.next(()=>E.getEntry(p,M)).next(G=>{const P=g.docVersions.get(M);We(P!==null),G.version.compareTo(P)<0&&(b.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function tw(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function kD(n,e){const t=xe(n),s=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((E,b)=>{const A=a.get(b);if(!A)return;d.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,b)));let I=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),a=a.insert(b,I),function(G,P,H){return G.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=ND?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(A,I,E)&&d.push(t.Hr.updateTargetData(l,I))});let p=Mr(),g=ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(VD(l,c,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ce.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(E)}return ee.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=a,l))}function VD(n,e,t){let s=ze(),a=ze();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let c=Mr();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(Lg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function PD(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function LD(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Hr.getTargetData(s,e).next(l=>l?(a=l,ee.resolve(a)):t.Hr.allocateTargetId(s).next(c=>(a=new Ss(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Hp(n,e,t){const s=xe(n),a=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!tl(c))throw c;de(Lg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function YE(n,e,t){const s=xe(n);let a=Ce.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,E){const b=xe(p),A=b.Is.get(E);return A!==void 0?ee.resolve(b.Ts.get(A)):b.Hr.getTargetData(g,E)}(s,c,zi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,e,t?a:Ce.min(),t?l:ze())).next(d=>(UD(s,SN(e),d),{documents:d,gs:l})))}function UD(n,e,t){let s=n.Es.get(e)||Ce.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Es.set(e,s)}class XE{constructor(){this.activeTargetIds=DN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jD{constructor(){this.ho=new XE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new XE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="ConnectivityMonitor";class ZE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(WE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(WE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Gp(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Xh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,t,s,a,l){const c=Gp(),d=this.bo(e,t.toUriEncodedString());de(sp,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,s).then(g=>(de(sp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw zo(sp,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,a,l,c){return this.So(e,t,s,a,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const s=BD[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class HD extends FD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,a){const l=Gp();return new Promise((c,d)=>{const p=new ib;p.setWithCredentials(!0),p.listenOnce(rb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Oh.NO_ERROR:const E=p.getResponseJson();de(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),c(E);break;case Oh.TIMEOUT:de(ln,`RPC '${e}' ${l} timed out`),d(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const b=p.getStatus();if(de(ln,`RPC '${e}' ${l} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const M=function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(H)>=0?H:te.UNKNOWN}(I.status);d(new me(M,I.message))}else d(new me(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new me(te.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{de(ln,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);de(ln,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const a=Gp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ob(),d=ab(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=l.join("");de(ln,`Creating RPC '${e}' stream ${a}: ${E}`,p);const b=c.createWebChannel(E,p);let A=!1,I=!1;const M=new qD({Fo:P=>{I?de(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(A||(de(ln,`Opening RPC '${e}' stream ${a} transport.`),b.open(),A=!0),de(ln,`RPC '${e}' stream ${a} sending:`,P),b.send(P))},Mo:()=>b.close()}),G=(P,H,Z)=>{P.listen(H,Q=>{try{Z(Q)}catch(ae){setTimeout(()=>{throw ae},0)}})};return G(b,pu.EventType.OPEN,()=>{I||(de(ln,`RPC '${e}' stream ${a} transport opened.`),M.Qo())}),G(b,pu.EventType.CLOSE,()=>{I||(I=!0,de(ln,`RPC '${e}' stream ${a} transport closed`),M.Uo())}),G(b,pu.EventType.ERROR,P=>{I||(I=!0,zo(ln,`RPC '${e}' stream ${a} transport errored:`,P),M.Uo(new me(te.UNAVAILABLE,"The operation could not be completed")))}),G(b,pu.EventType.MESSAGE,P=>{var H;if(!I){const Z=P.data[0];We(!!Z);const Q=Z,ae=(Q==null?void 0:Q.error)||((H=Q[0])===null||H===void 0?void 0:H.error);if(ae){de(ln,`RPC '${e}' stream ${a} received error:`,ae);const W=ae.status;let se=function(R){const D=xt[R];if(D!==void 0)return Fb(D)}(W),k=ae.message;se===void 0&&(se=te.INTERNAL,k="Unknown error status: "+W+" with message "+ae.message),I=!0,M.Uo(new me(se,k)),b.close()}else de(ln,`RPC '${e}' stream ${a} received:`,Z),M.Ko(Z)}}),G(d,sb.STAT_EVENT,P=>{P.stat===Op.PROXY?de(ln,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===Op.NOPROXY&&de(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(n){return new QN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-s);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="PersistentStream";class iw{constructor(e,t,s,a,l,c,d,p){this.Ti=e,this.n_=s,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===t&&this.V_(s,a)},s=>{e(()=>{const a=new me(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(de(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GD extends iw{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=WN(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Fi(c.readTime):Ce.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=qp(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Lp(p)?{documents:eD(l,p)}:{query:tD(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Gb(l,c.resumeToken);const g=zp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=ef(l,c.snapshotVersion.toTimestamp());const g=zp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=iD(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=qp(this.serializer),t.removeTarget=e,this.I_(t)}}class $D extends iw{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=JN(e.writeResults,e.commitTime),s=Fi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=qp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>ZN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{}class QD extends KD{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Bp(t,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(te.UNKNOWN,l.toString())})}Co(e,t,s,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Bp(t,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(te.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class YD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Or(t),this.N_=!1):de("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class XD{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{s.enqueueAndForget(async()=>{Pa(this)&&(de(Ia,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.W_.add(4),await $u(g),g.j_.set("Unknown"),g.W_.delete(4),await Of(g)}(this))})}),this.j_=new YD(s,a)}}async function Of(n){if(Pa(n))for(const e of n.G_)await e(!0)}async function $u(n){for(const e of n.G_)await e(!1)}function rw(n,e){const t=xe(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Bg(t)?zg(t):nl(t).c_()&&jg(t,e))}function Ug(n,e){const t=xe(n),s=nl(t);t.K_.delete(e),s.c_()&&sw(t,e),t.K_.size===0&&(s.c_()?s.P_():Pa(t)&&t.j_.set("Unknown"))}function jg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nl(n).y_(e)}function sw(n,e){n.H_.Ne(e),nl(n).w_(e)}function zg(n){n.H_=new HN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),nl(n).start(),n.j_.B_()}function Bg(n){return Pa(n)&&!nl(n).u_()&&n.K_.size>0}function Pa(n){return xe(n).W_.size===0}function aw(n){n.H_=void 0}async function WD(n){n.j_.set("Online")}async function ZD(n){n.K_.forEach((e,t)=>{jg(n,e)})}async function JD(n,e){aw(n),Bg(n)?(n.j_.q_(e),zg(n)):n.j_.set("Unknown")}async function eO(n,e,t){if(n.j_.set("Online"),e instanceof Hb&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(s){de(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nf(n,s)}else if(e instanceof Ph?n.H_.We(e):e instanceof qb?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const s=await tw(n.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=l.K_.get(g);E&&l.K_.set(g,E.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const E=l.K_.get(p);if(!E)return;l.K_.set(p,E.withResumeToken(nn.EMPTY_BYTE_STRING,E.snapshotVersion)),sw(l,p);const b=new Ss(E.target,p,g,E.sequenceNumber);jg(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){de(Ia,"Failed to raise snapshot:",s),await nf(n,s)}}async function nf(n,e,t){if(!tl(e))throw e;n.W_.add(1),await $u(n),n.j_.set("Offline"),t||(t=()=>tw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Ia,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Of(n)})}function ow(n,e){return e().catch(t=>nf(n,t,e))}async function Mf(n){const e=xe(n),t=ks(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:wg;for(;tO(e);)try{const a=await PD(e.localStore,s);if(a===null){e.U_.length===0&&t.P_();break}s=a.batchId,nO(e,a)}catch(a){await nf(e,a)}lw(e)&&uw(e)}function tO(n){return Pa(n)&&n.U_.length<10}function nO(n,e){n.U_.push(e);const t=ks(n);t.c_()&&t.S_&&t.b_(e.mutations)}function lw(n){return Pa(n)&&!ks(n).u_()&&n.U_.length>0}function uw(n){ks(n).start()}async function iO(n){ks(n).C_()}async function rO(n){const e=ks(n);for(const t of n.U_)e.b_(t.mutations)}async function sO(n,e,t){const s=n.U_.shift(),a=Dg.from(s,e,t);await ow(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Mf(n)}async function aO(n,e){e&&ks(n).S_&&await async function(s,a){if(function(c){return FN(c)&&c!==te.ABORTED}(a.code)){const l=s.U_.shift();ks(s).h_(),await ow(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Mf(s)}}(n,e),lw(n)&&uw(n)}async function eT(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(Ia,"RemoteStore received new credentials");const s=Pa(t);t.W_.add(3),await $u(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Of(t)}async function oO(n,e){const t=xe(n);e?(t.W_.delete(2),await Of(t)):e||(t.W_.add(2),await $u(t),t.j_.set("Unknown"))}function nl(n){return n.J_||(n.J_=function(t,s,a){const l=xe(t);return l.M_(),new GD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:WD.bind(null,n),No:ZD.bind(null,n),Lo:JD.bind(null,n),p_:eO.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Bg(n)?zg(n):n.j_.set("Unknown")):(await n.J_.stop(),aw(n))})),n.J_}function ks(n){return n.Y_||(n.Y_=function(t,s,a){const l=xe(t);return l.M_(),new $D(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:iO.bind(null,n),Lo:aO.bind(null,n),D_:rO.bind(null,n),v_:sO.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Mf(n)):(await n.Y_.stop(),n.U_.length>0&&(de(Ia,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new Fg(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(n,e){if(Or("AsyncQueue",`${e}: ${n}`),tl(n))return new me(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=gu(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.Z_=new mt(Ee.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class $o{constructor(e,t,s,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new $o(e,t,Uo.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uO{constructor(){this.queries=nT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const a=xe(t),l=a.queries;a.queries=nT(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(s)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function nT(){return new Va(n=>Ib(n),Rf)}async function cw(n,e){const t=xe(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(s=2):(l=new lO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=qg(c,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Hg(t)}async function hw(n,e){const t=xe(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function cO(n,e){const t=xe(n);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(s=!0);c.ea=a}}s&&Hg(t)}function hO(n,e,t){const s=xe(n),a=s.queries.get(e);if(a)for(const l of a.ta)l.onError(t);s.queries.delete(e)}function Hg(n){n.ia.forEach(e=>{e.next()})}var $p,iT;(iT=$p||($p={}))._a="default",iT.Cache="cache";class fw{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new $o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.key=e}}class mw{constructor(e){this.key=e}}class fO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ze(),this.mutatedKeys=ze(),this.ya=xb(e),this.wa=new Uo(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new tT,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,b)=>{const A=a.get(E),I=Cf(this.query,b)?b:null,M=!!A&&this.mutatedKeys.has(A.key),G=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;A&&I?A.data.isEqual(I.data)?M!==G&&(s.track({type:3,doc:I}),P=!0):this.va(A,I)||(s.track({type:2,doc:I}),P=!0,(p&&this.ya(I,p)>0||g&&this.ya(I,g)<0)&&(d=!0)):!A&&I?(s.track({type:0,doc:I}),P=!0):A&&!I&&(s.track({type:1,doc:A}),P=!0,(p||g)&&(d=!0)),P&&(I?(c=c.add(I),l=G?l.add(E):l.delete(E)):(c=c.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{wa:c,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((E,b)=>function(I,M){const G=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return G(I)-G(M)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),a=a!=null&&a;const d=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,g=p!==this.ga;return this.ga=p,c.length!==0||g?{snapshot:new $o(this.query,e.wa,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ze(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new mw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new dw(s))}),t}Oa(e){this.fa=e.gs,this.pa=ze();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return $o.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Gg="SyncEngine";class dO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class mO{constructor(e){this.key=e,this.Ba=!1}}class pO{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Va(d=>Ib(d),Rf),this.qa=new Map,this.Qa=new Set,this.$a=new mt(Ee.comparator),this.Ua=new Map,this.Ka=new kg,this.Wa={},this.Ga=new Map,this.za=Go.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gO(n,e,t=!0){const s=Ew(n);let a;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await pw(s,e,t,!0),a}async function yO(n,e){const t=Ew(n);await pw(t,e,!0,!1)}async function pw(n,e,t,s){const a=await LD(n.localStore,zi(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await vO(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&rw(n.remoteStore,a),d}async function vO(n,e,t,s,a){n.Ha=(b,A,I)=>async function(G,P,H,Z){let Q=P.view.ba(H);Q.ls&&(Q=await YE(G.localStore,P.query,!1).then(({documents:k})=>P.view.ba(k,Q)));const ae=Z&&Z.targetChanges.get(P.targetId),W=Z&&Z.targetMismatches.get(P.targetId)!=null,se=P.view.applyChanges(Q,G.isPrimaryClient,ae,W);return sT(G,P.targetId,se.Ma),se.snapshot}(n,b,A,I);const l=await YE(n.localStore,e,!0),c=new fO(e,l.gs),d=c.ba(l.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);sT(n,t,g.Ma);const E=new dO(e,t,c);return n.ka.set(e,E),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function _O(n,e,t){const s=xe(n),a=s.ka.get(e),l=s.qa.get(a.targetId);if(l.length>1)return s.qa.set(a.targetId,l.filter(c=>!Rf(c,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Hp(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Ug(s.remoteStore,a.targetId),Kp(s,a.targetId)}).catch(el)):(Kp(s,a.targetId),await Hp(s.localStore,a.targetId,!0))}async function EO(n,e){const t=xe(n),s=t.ka.get(e),a=t.qa.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ug(t.remoteStore,s.targetId))}async function TO(n,e,t){const s=IO(n);try{const a=await function(c,d){const p=xe(c),g=_t.now(),E=d.reduce((I,M)=>I.add(M.key),ze());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=Mr(),G=ze();return p.ds.getEntries(I,E).next(P=>{M=P,M.forEach((H,Z)=>{Z.isValidDocument()||(G=G.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,M)).next(P=>{b=P;const H=[];for(const Z of d){const Q=LN(Z,b.get(Z.key).overlayedDocument);Q!=null&&H.push(new Us(Z.key,Q,Eb(Q.value.mapValue),Bi.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,H,d)}).next(P=>{A=P;const H=P.applyToLocalDocumentSet(b,G);return p.documentOverlayCache.saveOverlays(I,P.batchId,H)})}).then(()=>({batchId:A.batchId,changes:Db(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Wa[c.currentUser.toKey()];g||(g=new mt(Me)),g=g.insert(d,p),c.Wa[c.currentUser.toKey()]=g}(s,a.batchId,t),await Ku(s,a.changes),await Mf(s.remoteStore)}catch(a){const l=qg(a,"Failed to persist write");t.reject(l)}}async function gw(n,e){const t=xe(n);try{const s=await kD(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ua.get(l);c&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?We(c.Ba):a.removedDocuments.size>0&&(We(c.Ba),c.Ba=!1))}),await Ku(t,s,e)}catch(s){await el(s)}}function rT(n,e,t){const s=xe(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=xe(c);p.onlineState=d;let g=!1;p.queries.forEach((E,b)=>{for(const A of b.ta)A.sa(d)&&(g=!0)}),g&&Hg(p)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bO(n,e,t){const s=xe(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Ua.get(e),l=a&&a.key;if(l){let c=new mt(Ee.comparator);c=c.insert(l,cn.newNoDocument(l,Ce.min()));const d=ze().add(l),p=new Nf(Ce.min(),new Map,new mt(Me),c,d);await gw(s,p),s.$a=s.$a.remove(l),s.Ua.delete(e),$g(s)}else await Hp(s.localStore,e,!1).then(()=>Kp(s,e,t)).catch(el)}async function wO(n,e){const t=xe(n),s=e.batch.batchId;try{const a=await MD(t.localStore,e);vw(t,s,null),yw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ku(t,a)}catch(a){await el(a)}}async function AO(n,e,t){const s=xe(n);try{const a=await function(c,d){const p=xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(We(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);vw(s,e,t),yw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ku(s,a)}catch(a){await el(a)}}function yw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function vw(n,e,t){const s=xe(n);let a=s.Wa[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function Kp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.qa.get(e))n.ka.delete(s),t&&n.La.Ja(s,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(s=>{n.Ka.containsKey(s)||_w(n,s)})}function _w(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ug(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),$g(n))}function sT(n,e,t){for(const s of t)s instanceof dw?(n.Ka.addReference(s.key,e),SO(n,s)):s instanceof mw?(de(Gg,"Document no longer in limbo: "+s.key),n.Ka.removeReference(s.key,e),n.Ka.containsKey(s.key)||_w(n,s.key)):Ae()}function SO(n,e){const t=e.key,s=t.path.canonicalString();n.$a.get(t)||n.Qa.has(s)||(de(Gg,"New document in limbo: "+t),n.Qa.add(s),$g(n))}function $g(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(at.fromString(e)),s=n.za.next();n.Ua.set(s,new mO(t)),n.$a=n.$a.insert(t,s),rw(n.remoteStore,new Ss(zi(Ig(t.path)),s,"TargetPurposeLimboResolution",wf.ae))}}async function Ku(n,e,t){const s=xe(n),a=[],l=[],c=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{c.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){a.push(g);const b=Pg.Yi(p.targetId,g);l.push(b)}}))}),await Promise.all(c),s.La.p_(a),await async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ee.forEach(g,A=>ee.forEach(A.Hi,I=>E.persistence.referenceDelegate.addReference(b,A.targetId,I)).next(()=>ee.forEach(A.Ji,I=>E.persistence.referenceDelegate.removeReference(b,A.targetId,I)))))}catch(b){if(!tl(b))throw b;de(Lg,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const I=E.Ts.get(A),M=I.snapshotVersion,G=I.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(A,G)}}}(s.localStore,l))}async function RO(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(Gg,"User change. New user:",e.toKey());const s=await ew(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new me(te.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ku(t,s.Rs)}}function CO(n,e){const t=xe(n),s=t.Ua.get(e);if(s&&s.Ba)return ze().add(s.key);{let a=ze();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function Ew(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bO.bind(null,e),e.La.p_=cO.bind(null,e.eventManager),e.La.Ja=hO.bind(null,e.eventManager),e}function IO(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return OD(this.persistence,new xD,e.initialUser,this.serializer)}Xa(e){return new Jb(Vg.ri,this.serializer)}Za(e){return new jD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class xO extends rf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){We(this.persistence.referenceDelegate instanceof tf);const s=this.persistence.referenceDelegate.garbageCollector;return new mD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new Jb(s=>tf.ri(s,t),this.serializer)}}class Qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uO}()}createDatastore(e){const t=Df(e.databaseInfo.databaseId),s=function(l){return new HD(l)}(e.databaseInfo);return function(l,c,d,p){return new QD(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,c,d){return new XD(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>rT(this.syncEngine,t,0),function(){return ZE.D()?new ZE:new zD}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,E){const b=new pO(a,l,c,d,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=xe(a);de(Ia,"RemoteStore shutting down."),l.W_.add(5),await $u(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Qp.provider={build:()=>new Qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class NO{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=cb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{de(Vs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(de(Vs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=qg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function op(n,e){n.asyncQueue.verifyOperationInProgress(),de(Vs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await ew(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function aT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DO(n);de(Vs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>eT(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>eT(e.remoteStore,a)),n._onlineComponents=e}async function DO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Vs,"Using user provided OfflineComponentProvider");try{await op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),await op(n,new rf)}}else de(Vs,"Using default OfflineComponentProvider"),await op(n,new xO(void 0));return n._offlineComponents}async function bw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Vs,"Using user provided OnlineComponentProvider"),await aT(n,n._uninitializedComponentsProvider._online)):(de(Vs,"Using default OnlineComponentProvider"),await aT(n,new Qp))),n._onlineComponents}function OO(n){return bw(n).then(e=>e.syncEngine)}async function ww(n){const e=await bw(n),t=e.eventManager;return t.onListen=gO.bind(null,e.syncEngine),t.onUnlisten=_O.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EO.bind(null,e.syncEngine),t}function MO(n,e,t={}){const s=new Rr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const E=new Tw({next:A=>{E.su(),c.enqueueAndForget(()=>hw(l,b));const I=A.docs.has(d);!I&&A.fromCache?g.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&A.fromCache&&p&&p.source==="server"?g.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new fw(Ig(d.path),E,{includeMetadataChanges:!0,Ta:!0});return cw(l,b)}(await ww(n),n.asyncQueue,e,t,s)),s.promise}function kO(n,e,t={}){const s=new Rr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const E=new Tw({next:A=>{E.su(),c.enqueueAndForget(()=>hw(l,b)),A.fromCache&&p.source==="server"?g.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new fw(d,E,{includeMetadataChanges:!0,Ta:!0});return cw(l,b)}(await ww(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n,e,t){if(!t)throw new me(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VO(n,e,t,s){if(e===!0&&s===!0)throw new me(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lT(n){if(!Ee.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uT(n){if(Ee.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function kr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kf(n);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firestore.googleapis.com",cT=!0;class hT{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rw,this.ssl=cT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:cT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fD)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Aw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Hx;switch(s.type){case"firstParty":return new Qx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=oT.get(t);s&&(de("ComponentProvider","Removing Datastore"),oT.delete(t),s.terminate())}(this),Promise.resolve()}}function PO(n,e,t,s={}){var a;const l=(n=kr(n,Vf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Rw&&l.host!==d&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!xr(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=un.MOCK_USER;else{g=p1(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(b)}n._authCredentials=new Gx(new lb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new il(this.firestore,e,this._query)}}class _n{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class xs extends il{constructor(e,t,s){super(e,t,Ig(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Ee(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function Kg(n,e,...t){if(n=St(n),Sw("collection","path",e),n instanceof Vf){const s=at.fromString(e,...t);return uT(s),new xs(n,null,s)}{if(!(n instanceof _n||n instanceof xs))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(at.fromString(e,...t));return uT(s),new xs(n.firestore,null,s)}}function Et(n,e,...t){if(n=St(n),arguments.length===1&&(e=cb.newId()),Sw("doc","path",e),n instanceof Vf){const s=at.fromString(e,...t);return lT(s),new _n(n,null,new Ee(s))}{if(!(n instanceof _n||n instanceof xs))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(at.fromString(e,...t));return lT(s),new _n(n.firestore,n instanceof xs?n.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="AsyncQueue";class dT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nw(this,"async_queue_retry"),this.Su=()=>{const s=ap();s&&de(fT,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=ap();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ap();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Rr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!tl(e))throw e;de(fT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw Or("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Fg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Qu extends Vf{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new dT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dT(e),this._firestoreClient=void 0,await e}}}function LO(n,e){const t=typeof n=="object"?n:_f(),s=typeof n=="string"?n:Xh,a=Ps(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=f1("firestore");l&&PO(a,...l)}return a}function Qg(n){if(n._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UO(n),n._firestoreClient}function UO(n){var e,t,s;const a=n._freezeSettings(),l=function(d,p,g,E){return new uN(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Aw(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new NO(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ko(nn.fromBase64String(e))}catch(t){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ko(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class zO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hu(e,this.data,t,this.fieldTransforms)}}class Cw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Lf{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Lf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return sf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Iw(this.Lu)&&jO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class BO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Df(e)}ju(e,t,s,a=!1){return new Lf({Lu:e,methodName:t,zu:s,path:tn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wg(n){const e=n._freezeSettings(),t=Df(n._databaseId);return new BO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function FO(n,e,t,s,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);ty("Data must be an object, but it was:",c,s);const d=xw(s,c);let p,g;if(l.merge)p=new Pn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const E=[];for(const b of l.mergeFields){const A=Yp(e,b,t);if(!c.contains(A))throw new me(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Dw(E,A)||E.push(A)}p=new Pn(E),g=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=c.fieldTransforms;return new zO(new Sn(d),p,g)}class Yu extends rl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yu}}function qO(n,e,t){return new Lf({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zg extends rl{_toFieldTransform(e){return new Ng(e.path,new Mu)}isEqual(e){return e instanceof Zg}}class Jg extends rl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=qO(this,e,!0),s=this.Hu.map(l=>sl(l,t)),a=new Ho(s);return new Ng(e.path,a)}isEqual(e){return e instanceof Jg&&xr(this.Hu,e.Hu)}}class ey extends rl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Vu(e.serializer,kb(e.serializer,this.Ju));return new Ng(e.path,t)}isEqual(e){return e instanceof ey&&this.Ju===e.Ju}}function HO(n,e,t,s){const a=n.ju(1,e,t);ty("Data must be an object, but it was:",a,s);const l=[],c=Sn.empty();Ls(s,(p,g)=>{const E=ny(e,p,t);g=St(g);const b=a.Uu(E);if(g instanceof Yu)l.push(E);else{const A=sl(g,b);A!=null&&(l.push(E),c.set(E,A))}});const d=new Pn(l);return new Cw(c,d,a.fieldTransforms)}function GO(n,e,t,s,a,l){const c=n.ju(1,e,t),d=[Yp(e,s,t)],p=[a];if(l.length%2!=0)throw new me(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)d.push(Yp(e,l[A])),p.push(l[A+1]);const g=[],E=Sn.empty();for(let A=d.length-1;A>=0;--A)if(!Dw(g,d[A])){const I=d[A];let M=p[A];M=St(M);const G=c.Uu(I);if(M instanceof Yu)g.push(I);else{const P=sl(M,G);P!=null&&(g.push(I),E.set(I,P))}}const b=new Pn(g);return new Cw(E,b,c.fieldTransforms)}function $O(n,e,t,s=!1){return sl(t,n.ju(s?4:3,e))}function sl(n,e){if(Nw(n=St(n)))return ty("Unsupported field value:",e,n),xw(n,e);if(n instanceof rl)return function(s,a){if(!Iw(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let p=sl(d,a.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(s,a){if((s=St(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kb(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=_t.fromDate(s);return{timestampValue:ef(a.serializer,l)}}if(s instanceof _t){const l=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ef(a.serializer,l)}}if(s instanceof Yg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ko)return{bytesValue:Gb(a.serializer,s._byteString)};if(s instanceof _n){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Xg)return function(c,d){return{mapValue:{fields:{[vb]:{stringValue:_b},[Wh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return xg(d.serializer,g)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${kf(s)}`)}(n,e)}function xw(n,e){const t={};return fb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(n,(s,a)=>{const l=sl(a,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Nw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof Yg||n instanceof Ko||n instanceof _n||n instanceof rl||n instanceof Xg)}function ty(n,e,t){if(!Nw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=kf(t);throw s==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+s)}}function Yp(n,e,t){if((e=St(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return ny(n,e);throw sf("Field path arguments must be of type string or ",n,!1,void 0,t)}const KO=new RegExp("[~\\*/\\[\\]]");function ny(n,e,t){if(e.search(KO)>=0)throw sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sf(n,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new me(te.INVALID_ARGUMENT,d+n+p)}function Dw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(iy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QO extends Ow{data(){return super.data()}}function iy(n,e){return typeof e=="string"?ny(n,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class XO extends ry{}function Mw(n,e,...t){let s=[];e instanceof ry&&s.push(e),s=s.concat(t),function(l){const c=l.filter(p=>p instanceof sy).length,d=l.filter(p=>p instanceof Uf).length;if(c>1||c>0&&d>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class Uf extends XO{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Uf(e,t,s)}_apply(e){const t=this._parse(e);return Vw(e._query,t),new il(e.firestore,e.converter,Up(e._query,t))}_parse(e){const t=Wg(e.firestore);return function(l,c,d,p,g,E,b){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){pT(b,E);const M=[];for(const G of b)M.push(mT(p,l,G));A={arrayValue:{values:M}}}else A=mT(p,l,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||pT(b,E),A=$O(d,c,b,E==="in"||E==="not-in");return Nt.create(g,E,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function kw(n,e,t){const s=e,a=iy("where",n);return Uf._create(a,s,t)}class sy extends ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:vi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)Vw(c,p),c=Up(c,p)}(e._query,t),new il(e.firestore,e.converter,Up(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mT(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cb(e)&&t.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(at.fromString(t));if(!Ee.isDocumentKey(s))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return NE(n,new Ee(s))}if(t instanceof _n)return NE(n,t._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kf(t)}.`)}function pT(n,e){if(!Array.isArray(n)||n.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vw(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class WO{convertValue(e,t="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ls(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Wh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>At(c.doubleValue));return new Xg(l)}convertGeoPoint(e){return new Yg(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const t=Ds(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=at.fromString(e);We(Wb(s));const a=new Du(s.get(1),s.get(3)),l=new Ee(s.popFirst(5));return a.isEqual(t)||Or(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pw extends Ow{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(iy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Lh extends Pw{data(e={}){return super.data(e)}}class JO{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new vu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Lh(this._firestore,this._userDataWriter,s.key,s,new vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Lh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Lh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,E=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),E=c.indexOf(d.doc.key)),{type:e3(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(n){n=kr(n,_n);const e=kr(n.firestore,Qu);return MO(Qg(e),n._key).then(t=>t3(e,n,t))}class Lw extends WO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function Uw(n){n=kr(n,il);const e=kr(n.firestore,Qu),t=Qg(e),s=new Lw(e);return YO(n._query),kO(t,n._query).then(a=>new JO(e,s,n,a))}function xa(n,e,t){n=kr(n,_n);const s=kr(n.firestore,Qu),a=ZO(n.converter,e);return jw(s,[FO(Wg(s),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Bi.none())])}function Ln(n,e,t,...s){n=kr(n,_n);const a=kr(n.firestore,Qu),l=Wg(a);let c;return c=typeof(e=St(e))=="string"||e instanceof Pf?GO(l,"updateDoc",n._key,e,t,s):HO(l,"updateDoc",n._key,e),jw(a,[c.toMutation(n._key,Bi.exists(!0))])}function jw(n,e){return function(s,a){const l=new Rr;return s.asyncQueue.enqueueAndForget(async()=>TO(await OO(s),a,l)),l.promise}(Qg(n),e)}function t3(n,e,t){const s=t.docs.get(e._key),a=new Lw(n);return new Pw(n,a,e._key,s,new vu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return new Yu("deleteField")}function hn(){return new Zg("serverTimestamp")}function n3(...n){return new Jg("arrayUnion",n)}function Pu(n){return new ey("increment",n)}(function(e,t=!0){(function(a){Jo=a})(ka),yi(new ii("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Qu(new $x(s.getProvider("auth-internal")),new Yx(c,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(g.options.projectId,E)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Rn(vE,_E,e),Rn(vE,_E,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="firebasestorage.googleapis.com",i3="storageBucket",r3=2*60*1e3,s3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends ri{constructor(e,t,s=0){super(lp(e),`Firebase Storage: ${t} (${lp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $i;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($i||($i={}));function lp(n){return"storage/"+n}function a3(){const n="An unknown error occurred, please check the error payload for server response.";return new Yi($i.UNKNOWN,n)}function o3(){return new Yi($i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l3(){return new Yi($i.CANCELED,"User canceled the upload/download.")}function u3(n){return new Yi($i.INVALID_URL,"Invalid URL '"+n+"'.")}function c3(n){return new Yi($i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function gT(n){return new Yi($i.INVALID_ARGUMENT,n)}function Fw(){return new Yi($i.APP_DELETED,"The Firebase app was deleted.")}function h3(n){return new Yi($i.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=mi.makeFromUrl(e,t)}catch{return new mi(e,"")}if(s.path==="")return s;throw c3(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(ae){ae.path_=decodeURIComponent(ae.path)}const E="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",I=new RegExp(`^https?://${b}/${E}/b/${a}/o${A}`,"i"),M={bucket:1,path:3},G=t===Bw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",H=new RegExp(`^https?://${G}/${a}/${P}`,"i"),Q=[{regex:d,indices:p,postModify:l},{regex:I,indices:M,postModify:g},{regex:H,indices:{bucket:1,path:2},postModify:g}];for(let ae=0;ae<Q.length;ae++){const W=Q[ae],se=W.regex.exec(e);if(se){const k=se[W.indices.bucket];let x=se[W.indices.path];x||(x=""),s=new mi(k,x),W.postModify(s);break}}if(s==null)throw u3(e);return s}}class f3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(n,e,t){let s=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function E(...P){g||(g=!0,e.apply(null,P))}function b(P){a=setTimeout(()=>{a=null,n(I,p())},P)}function A(){l&&clearTimeout(l)}function I(P,...H){if(g){A();return}if(P){A(),E.call(null,P,...H);return}if(p()||c){A(),E.call(null,P,...H);return}s<64&&(s*=2);let Q;d===1?(d=2,Q=0):Q=(s+Math.random())*1e3,b(Q)}let M=!1;function G(P){M||(M=!0,A(),!g&&(a!==null?(P||(d=2),clearTimeout(a),b(0)):P||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,G(!0)},t),G}function m3(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(n){return n!==void 0}function yT(n,e,t,s){if(s<e)throw gT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw gT(`Invalid value for '${n}'. Expected ${t} or less.`)}function g3(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var af;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(af||(af={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,t,s,a,l,c,d,p,g,E,b,A=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=b,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,M)=>{this.resolve_=I,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new wh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===af.NO_ERROR,p=l.getStatus();if(!d||y3(p,this.additionalRetryCodes_)&&this.retry){const E=l.getErrorCode()===af.ABORT;s(!1,new wh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new wh(g,l))})},t=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());p3(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=a3();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?Fw():l3();c(p)}else{const p=o3();c(p)}};this.canceled_?t(!1,new wh(!1,null,!0)):this.backoffId_=d3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function _3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function E3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function T3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function b3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function w3(n,e,t,s,a,l,c=!0){const d=g3(n.urlParams),p=n.url+d,g=Object.assign({},n.headers);return T3(g,e),_3(g,t),E3(g,l),b3(g,s),new v3(p,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function S3(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this._service=e,t instanceof mi?this._location=t:this._location=mi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new of(e,t)}get root(){const e=new mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S3(this._location.path)}get storage(){return this._service}get parent(){const e=A3(this._location.path);if(e===null)return null;const t=new mi(this._location.bucket,e);return new of(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw h3(e)}}function vT(n,e){const t=e==null?void 0:e[i3];return t==null?null:mi.makeFromBucketSpec(t,n)}function R3(n,e,t,s={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=s;a&&(n._overrideAuthToken=typeof a=="string"?a:p1(a,n.app.options.projectId))}class C3{constructor(e,t,s,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=Bw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r3,this._maxUploadRetryTime=s3,this._requests=new Set,a!=null?this._bucket=mi.makeFromBucketSpec(a,this._host):this._bucket=vT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mi.makeFromBucketSpec(this._url,e):this._bucket=vT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new of(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new f3(Fw());{const c=w3(e,this._appId,s,a,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const _T="@firebase/storage",ET="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="storage";function I3(n=_f(),e){n=St(n);const s=Ps(n,qw).getImmediate({identifier:e}),a=f1("storage");return a&&x3(s,...a),s}function x3(n,e,t,s={}){R3(n,e,t,s)}function N3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new C3(t,s,a,e,ka)}function D3(){yi(new ii(qw,N3,"PUBLIC").setMultipleInstances(!0)),Rn(_T,ET,""),Rn(_T,ET,"esm2017")}D3();const Hw="@firebase/installations",ay="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=1e4,$w=`w:${ay}`,Kw="FIS_v2",O3="https://firebaseinstallations.googleapis.com/v1",M3=60*60*1e3,k3="installations",V3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Na=new Ma(k3,V3,P3);function Qw(n){return n instanceof ri&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw({projectId:n}){return`${O3}/projects/${n}/installations`}function Xw(n){return{token:n.token,requestStatus:2,expiresIn:U3(n.expiresIn),creationTime:Date.now()}}async function Ww(n,e){const s=(await e.json()).error;return Na.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Zw({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function L3(n,{refreshToken:e}){const t=Zw(n);return t.append("Authorization",j3(e)),t}async function Jw(n){const e=await n();return e.status>=500&&e.status<600?n():e}function U3(n){return Number(n.replace("s","000"))}function j3(n){return`${Kw} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=Yw(n),a=Zw(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={fid:t,authVersion:Kw,appId:n.appId,sdkVersion:$w},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await Jw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:Xw(g.authToken)}}else throw await Ww("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=/^[cdef][\w-]{21}$/,Xp="";function q3(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=H3(n);return F3.test(t)?t:Xp}catch{return Xp}}function H3(n){return B3(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new Map;function nA(n,e){const t=jf(n);iA(t,e),G3(t,e)}function iA(n,e){const t=tA.get(n);if(t)for(const s of t)s(e)}function G3(n,e){const t=$3();t&&t.postMessage({key:n,fid:e}),K3()}let wa=null;function $3(){return!wa&&"BroadcastChannel"in self&&(wa=new BroadcastChannel("[Firebase] FID Change"),wa.onmessage=n=>{iA(n.data.key,n.data.fid)}),wa}function K3(){tA.size===0&&wa&&(wa.close(),wa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="firebase-installations-database",Y3=1,Da="firebase-installations-store";let up=null;function oy(){return up||(up=T1(Q3,Y3,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Da)}}})),up}async function lf(n,e){const t=jf(n),a=(await oy()).transaction(Da,"readwrite"),l=a.objectStore(Da),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&nA(n,e.fid),e}async function rA(n){const e=jf(n),s=(await oy()).transaction(Da,"readwrite");await s.objectStore(Da).delete(e),await s.done}async function zf(n,e){const t=jf(n),a=(await oy()).transaction(Da,"readwrite"),l=a.objectStore(Da),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!c||c.fid!==d.fid)&&nA(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ly(n){let e;const t=await zf(n.appConfig,s=>{const a=X3(s),l=W3(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Xp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function X3(n){const e=n||{fid:q3(),registrationStatus:0};return sA(e)}function W3(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Na.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Z3(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:J3(n)}:{installationEntry:e}}async function Z3(n,e){try{const t=await z3(n,e);return lf(n.appConfig,t)}catch(t){throw Qw(t)&&t.customData.serverCode===409?await rA(n.appConfig):await lf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function J3(n){let e=await TT(n.appConfig);for(;e.registrationStatus===1;)await eA(100),e=await TT(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await ly(n);return s||t}return e}function TT(n){return zf(n,e=>{if(!e)throw Na.create("installation-not-found");return sA(e)})}function sA(n){return eM(n)?{fid:n.fid,registrationStatus:0}:n}function eM(n){return n.registrationStatus===1&&n.registrationTime+Gw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM({appConfig:n,heartbeatServiceProvider:e},t){const s=nM(n,t),a=L3(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const c={installation:{sdkVersion:$w,appId:n.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},p=await Jw(()=>fetch(s,d));if(p.ok){const g=await p.json();return Xw(g)}else throw await Ww("Generate Auth Token",p)}function nM(n,{fid:e}){return`${Yw(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uy(n,e=!1){let t;const s=await zf(n.appConfig,l=>{if(!aA(l))throw Na.create("not-registered");const c=l.authToken;if(!e&&sM(c))return l;if(c.requestStatus===1)return t=iM(n,e),l;{if(!navigator.onLine)throw Na.create("app-offline");const d=oM(l);return t=rM(n,d),d}});return t?await t:s.authToken}async function iM(n,e){let t=await bT(n.appConfig);for(;t.authToken.requestStatus===1;)await eA(100),t=await bT(n.appConfig);const s=t.authToken;return s.requestStatus===0?uy(n,e):s}function bT(n){return zf(n,e=>{if(!aA(e))throw Na.create("not-registered");const t=e.authToken;return lM(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rM(n,e){try{const t=await tM(n,e),s=Object.assign(Object.assign({},e),{authToken:t});return await lf(n.appConfig,s),t}catch(t){if(Qw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await rA(n.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await lf(n.appConfig,s)}throw t}}function aA(n){return n!==void 0&&n.registrationStatus===2}function sM(n){return n.requestStatus===2&&!aM(n)}function aM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+M3}function oM(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function lM(n){return n.requestStatus===1&&n.requestTime+Gw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM(n){const e=n,{installationEntry:t,registrationPromise:s}=await ly(e);return s?s.catch(console.error):uy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(n,e=!1){const t=n;return await hM(t),(await uy(t,e)).token}async function hM(n){const{registrationPromise:e}=await ly(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(n){if(!n||!n.options)throw cp("App Configuration");if(!n.name)throw cp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw cp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function cp(n){return Na.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="installations",dM="installations-internal",mM=n=>{const e=n.getProvider("app").getImmediate(),t=fM(e),s=Ps(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},pM=n=>{const e=n.getProvider("app").getImmediate(),t=Ps(e,oA).getImmediate();return{getId:()=>uM(t),getToken:a=>cM(t,a)}};function gM(){yi(new ii(oA,mM,"PUBLIC")),yi(new ii(dM,pM,"PRIVATE"))}gM();Rn(Hw,ay);Rn(Hw,ay,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="analytics",yM="firebase_id",vM="origin",_M=60*1e3,EM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new vf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new Ma("analytics","Analytics",TM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(n){if(!n.startsWith(cy)){const e=Un.create("invalid-gtag-resource",{gtagURL:n});return Cn.warn(e.message),""}return n}function lA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function wM(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function AM(n,e){const t=wM("firebase-js-sdk-policy",{createScriptURL:bM}),s=document.createElement("script"),a=`${cy}?l=${n}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function SM(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function RM(n,e,t,s,a,l){const c=s[a];try{if(c)await e[c];else{const p=(await lA(t)).find(g=>g.measurementId===a);p&&await e[p.appId]}}catch(d){Cn.error(d)}n("config",a,l)}async function CM(n,e,t,s,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await lA(t);for(const p of c){const g=d.find(b=>b.measurementId===p),E=g&&e[g.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,a||{})}catch(l){Cn.error(l)}}function IM(n,e,t,s){async function a(l,...c){try{if(l==="event"){const[d,p]=c;await CM(n,e,t,d,p)}else if(l==="config"){const[d,p]=c;await RM(n,e,t,s,d,p)}else if(l==="consent"){const[d,p]=c;n("consent",d,p)}else if(l==="get"){const[d,p,g]=c;n("get",d,p,g)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){Cn.error(d)}}return a}function xM(n,e,t,s,a){let l=function(...c){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=IM(l,n,e,t),{gtagCore:l,wrappedGtag:window[a]}}function NM(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(cy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=30,OM=1e3;class MM{constructor(e={},t=OM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uA=new MM;function kM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function VM(n){var e;const{appId:t,apiKey:s}=n,a={method:"GET",headers:kM(s)},l=EM.replace("{app-id}",t),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let d="";try{const p=await c.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function PM(n,e=uA,t){const{appId:s,apiKey:a,measurementId:l}=n.options;if(!s)throw Un.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Un.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new jM;return setTimeout(async()=>{d.abort()},_M),cA({appId:s,apiKey:a,measurementId:l},c,d,e)}async function cA(n,{throttleEndTimeMillis:e,backoffCount:t},s,a=uA){var l;const{appId:c,measurementId:d}=n;try{await LM(s,e)}catch(p){if(d)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:d};throw p}try{const p=await VM(n);return a.deleteThrottleMetadata(c),p}catch(p){const g=p;if(!UM(g)){if(a.deleteThrottleMetadata(c),d)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:d};throw p}const E=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?G0(t,a.intervalMillis,DM):G0(t,a.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return a.setThrottleMetadata(c,b),Cn.debug(`Calling attemptFetch again in ${E} millis`),cA(n,b,s,a)}}function LM(n,e){return new Promise((t,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(l),s(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function UM(n){if(!(n instanceof ri)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class jM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zM(n,e,t,s,a){if(a&&a.global){n("event",t,s);return}else{const l=await e,c=Object.assign(Object.assign({},s),{send_to:l});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BM(){if(y1())try{await v1()}catch(n){return Cn.warn(Un.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Cn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FM(n,e,t,s,a,l,c){var d;const p=PM(n);p.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>Cn.error(I)),e.push(p);const g=BM().then(I=>{if(I)return s.getId()}),[E,b]=await Promise.all([p,g]);NM(l)||AM(l,E.measurementId),a("js",new Date);const A=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return A[vM]="firebase",A.update=!0,b!=null&&(A[yM]=b),a("config",E.measurementId,A),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.app=e}_delete(){return delete Su[this.app.options.appId],Promise.resolve()}}let Su={},wT=[];const AT={};let hp="dataLayer",HM="gtag",ST,hA,RT=!1;function GM(){const n=[];if(g1()&&n.push("This is a browser extension environment."),bC()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,a)=>`(${a+1}) ${s}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});Cn.warn(t.message)}}function $M(n,e,t){GM();const s=n.options.appId;if(!s)throw Un.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(Su[s]!=null)throw Un.create("already-exists",{id:s});if(!RT){SM(hp);const{wrappedGtag:l,gtagCore:c}=xM(Su,wT,AT,hp,HM);hA=l,ST=c,RT=!0}return Su[s]=FM(n,wT,AT,e,ST,hp,t),new qM(n)}function KM(n=_f()){n=St(n);const e=Ps(n,uf);return e.isInitialized()?e.getImmediate():QM(n)}function QM(n,e={}){const t=Ps(n,uf);if(t.isInitialized()){const a=t.getImmediate();if(xr(e,t.getOptions()))return a;throw Un.create("already-initialized")}return t.initialize({options:e})}function YM(n,e,t,s){n=St(n),zM(hA,Su[n.app.options.appId],e,t,s).catch(a=>Cn.error(a))}const CT="@firebase/analytics",IT="0.10.12";function XM(){yi(new ii(uf,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return $M(s,a,t)},"PUBLIC")),yi(new ii("analytics-internal",n,"PRIVATE")),Rn(CT,IT),Rn(CT,IT,"esm2017");function n(e){try{const t=e.getProvider(uf).getImmediate();return{logEvent:(s,a,l)=>YM(t,s,a,l)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}}}XM();const WM={apiKey:"AIzaSyByBUCnsUPu5f9N9mcPmwZb8fTxPP34jRU",authDomain:"health-quest-69684.firebaseapp.com",projectId:"health-quest-69684",storageBucket:"health-quest-69684.appspot.com",messagingSenderId:"224519172412",appId:"1:224519172412:web:3fb327009476d0e13a2e39",measurementId:"G-6J2GKXYCZ1"},Bf=b1(WM),cf=Fx(Bf),ut=LO(Bf);I3(Bf);KM(Bf);const fA=new br;fA.setCustomParameters({prompt:"select_account"});const ZM=async()=>{var n;try{const t=(await W4(cf,fA)).user;if(!(await Gi(Et(ut,"users",t.uid))).exists()){const a={uid:t.uid,name:t.displayName||"User",username:`@${((n=t.displayName)==null?void 0:n.toLowerCase().replace(/\s+/g,""))||t.uid.substring(0,8)}`,email:t.email||"",avatarUrl:t.photoURL||"/health-quest/profile.png",createdAt:_t.fromDate(new Date)};await xa(Et(ut,"users",t.uid),a),await xa(Et(ut,"userStats",t.uid),{userId:t.uid,activeGoals:0,completion:0,totalGroups:0,goalsCompleted:0,workoutSessions:0,healthyMeals:0,updatedAt:hn()})}return t}catch(e){throw console.error("Error signing in with Google:",e),e}},dA=async()=>O4(cf),JM=async n=>{try{const e=await Gi(Et(ut,"users",n));return e.exists()?e.data():null}catch(e){throw console.error("Error getting user data:",e),e}},mA=C.createContext({currentUser:null,userData:null,loading:!0,isAuthenticated:!1});function La(){return C.useContext(mA)}function ek({children:n}){const[e,t]=C.useState(null),[s,a]=C.useState(null),[l,c]=C.useState(!0),[d,p]=C.useState(!1);C.useEffect(()=>(I4(cf,$1).then(()=>{console.log("Persistence set to LOCAL")}).catch(b=>{console.error("Error setting persistence:",b)}),D4(cf,async b=>{if(t(b),p(!!b),b)try{const A=await JM(b.uid);a(A)}catch(A){console.error("Error fetching user data:",A)}else a(null);c(!1)})),[]);const g={currentUser:e,userData:s,loading:l,isAuthenticated:d};return T.jsx(mA.Provider,{value:g,children:!l&&n})}const va=async(n,e)=>{try{const t=await Gi(Et(ut,"healthStats",`${n}_${e}`));return t.exists()?t.data():null}catch(t){throw console.error("Error getting health stats:",t),t}},tk=async(n,e,t,s)=>{try{const a=Et(ut,"healthStats",`${n}_${e}`),l=await Gi(a);if(!l.exists())await xa(a,{userId:n,groupId:e,healthyFats:t==="healthyFats"?s:0,veggies:t==="veggies"?s:0,cardio:t==="cardio"?s:0,strength:t==="strength"?s:0,updatedAt:hn()});else{const p=l.data();await Ln(a,{[t]:(p[t]||0)+s,updatedAt:hn()})}const c=Et(ut,"userStats",n);(await Gi(c)).exists()&&(t==="healthyFats"||t==="veggies"?await Ln(c,{healthyMeals:Pu(s),updatedAt:hn()}):(t==="cardio"||t==="strength")&&await Ln(c,{workoutSessions:Pu(s),updatedAt:hn()}))}catch(a){throw console.error(`Error updating ${t}:`,a),a}},nk=async n=>{try{const e=await Gi(Et(ut,"userStats",n));return e.exists()?e.data():null}catch(e){throw console.error("Error getting user stats:",e),e}},xT=async(n,e)=>{try{const t=await va(n,e);if(t){const{healthyFats:s=0,veggies:a=0,cardio:l=0,strength:c=0,customGoals:d={}}=t,p=s+a+l+c,g=(s!==void 0?12:0)+(a!==void 0?16:0)+(l!==void 0?3:0)+(c!==void 0?3:0),E=Object.values(d).reduce((P,H)=>P+(H.current||0),0),b=Object.values(d).reduce((P,H)=>P+H.target,0),A=p+E,I=g+b,M=I===0?0:Math.round(A/I*100),G=Et(ut,"userStats",n);await Ln(G,{completion:M,updatedAt:hn()})}}catch(t){throw console.error("Error updating completion percentage:",t),t}},ik=async(n,e,t)=>{try{const s=Et(ut,"healthStats",`${n}_${e}`),a=await Gi(s),l=Math.random().toString(36).substring(2,15),c={...t,id:l,current:0,createdAt:_t.fromDate(new Date)};return a.exists()?await Ln(s,{[`customGoals.${l}`]:c,updatedAt:hn()}):await xa(s,{userId:n,groupId:e,healthyFats:0,veggies:0,cardio:0,strength:0,customGoals:{[l]:c},updatedAt:hn()}),l}catch(s){throw console.error("Error creating custom goal:",s),s}},rk=async(n,e,t,s)=>{var a;try{const l=Et(ut,"healthStats",`${n}_${e}`),c=await Gi(l);if(!c.exists())throw new Error("Health stats not found");const p=(a=c.data().customGoals)==null?void 0:a[t];if(!p)throw new Error("Goal not found");await Ln(l,{[`customGoals.${t}.current`]:(p.current||0)+s,updatedAt:hn()});const g=Et(ut,"userStats",n);await Ln(g,{[p.category==="nutrition"?"healthyMeals":"workoutSessions"]:Pu(1),updatedAt:hn()})}catch(l){throw console.error("Error updating custom goal progress:",l),l}},sk=async(n,e,t)=>{try{const s=Et(ut,"healthStats",`${n}_${e}`);await Ln(s,{[`customGoals.${t}`]:zw(),updatedAt:hn()})}catch(s){throw console.error("Error deleting custom goal:",s),s}},ak=async(n,e,t)=>{try{const s=Et(ut,"healthStats",`${n}_${e}`);if(!(await Gi(s)).exists())throw new Error("Health stats not found");await Ln(s,{[t]:zw(),updatedAt:hn()})}catch(s){throw console.error("Error deleting default goal:",s),s}},ok=()=>Math.random().toString(36).substring(2,8).toUpperCase(),lk=async(n,e,t="family")=>{try{const s=ok(),a=Et(Kg(ut,"groups")),l=a.id,c={id:l,name:n,code:s,icon:t,createdBy:e,createdAt:_t.fromDate(new Date),members:[e],status:"Active"};await xa(a,c);const d=Et(ut,"userStats",e);return await Ln(d,{totalGroups:Pu(1),updatedAt:hn()}),await xa(Et(ut,"healthStats",`${e}_${l}`),{userId:e,groupId:l,healthyFats:0,veggies:0,cardio:0,strength:0,updatedAt:hn()}),l}catch(s){throw console.error("Error creating group:",s),s}},uk=async n=>{try{const e=await Gi(Et(ut,"groups",n));return e.exists()?e.data():null}catch(e){throw console.error("Error getting group:",e),e}},ck=async n=>{try{const e=Mw(Kg(ut,"groups"),kw("code","==",n)),t=await Uw(e);return t.empty?null:{id:t.docs[0].id,...t.docs[0].data()}}catch(e){throw console.error("Error getting group by code:",e),e}},hy=async n=>{try{const e=Mw(Kg(ut,"groups"),kw("members","array-contains",n));return(await Uw(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Error getting user groups:",e),e}},hk=async(n,e)=>{try{const t=Et(ut,"groups",n);await Ln(t,{members:n3(e)});const s=Et(ut,"userStats",e);await Ln(s,{totalGroups:Pu(1),updatedAt:hn()}),await xa(Et(ut,"healthStats",`${e}_${n}`),{userId:e,groupId:n,healthyFats:0,veggies:0,cardio:0,strength:0,updatedAt:hn()})}catch(t){throw console.error("Error joining group:",t),t}};var fp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var NT;function fk(){return NT||(NT=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=a(l,s(d)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=a(c,d));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(fp)),fp.exports}var dk=fk();const st=Qo(dk);function mk(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)!==-1)continue;t[s]=n[s]}return t}function Wp(n,e){return Wp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Wp(n,e)}function pk(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Wp(n,e)}const gk=["xxl","xl","lg","md","sm","xs"],yk="xs",Xu=C.createContext({prefixes:{},breakpoints:gk,minBreakpoint:yk}),{Consumer:uV,Provider:cV}=Xu;function Bt(n,e){const{prefixes:t}=C.useContext(Xu);return n||t[e]||e}function vk(){const{breakpoints:n}=C.useContext(Xu);return n}function _k(){const{minBreakpoint:n}=C.useContext(Xu);return n}function Ek(){const{dir:n}=C.useContext(Xu);return n==="rtl"}function Ff(n){return n&&n.ownerDocument||document}function Tk(n){var e=Ff(n);return e&&e.defaultView||window}function bk(n,e){return Tk(n).getComputedStyle(n,e)}var wk=/([A-Z])/g;function Ak(n){return n.replace(wk,"-$1").toLowerCase()}var Sk=/^ms-/;function Ah(n){return Ak(n).replace(Sk,"-ms-")}var Rk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Ck(n){return!!(n&&Rk.test(n))}function Sa(n,e){var t="",s="";if(typeof e=="string")return n.style.getPropertyValue(Ah(e))||bk(n).getPropertyValue(Ah(e));Object.keys(e).forEach(function(a){var l=e[a];!l&&l!==0?n.style.removeProperty(Ah(a)):Ck(a)?s+=a+"("+l+") ":t+=Ah(a)+": "+l+";"}),s&&(t+="transform: "+s+";"),n.style.cssText+=";"+t}var dp={exports:{}},mp,DT;function Ik(){if(DT)return mp;DT=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return mp=n,mp}var pp,OT;function xk(){if(OT)return pp;OT=1;var n=Ik();function e(){}function t(){}return t.resetWarningCache=e,pp=function(){function s(c,d,p,g,E,b){if(b!==n){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function a(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},pp}var MT;function Nk(){return MT||(MT=1,dp.exports=xk()()),dp.exports}var Dk=Nk();const Cr=Qo(Dk),kT={disabled:!1},pA=vn.createContext(null);var Ok=function(e){return e.scrollTop},_u="unmounted",ya="exited",Ts="entering",_a="entered",Zp="exiting",Lr=function(n){pk(e,n);function e(s,a){var l;l=n.call(this,s,a)||this;var c=a,d=c&&!c.isMounting?s.enter:s.appear,p;return l.appearStatus=null,s.in?d?(p=ya,l.appearStatus=Ts):p=_a:s.unmountOnExit||s.mountOnEnter?p=_u:p=ya,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===_u?{status:ya}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==Ts&&c!==_a&&(l=Ts):(c===Ts||c===_a)&&(l=Zp)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,l,c,d;return l=c=d=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,d=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:d}},t.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===Ts){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:ko.findDOMNode(this);c&&Ok(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ya&&this.setState({status:_u})},t.performEnter=function(a){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:a,p=this.props.nodeRef?[d]:[ko.findDOMNode(this),d],g=p[0],E=p[1],b=this.getTimeouts(),A=d?b.appear:b.enter;if(!a&&!c||kT.disabled){this.safeSetState({status:_a},function(){l.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:Ts},function(){l.props.onEntering(g,E),l.onTransitionEnd(A,function(){l.safeSetState({status:_a},function(){l.props.onEntered(g,E)})})})},t.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:ko.findDOMNode(this);if(!l||kT.disabled){this.safeSetState({status:ya},function(){a.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Zp},function(){a.props.onExiting(d),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:ya},function(){a.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},t.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,a(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:ko.findDOMNode(this),d=a==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===_u)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=mk(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return vn.createElement(pA.Provider,{value:null},typeof c=="function"?c(a,d):vn.cloneElement(vn.Children.only(c),d))},e}(vn.Component);Lr.contextType=pA;Lr.propTypes={};function Co(){}Lr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Co,onEntering:Co,onEntered:Co,onExit:Co,onExiting:Co,onExited:Co};Lr.UNMOUNTED=_u;Lr.EXITED=ya;Lr.ENTERING=Ts;Lr.ENTERED=_a;Lr.EXITING=Zp;function Mk(n){return n.code==="Escape"||n.keyCode===27}function kk(){const n=C.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function qf(n){if(!n||typeof n=="function")return null;const{major:e}=kk();return e>=19?n.props.ref:n.ref}const al=!!(typeof window<"u"&&window.document&&window.document.createElement);var Jp=!1,eg=!1;try{var gp={get passive(){return Jp=!0},get once(){return eg=Jp=!0}};al&&(window.addEventListener("test",gp,gp),window.removeEventListener("test",gp,!0))}catch{}function gA(n,e,t,s){if(s&&typeof s!="boolean"&&!eg){var a=s.once,l=s.capture,c=t;!eg&&a&&(c=t.__once||function d(p){this.removeEventListener(e,d,l),t.call(this,p)},t.__once=c),n.addEventListener(e,c,Jp?s:l)}n.addEventListener(e,t,s)}function tg(n,e,t,s){var a=s&&typeof s!="boolean"?s.capture:s;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function hf(n,e,t,s){return gA(n,e,t,s),function(){tg(n,e,t,s)}}function Vk(n,e,t,s){if(s===void 0&&(s=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,s),n.dispatchEvent(a)}}function Pk(n){var e=Sa(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function Lk(n,e,t){t===void 0&&(t=5);var s=!1,a=setTimeout(function(){s||Vk(n,"transitionend",!0)},e+t),l=hf(n,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(a),l()}}function yA(n,e,t,s){t==null&&(t=Pk(n)||0);var a=Lk(n,t,s),l=hf(n,"transitionend",e);return function(){a(),l()}}function VT(n,e){const t=Sa(n,e)||"",s=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*s}function Uk(n,e){const t=VT(n,"transitionDuration"),s=VT(n,"transitionDelay"),a=yA(n,l=>{l.target===n&&(a(),e(l))},t+s)}function jk(n){n.offsetHeight}const PT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function zk(n,e){const t=PT(n),s=PT(e);return a=>{t&&t(a),s&&s(a)}}function vA(n,e){return C.useMemo(()=>zk(n,e),[n,e])}function Bk(n){return n&&"setState"in n?ko.findDOMNode(n):n??null}const Fk=vn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:s,onExiting:a,onExited:l,addEndListener:c,children:d,childRef:p,...g},E)=>{const b=C.useRef(null),A=vA(b,p),I=se=>{A(Bk(se))},M=se=>k=>{se&&b.current&&se(b.current,k)},G=C.useCallback(M(n),[n]),P=C.useCallback(M(e),[e]),H=C.useCallback(M(t),[t]),Z=C.useCallback(M(s),[s]),Q=C.useCallback(M(a),[a]),ae=C.useCallback(M(l),[l]),W=C.useCallback(M(c),[c]);return T.jsx(Lr,{ref:E,...g,onEnter:G,onEntered:H,onEntering:P,onExit:Z,onExited:ae,onExiting:Q,addEndListener:W,nodeRef:b,children:typeof d=="function"?(se,k)=>d(se,{...k,ref:I}):vn.cloneElement(d,{ref:I})})});function qk(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function ng(n){const e=qk(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Hk=n=>C.forwardRef((e,t)=>T.jsx("div",{...e,ref:t,className:st(e.className,n)}));function Gk(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n},[n]),e}function Ea(n){const e=Gk(n);return C.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function $k(){const n=C.useRef(!0),e=C.useRef(()=>n.current);return C.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Kk(n){const e=C.useRef(null);return C.useEffect(()=>{e.current=n}),e.current}const Qk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Yk=typeof document<"u",LT=Yk||Qk?C.useLayoutEffect:C.useEffect,Xk=["as","disabled"];function Wk(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function Zk(n){return!n||n.trim()==="#"}function _A({tagName:n,disabled:e,href:t,target:s,rel:a,role:l,onClick:c,tabIndex:d=0,type:p}){n||(t!=null||s!=null||a!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:p||"button",disabled:e},g];const E=A=>{if((e||n==="a"&&Zk(t))&&A.preventDefault(),e){A.stopPropagation();return}c==null||c(A)},b=A=>{A.key===" "&&(A.preventDefault(),E(A))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?s:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:E,onKeyDown:b},g]}const Jk=C.forwardRef((n,e)=>{let{as:t,disabled:s}=n,a=Wk(n,Xk);const[l,{tagName:c}]=_A(Object.assign({tagName:t,disabled:s},a));return T.jsx(c,Object.assign({},a,l,{ref:e}))});Jk.displayName="Button";const e6={[Ts]:"show",[_a]:"show"},fy=C.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:s,...a},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},d=C.useCallback((p,g)=>{jk(p),s==null||s(p,g)},[s]);return T.jsx(Fk,{ref:l,addEndListener:Uk,...c,onEnter:d,childRef:qf(e),children:(p,g)=>C.cloneElement(e,{...g,className:st("fade",n,e.props.className,e6[p],t[p])})})});fy.displayName="Fade";const t6={"aria-label":Cr.string,onClick:Cr.func,variant:Cr.oneOf(["white"])},dy=C.forwardRef(({className:n,variant:e,"aria-label":t="Close",...s},a)=>T.jsx("button",{ref:a,type:"button",className:st("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...s}));dy.displayName="CloseButton";dy.propTypes=t6;const Ki=C.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:s,active:a=!1,disabled:l=!1,className:c,...d},p)=>{const g=Bt(e,"btn"),[E,{tagName:b}]=_A({tagName:n,disabled:l,...d}),A=b;return T.jsx(A,{...E,...d,ref:p,disabled:l,className:st(c,g,a&&"active",t&&`${g}-${t}`,s&&`${g}-${s}`,d.href&&l&&"disabled")})});Ki.displayName="Button";function n6(n){const e=C.useRef(n);return e.current=n,e}function i6(n){const e=n6(n);C.useEffect(()=>()=>e.current(),[])}function r6(n,e){return C.Children.toArray(n).some(t=>C.isValidElement(t)&&t.type===e)}function s6({as:n,bsPrefix:e,className:t,...s}){e=Bt(e,"col");const a=vk(),l=_k(),c=[],d=[];return a.forEach(p=>{const g=s[p];delete s[p];let E,b,A;typeof g=="object"&&g!=null?{span:E,offset:b,order:A}=g:E=g;const I=p!==l?`-${p}`:"";E&&c.push(E===!0?`${e}${I}`:`${e}${I}-${E}`),A!=null&&d.push(`order${I}-${A}`),b!=null&&d.push(`offset${I}-${b}`)}),[{...s,className:st(t,...c,...d)},{as:n,bsPrefix:e,spans:c}]}const EA=C.forwardRef((n,e)=>{const[{className:t,...s},{as:a="div",bsPrefix:l,spans:c}]=s6(n);return T.jsx(a,{...s,ref:e,className:st(t,!c.length&&l)})});EA.displayName="Col";var a6=Function.prototype.bind.call(Function.prototype.call,[].slice);function Io(n,e){return a6(n.querySelectorAll(e))}function UT(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const o6="data-rr-ui-";function l6(n){return`${o6}${n}`}const TA=C.createContext(al?window:void 0);TA.Provider;function my(){return C.useContext(TA)}const u6={type:Cr.string,tooltip:Cr.bool,as:Cr.elementType},Hf=C.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:s=!1,...a},l)=>T.jsx(n,{...a,ref:l,className:st(e,`${t}-${s?"tooltip":"feedback"}`)}));Hf.displayName="Feedback";Hf.propTypes=u6;const Vr=C.createContext({}),py=C.forwardRef(({id:n,bsPrefix:e,className:t,type:s="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...d},p)=>{const{controlId:g}=C.useContext(Vr);return e=Bt(e,"form-check-input"),T.jsx(c,{...d,ref:p,type:s,id:n||g,className:st(t,e,a&&"is-valid",l&&"is-invalid")})});py.displayName="FormCheckInput";const ff=C.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...s},a)=>{const{controlId:l}=C.useContext(Vr);return n=Bt(n,"form-check-label"),T.jsx("label",{...s,ref:a,htmlFor:t||l,className:st(e,n)})});ff.displayName="FormCheckLabel";const bA=C.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:s=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:b,style:A,title:I="",type:M="checkbox",label:G,children:P,as:H="input",...Z},Q)=>{e=Bt(e,"form-check"),t=Bt(t,"form-switch");const{controlId:ae}=C.useContext(Vr),W=C.useMemo(()=>({controlId:n||ae}),[ae,n]),se=!P&&G!=null&&G!==!1||r6(P,ff),k=T.jsx(py,{...Z,type:M==="switch"?"checkbox":M,ref:Q,isValid:c,isInvalid:d,disabled:l,as:H});return T.jsx(Vr.Provider,{value:W,children:T.jsx("div",{style:A,className:st(b,se&&e,s&&`${e}-inline`,a&&`${e}-reverse`,M==="switch"&&t),children:P||T.jsxs(T.Fragment,{children:[k,se&&T.jsx(ff,{title:I,children:G}),g&&T.jsx(Hf,{type:E,tooltip:p,children:g})]})})})});bA.displayName="FormCheck";const df=Object.assign(bA,{Input:py,Label:ff}),wA=C.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:s,id:a,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:E="input",...b},A)=>{const{controlId:I}=C.useContext(Vr);return n=Bt(n,"form-control"),T.jsx(E,{...b,type:e,size:s,ref:A,readOnly:g,id:a||I,className:st(l,p?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});wA.displayName="FormControl";const c6=Object.assign(wA,{Feedback:Hf}),AA=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...s},a)=>(e=Bt(e,"form-floating"),T.jsx(t,{ref:a,className:st(n,e),...s})));AA.displayName="FormFloating";const gy=C.forwardRef(({controlId:n,as:e="div",...t},s)=>{const a=C.useMemo(()=>({controlId:n}),[n]);return T.jsx(Vr.Provider,{value:a,children:T.jsx(e,{...t,ref:s})})});gy.displayName="FormGroup";const SA=C.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:s=!1,className:a,htmlFor:l,...c},d)=>{const{controlId:p}=C.useContext(Vr);e=Bt(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const E=st(a,e,s&&"visually-hidden",t&&g);return l=l||p,t?T.jsx(EA,{ref:d,as:"label",className:E,htmlFor:l,...c}):T.jsx(n,{ref:d,className:E,htmlFor:l,...c})});SA.displayName="FormLabel";const RA=C.forwardRef(({bsPrefix:n,className:e,id:t,...s},a)=>{const{controlId:l}=C.useContext(Vr);return n=Bt(n,"form-range"),T.jsx("input",{...s,type:"range",ref:a,className:st(e,n),id:t||l})});RA.displayName="FormRange";const CA=C.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:s,isValid:a=!1,isInvalid:l=!1,id:c,...d},p)=>{const{controlId:g}=C.useContext(Vr);return n=Bt(n,"form-select"),T.jsx("select",{...d,size:t,ref:p,className:st(s,n,e&&`${n}-${e}`,a&&"is-valid",l&&"is-invalid"),id:c||g})});CA.displayName="FormSelect";const IA=C.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:s,...a},l)=>(n=Bt(n,"form-text"),T.jsx(t,{...a,ref:l,className:st(e,n,s&&"text-muted")})));IA.displayName="FormText";const xA=C.forwardRef((n,e)=>T.jsx(df,{...n,ref:e,type:"switch"}));xA.displayName="Switch";const h6=Object.assign(xA,{Input:df.Input,Label:df.Label}),NA=C.forwardRef(({bsPrefix:n,className:e,children:t,controlId:s,label:a,...l},c)=>(n=Bt(n,"form-floating"),T.jsxs(gy,{ref:c,className:st(e,n),controlId:s,...l,children:[t,T.jsx("label",{htmlFor:s,children:a})]})));NA.displayName="FloatingLabel";const f6={_ref:Cr.any,validated:Cr.bool,as:Cr.elementType},yy=C.forwardRef(({className:n,validated:e,as:t="form",...s},a)=>T.jsx(t,{...s,ref:a,className:st(n,e&&"was-validated")}));yy.displayName="Form";yy.propTypes=f6;const jt=Object.assign(yy,{Group:gy,Control:c6,Floating:AA,Check:df,Switch:h6,Label:SA,Text:IA,Range:RA,Select:CA,FloatingLabel:NA}),jT=n=>!n||typeof n=="function"?n:e=>{n.current=e};function d6(n,e){const t=jT(n),s=jT(e);return a=>{t&&t(a),s&&s(a)}}function vy(n,e){return C.useMemo(()=>d6(n,e),[n,e])}var Sh;function zT(n){if((!Sh&&Sh!==0||n)&&al){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Sh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Sh}function m6(){return C.useState(null)}function yp(n){n===void 0&&(n=Ff());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function p6(n){const e=C.useRef(n);return e.current=n,e}function g6(n){const e=p6(n);C.useEffect(()=>()=>e.current(),[])}function y6(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const BT=l6("modal-open");class _y{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return y6(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[s]:a.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(Sa(a,s)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(BT,""),Sa(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(BT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const vp=(n,e)=>al?n==null?(e||Ff()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function v6(n,e){const t=my(),[s,a]=C.useState(()=>vp(n,t==null?void 0:t.document));if(!s){const l=vp(n);l&&a(l)}return C.useEffect(()=>{},[e,s]),C.useEffect(()=>{const l=vp(n);l!==s&&a(l)},[n,s]),s}function _6({children:n,in:e,onExited:t,mountOnEnter:s,unmountOnExit:a}){const l=C.useRef(null),c=C.useRef(e),d=Ea(t);C.useEffect(()=>{e?c.current=!0:d(l.current)},[e,d]);const p=vy(l,qf(n)),g=C.cloneElement(n,{ref:p});return e?g:a||!c.current&&s?null:g}const E6=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function T6(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}function b6(n){let{onEnter:e,onEntering:t,onEntered:s,onExit:a,onExiting:l,onExited:c,addEndListener:d,children:p}=n,g=T6(n,E6);const E=C.useRef(null),b=vy(E,qf(p)),A=ae=>W=>{ae&&E.current&&ae(E.current,W)},I=C.useCallback(A(e),[e]),M=C.useCallback(A(t),[t]),G=C.useCallback(A(s),[s]),P=C.useCallback(A(a),[a]),H=C.useCallback(A(l),[l]),Z=C.useCallback(A(c),[c]),Q=C.useCallback(A(d),[d]);return Object.assign({},g,{nodeRef:E},e&&{onEnter:I},t&&{onEntering:M},s&&{onEntered:G},a&&{onExit:P},l&&{onExiting:H},c&&{onExited:Z},d&&{addEndListener:Q},{children:typeof p=="function"?(ae,W)=>p(ae,Object.assign({},W,{ref:b})):C.cloneElement(p,{ref:b})})}const w6=["component"];function A6(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}const S6=C.forwardRef((n,e)=>{let{component:t}=n,s=A6(n,w6);const a=b6(s);return T.jsx(t,Object.assign({ref:e},a))});function R6({in:n,onTransition:e}){const t=C.useRef(null),s=C.useRef(!0),a=Ea(e);return LT(()=>{if(!t.current)return;let l=!1;return a({in:n,element:t.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[n,a]),LT(()=>(s.current=!1,()=>{s.current=!0}),[]),t}function C6({children:n,in:e,onExited:t,onEntered:s,transition:a}){const[l,c]=C.useState(!e);e&&l&&c(!1);const d=R6({in:!!e,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s==null||s(g.element,g.initial):(c(!0),t==null||t(g.element)))};Promise.resolve(a(g)).then(E,b=>{throw g.in||c(!0),b})}}),p=vy(d,qf(n));return l&&!e?null:C.cloneElement(n,{ref:p})}function FT(n,e,t){return n?T.jsx(S6,Object.assign({},t,{component:n})):e?T.jsx(C6,Object.assign({},t,{transition:e})):T.jsx(_6,Object.assign({},t))}const I6=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function x6(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}let _p;function N6(n){return _p||(_p=new _y({ownerDocument:n==null?void 0:n.document})),_p}function D6(n){const e=my(),t=n||N6(e),s=C.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:C.useCallback(a=>{s.current.dialog=a},[]),setBackdropRef:C.useCallback(a=>{s.current.backdrop=a},[])})}const DA=C.forwardRef((n,e)=>{let{show:t=!1,role:s="dialog",className:a,style:l,children:c,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:b,runTransition:A,backdropTransition:I,runBackdropTransition:M,autoFocus:G=!0,enforceFocus:P=!0,restoreFocus:H=!0,restoreFocusOptions:Z,renderDialog:Q,renderBackdrop:ae=Pe=>T.jsx("div",Object.assign({},Pe)),manager:W,container:se,onShow:k,onHide:x=()=>{},onExit:R,onExited:D,onExiting:L,onEnter:z,onEntering:O,onEntered:ce}=n,ve=x6(n,I6);const ne=my(),pe=v6(se),he=D6(W),De=$k(),V=Kk(t),[ie,fe]=C.useState(!t),oe=C.useRef(null);C.useImperativeHandle(e,()=>he,[he]),al&&!V&&t&&(oe.current=yp(ne==null?void 0:ne.document)),t&&ie&&fe(!1);const le=Ea(()=>{if(he.add(),Ve.current=hf(document,"keydown",ke),Ye.current=hf(document,"focus",()=>setTimeout(Se),!0),k&&k(),G){var Pe,rn;const En=yp((Pe=(rn=he.dialog)==null?void 0:rn.ownerDocument)!=null?Pe:ne==null?void 0:ne.document);he.dialog&&En&&!UT(he.dialog,En)&&(oe.current=En,he.dialog.focus())}}),be=Ea(()=>{if(he.remove(),Ve.current==null||Ve.current(),Ye.current==null||Ye.current(),H){var Pe;(Pe=oe.current)==null||Pe.focus==null||Pe.focus(Z),oe.current=null}});C.useEffect(()=>{!t||!pe||le()},[t,pe,le]),C.useEffect(()=>{ie&&be()},[ie,be]),g6(()=>{be()});const Se=Ea(()=>{if(!P||!De()||!he.isTopModal())return;const Pe=yp(ne==null?void 0:ne.document);he.dialog&&Pe&&!UT(he.dialog,Pe)&&he.dialog.focus()}),et=Ea(Pe=>{Pe.target===Pe.currentTarget&&(g==null||g(Pe),d===!0&&x())}),ke=Ea(Pe=>{p&&Mk(Pe)&&he.isTopModal()&&(E==null||E(Pe),Pe.defaultPrevented||x())}),Ye=C.useRef(),Ve=C.useRef(),ct=(...Pe)=>{fe(!0),D==null||D(...Pe)};if(!pe)return null;const Ot=Object.assign({role:s,ref:he.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},ve,{style:l,className:a,tabIndex:-1});let Tt=Q?Q(Ot):T.jsx("div",Object.assign({},Ot,{children:C.cloneElement(c,{role:"document"})}));Tt=FT(b,A,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:R,onExiting:L,onExited:ct,onEnter:z,onEntering:O,onEntered:ce,children:Tt});let Ft=null;return d&&(Ft=ae({ref:he.setBackdropRef,onClick:et}),Ft=FT(I,M,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ft})),T.jsx(T.Fragment,{children:ko.createPortal(T.jsxs(T.Fragment,{children:[Ft,Tt]}),pe)})});DA.displayName="Modal";const O6=Object.assign(DA,{Manager:_y});function M6(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function k6(n,e){n.classList?n.classList.add(e):M6(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function qT(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function V6(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=qT(n.className,e):n.setAttribute("class",qT(n.className&&n.className.baseVal||"",e))}const xo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class P6 extends _y{adjustAndStore(e,t,s){const a=t.style[e];t.dataset[e]=a,Sa(t,{[e]:`${parseFloat(Sa(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],Sa(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(k6(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Io(t,xo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth)),Io(t,xo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-e.scrollBarWidth)),Io(t,xo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();V6(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Io(t,xo.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Io(t,xo.STICKY_CONTENT).forEach(l=>this.restore(a,l)),Io(t,xo.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let Ep;function L6(n){return Ep||(Ep=new P6(n)),Ep}const OA=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...s},a)=>(e=Bt(e,"modal-body"),T.jsx(t,{ref:a,className:st(n,e),...s})));OA.displayName="ModalBody";const MA=C.createContext({onHide(){}}),Ey=C.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:s,size:a,fullscreen:l,children:c,scrollable:d,...p},g)=>{n=Bt(n,"modal");const E=`${n}-dialog`,b=typeof l=="string"?`${n}-fullscreen-${l}`:`${n}-fullscreen`;return T.jsx("div",{...p,ref:g,className:st(E,e,a&&`${n}-${a}`,s&&`${E}-centered`,d&&`${E}-scrollable`,l&&b),children:T.jsx("div",{className:st(`${n}-content`,t),children:c})})});Ey.displayName="ModalDialog";const kA=C.forwardRef(({className:n,bsPrefix:e,as:t="div",...s},a)=>(e=Bt(e,"modal-footer"),T.jsx(t,{ref:a,className:st(n,e),...s})));kA.displayName="ModalFooter";const U6=C.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:a,...l},c)=>{const d=C.useContext(MA),p=ng(()=>{d==null||d.onHide(),s==null||s()});return T.jsxs("div",{ref:c,...l,children:[a,t&&T.jsx(dy,{"aria-label":n,variant:e,onClick:p})]})}),VA=C.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:s=!1,...a},l)=>(n=Bt(n,"modal-header"),T.jsx(U6,{ref:l,...a,className:st(e,n),closeLabel:t,closeButton:s})));VA.displayName="ModalHeader";const j6=Hk("h4"),PA=C.forwardRef(({className:n,bsPrefix:e,as:t=j6,...s},a)=>(e=Bt(e,"modal-title"),T.jsx(t,{ref:a,className:st(n,e),...s})));PA.displayName="ModalTitle";function z6(n){return T.jsx(fy,{...n,timeout:null})}function B6(n){return T.jsx(fy,{...n,timeout:null})}const LA=C.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:s,contentClassName:a,children:l,dialogAs:c=Ey,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":E,show:b=!1,animation:A=!0,backdrop:I=!0,keyboard:M=!0,onEscapeKeyDown:G,onShow:P,onHide:H,container:Z,autoFocus:Q=!0,enforceFocus:ae=!0,restoreFocus:W=!0,restoreFocusOptions:se,onEntered:k,onExit:x,onExiting:R,onEnter:D,onEntering:L,onExited:z,backdropClassName:O,manager:ce,...ve},ne)=>{const[pe,he]=C.useState({}),[De,V]=C.useState(!1),ie=C.useRef(!1),fe=C.useRef(!1),oe=C.useRef(null),[le,be]=m6(),Se=vA(ne,be),et=ng(H),ke=Ek();n=Bt(n,"modal");const Ye=C.useMemo(()=>({onHide:et}),[et]);function Ve(){return ce||L6({isRTL:ke})}function ct(Te){if(!al)return;const tt=Ve().getScrollbarWidth()>0,Tn=Te.scrollHeight>Ff(Te).documentElement.clientHeight;he({paddingRight:tt&&!Tn?zT():void 0,paddingLeft:!tt&&Tn?zT():void 0})}const Ot=ng(()=>{le&&ct(le.dialog)});i6(()=>{tg(window,"resize",Ot),oe.current==null||oe.current()});const Tt=()=>{ie.current=!0},Ft=Te=>{ie.current&&le&&Te.target===le.dialog&&(fe.current=!0),ie.current=!1},Pe=()=>{V(!0),oe.current=yA(le.dialog,()=>{V(!1)})},rn=Te=>{Te.target===Te.currentTarget&&Pe()},En=Te=>{if(I==="static"){rn(Te);return}if(fe.current||Te.target!==Te.currentTarget){fe.current=!1;return}H==null||H()},si=Te=>{M?G==null||G(Te):(Te.preventDefault(),I==="static"&&Pe())},Ei=(Te,tt)=>{Te&&ct(Te),D==null||D(Te,tt)},In=Te=>{oe.current==null||oe.current(),x==null||x(Te)},ai=(Te,tt)=>{L==null||L(Te,tt),gA(window,"resize",Ot)},js=Te=>{Te&&(Te.style.display=""),z==null||z(Te),tg(window,"resize",Ot)},Xi=C.useCallback(Te=>T.jsx("div",{...Te,className:st(`${n}-backdrop`,O,!A&&"show")}),[A,O,n]),Mt={...t,...pe};Mt.display="block";const Ur=Te=>T.jsx("div",{role:"dialog",...Te,style:Mt,className:st(e,n,De&&`${n}-static`,!A&&"show"),onClick:I?En:void 0,onMouseUp:Ft,"data-bs-theme":d,"aria-label":E,"aria-labelledby":p,"aria-describedby":g,children:T.jsx(c,{...ve,onMouseDown:Tt,className:s,contentClassName:a,children:l})});return T.jsx(MA.Provider,{value:Ye,children:T.jsx(O6,{show:b,ref:Se,backdrop:I,container:Z,keyboard:!0,autoFocus:Q,enforceFocus:ae,restoreFocus:W,restoreFocusOptions:se,onEscapeKeyDown:si,onShow:P,onHide:H,onEnter:Ei,onEntering:ai,onEntered:k,onExit:In,onExiting:R,onExited:js,manager:Ve(),transition:A?z6:void 0,backdropTransition:A?B6:void 0,renderBackdrop:Xi,renderDialog:Ur})})});LA.displayName="Modal";const ot=Object.assign(LA,{Body:OA,Header:VA,Title:PA,Footer:kA,Dialog:Ey,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function F6(){const{currentUser:n,userData:e}=La(),t=Oa(),[s,a]=C.useState(0),[l,c]=C.useState(0),[d,p]=C.useState(0),[g,E]=C.useState(0),[b,A]=C.useState(null),[I,M]=C.useState(!0),[G,P]=C.useState(null),[H,Z]=C.useState(!1),[Q,ae]=C.useState([]),[W,se]=C.useState({name:"",category:"nutrition",icon:"FaApple",target:1});C.useEffect(()=>{if(!n)return;(async()=>{try{M(!0),P(null);const ve=await hy(n.uid);if(ve.length===0){M(!1);return}const ne=localStorage.getItem("activeGroupId"),pe=ne?await uk(ne):ve[0];if(pe){A(pe),localStorage.setItem("activeGroupId",pe.id);const he=await va(n.uid,pe.id);he?(a(he.healthyFats||0),c(he.veggies||0),p(he.cardio||0),E(he.strength||0)):(a(0),c(0),p(0),E(0))}}catch(ve){console.error("Error fetching data:",ve),P("Failed to load data. Please try again.")}finally{M(!1)}})()},[n]),C.useEffect(()=>{b&&n&&(async()=>{const ve=await va(n.uid,b.id);ve!=null&&ve.customGoals&&ae(Object.values(ve.customGoals))})()},[b,n]);const k=async(ce,ve)=>{if(!(!n||!b))try{switch(M(!0),P(null),await tk(n.uid,b.id,ce,ve),ce){case"healthyFats":a(ne=>(ne||0)+ve);break;case"veggies":c(ne=>(ne||0)+ve);break;case"cardio":p(ne=>(ne||0)+ve);break;case"strength":E(ne=>(ne||0)+ve);break}await xT(n.uid,b.id)}catch(ne){console.error(`Error updating ${ce}:`,ne),P(`Failed to update ${ce}. Please try again.`)}finally{M(!1)}},x=()=>{t("/health-quest/group")},R=async()=>{if(!(!n||!b))try{M(!0),P(null),await ik(n.uid,b.id,W);const ce=await va(n.uid,b.id);ce!=null&&ce.customGoals&&ae(Object.values(ce.customGoals)),Z(!1),se({name:"",category:"nutrition",icon:"FaApple",target:1})}catch(ce){console.error("Error creating goal:",ce),P("Failed to create goal. Please try again.")}finally{M(!1)}},D=async(ce,ve)=>{if(!(!n||!b))try{M(!0),P(null),await rk(n.uid,b.id,ce,ve);const ne=await va(n.uid,b.id);ne!=null&&ne.customGoals&&ae(Object.values(ne.customGoals))}catch(ne){console.error("Error updating goal progress:",ne),P("Failed to update progress. Please try again.")}finally{M(!1)}},L=async ce=>{if(!(!n||!b))try{M(!0),P(null),await sk(n.uid,b.id,ce);const ve=await va(n.uid,b.id);ve!=null&&ve.customGoals&&ae(Object.values(ve.customGoals))}catch(ve){console.error("Error deleting goal:",ve),P("Failed to delete goal. Please try again.")}finally{M(!1)}},z=async ce=>{if(!(!n||!b))try{switch(M(!0),P(null),await ak(n.uid,b.id,ce),ce){case"healthyFats":a(void 0);break;case"veggies":c(void 0);break;case"cardio":p(void 0);break;case"strength":E(void 0);break}await xT(n.uid,b.id)}catch(ve){console.error("Error deleting goal:",ve),P("Failed to delete goal. Please try again.")}finally{M(!1)}},O=()=>{const ce=s||0,ve=l||0,ne=d||0,pe=g||0,he=Q.reduce((fe,oe)=>fe+(oe.current||0),0),De=Q.reduce((fe,oe)=>fe+oe.target,0),V=ce+ve+ne+pe+he,ie=(s!==void 0?12:0)+(l!==void 0?16:0)+(d!==void 0?3:0)+(g!==void 0?3:0)+De;return ie===0?0:V/ie*100};return I?T.jsx("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:T.jsx("p",{className:"text-center",children:"Loading your health quest data..."})}):G?T.jsxs("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:[T.jsx("div",{className:"alert alert-danger",role:"alert",children:G}),T.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Try Again"})]}):b?T.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[T.jsx("div",{className:"card mb-4",children:T.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[T.jsx("h2",{className:"m-0",children:b.name}),T.jsx("img",{src:(e==null?void 0:e.avatarUrl)||"/health-quest/profile.png",alt:"Profile",className:"rounded-circle",width:35,height:35})]})}),T.jsxs("div",{className:"mb-4",children:[T.jsx("h4",{children:"Family Progress"}),T.jsx(Ro,{bgColor:"#D85B6A",completed:parseFloat(O().toFixed(0))})]}),T.jsx("div",{children:T.jsxs("h4",{className:"d-flex align-items-center",style:{color:"#e65100"},children:[T.jsx(J2,{}),"   Nutrition",T.jsx("button",{className:"btn btn-sm btn-outline-primary ms-auto",onClick:()=>{se({...W,category:"nutrition"}),Z(!0)},children:"+ Add Goal"})]})}),s!=null&&T.jsxs("div",{className:"card mb-2 p-2",children:[T.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsx(nC,{style:{color:"#e65100"}}),"  ",T.jsx("b",{children:"Healthy Fats: 12 Servings"})]}),T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsxs("b",{children:[s,"/12"]}),T.jsx("button",{className:"btn btn-sm btn-link text-danger ms-2",onClick:()=>z("healthyFats"),disabled:I,children:"Delete"})]})]}),T.jsx(Ro,{bgColor:"#e65100",className:"mb-2",completed:s/12*100,isLabelVisible:!1}),T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#fff6ed",color:"#e65100"},onClick:()=>k("healthyFats",-1),disabled:I||s<=0,children:"- Remove Serving"}),T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#fff6ed",color:"#e65100"},onClick:()=>k("healthyFats",1),disabled:I||s>=12,children:"+ Add Serving"})]})]}),l!=null&&T.jsxs("div",{className:"card mb-3 p-2",children:[T.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsx(tC,{style:{color:"green"}}),"  ",T.jsx("b",{children:"Vegetables: 16 Servings"})]}),T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsxs("b",{children:[l,"/16"]}),T.jsx("button",{className:"btn btn-sm btn-link text-danger ms-2",onClick:()=>z("veggies"),disabled:I,children:"Delete"})]})]}),T.jsx(Ro,{bgColor:"green",className:"mb-2",completed:l/16*100,isLabelVisible:!1}),T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#f0fcf4",color:"green"},onClick:()=>k("veggies",-1),disabled:I||l<=0,children:"- Remove Serving"}),T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#f0fcf4",color:"green"},onClick:()=>k("veggies",1),disabled:I||l>=16,children:"+ Add Serving"})]})]}),Q.filter(ce=>ce.category==="nutrition").map(ce=>T.jsxs("div",{className:"card mb-3 p-2",children:[T.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsx(B0,{style:{color:"#e65100"}}),"  ",T.jsxs("b",{children:[ce.name,": ",ce.target," Servings"]})]}),T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsxs("b",{children:[ce.current,"/",ce.target]}),T.jsx("button",{className:"btn btn-sm btn-link text-danger ms-2",onClick:()=>L(ce.id),disabled:I,children:"Delete"})]})]}),T.jsx(Ro,{bgColor:"#e65100",className:"mb-2",completed:ce.current/ce.target*100,isLabelVisible:!1}),T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#fff6ed",color:"#e65100"},onClick:()=>D(ce.id,-1),disabled:I||ce.current<=0,children:"- Remove Progress"}),T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#fff6ed",color:"#e65100"},onClick:()=>D(ce.id,1),disabled:I||ce.current>=ce.target,children:"+ Add Progress"})]})]},ce.id)),T.jsx("div",{children:T.jsxs("h4",{className:"d-flex align-items-center",style:{color:"#7b39ec"},children:[T.jsx(F0,{}),"   Fitness",T.jsx("button",{className:"btn btn-sm btn-outline-primary ms-auto",onClick:()=>{se({...W,category:"fitness"}),Z(!0)},children:"+ Add Goal"})]})}),d!=null&&T.jsxs("div",{className:"card mb-3 p-2",children:[T.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsx(iC,{style:{color:"#7b39ec"}}),T.jsx("b",{children:"Cardio: 3 Workouts"})]}),T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsxs("b",{children:[d,"/3"]}),T.jsx("button",{className:"btn btn-sm btn-link text-danger ms-2",onClick:()=>z("cardio"),disabled:I,children:"Delete"})]})]}),T.jsx(Ro,{bgColor:"#7b39ec",className:"mb-2",completed:d/3*100,isLabelVisible:!1}),T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#f8f4fc",color:"#7b39ec"},onClick:()=>k("cardio",-1),disabled:I||d<=0,children:"- Remove Workout"}),T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#f8f4fc",color:"#7b39ec"},onClick:()=>k("cardio",1),disabled:I||d>=3,children:"+ Log Workout"})]})]}),g!=null&&T.jsxs("div",{className:"card mb-3 p-2",children:[T.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsx(aC,{style:{color:"#3c82f6"}}),"  ",T.jsx("b",{children:"Strength: 3 Workouts"})]}),T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsxs("b",{children:[g,"/3"]}),T.jsx("button",{className:"btn btn-sm btn-link text-danger ms-2",onClick:()=>z("strength"),disabled:I,children:"Delete"})]})]}),T.jsx(Ro,{bgColor:"#3c82f6",className:"mb-2",completed:g/3*100,isLabelVisible:!1}),T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#f0f4fc",color:"#3c82f6"},onClick:()=>k("strength",-1),disabled:I||g<=0,children:"- Remove Workout"}),T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#f0f4fc",color:"#3c82f6"},onClick:()=>k("strength",1),disabled:I||g>=3,children:"+ Log Workout"})]})]}),T.jsxs("div",{className:"card mb-4",children:[T.jsxs("div",{className:"card-header bg-white d-flex justify-content-between align-items-center",children:[T.jsx("h4",{className:"mb-0",children:"Custom Goals"}),T.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>Z(!0),children:"Add Goal"})]}),T.jsx("div",{className:"list-group list-group-flush",children:Q.map(ce=>T.jsx("div",{className:"list-group-item",children:T.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[T.jsx("span",{className:`me-2 text-${ce.category==="nutrition"?"success":"primary"}`,children:ce.category==="nutrition"?T.jsx(B0,{size:24}):T.jsx(F0,{size:24})}),T.jsxs("div",{children:[T.jsx("div",{className:"fw-bold",children:ce.name}),T.jsxs("div",{className:"text-muted small",children:["Progress: ",ce.current,"/",ce.target]})]})]}),T.jsxs("div",{className:"d-flex gap-2",children:[T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#fff6ed",color:"#e65100"},onClick:()=>D(ce.id,-1),disabled:I||ce.current<=0,children:"- Remove Progress"}),T.jsx("button",{className:"btn flex-grow-1",style:{backgroundColor:"#fff6ed",color:"#e65100"},onClick:()=>D(ce.id,1),disabled:I||ce.current>=ce.target,children:"+ Add Progress"})]})]})},ce.id))})]}),T.jsxs(ot,{show:H,onHide:()=>Z(!1),children:[T.jsx(ot.Header,{closeButton:!0,children:T.jsx(ot.Title,{children:"Add New Goal"})}),T.jsx(ot.Body,{children:T.jsxs(jt,{children:[T.jsxs(jt.Group,{className:"mb-3",children:[T.jsx(jt.Label,{children:"Goal Name"}),T.jsx(jt.Control,{type:"text",value:W.name,onChange:ce=>se({...W,name:ce.target.value}),placeholder:"Enter goal name"})]}),T.jsxs(jt.Group,{className:"mb-3",children:[T.jsx(jt.Label,{children:"Category"}),T.jsxs(jt.Select,{value:W.category,onChange:ce=>se({...W,category:ce.target.value}),children:[T.jsx("option",{value:"nutrition",children:"Nutrition"}),T.jsx("option",{value:"fitness",children:"Fitness"})]})]}),T.jsxs(jt.Group,{className:"mb-3",children:[T.jsx(jt.Label,{children:"Target (number of times)"}),T.jsx(jt.Control,{type:"number",min:"1",value:W.target,onChange:ce=>se({...W,target:parseInt(ce.target.value)})})]})]})}),T.jsxs(ot.Footer,{children:[T.jsx(Ki,{variant:"secondary",onClick:()=>Z(!1),children:"Cancel"}),T.jsx(Ki,{variant:"primary",onClick:R,disabled:I||!W.name.trim()||W.target<1,children:I?"Creating...":"Create Goal"})]})]})]}):T.jsxs("div",{className:"container mt-4 d-flex flex-column align-items-center justify-content-center",style:{height:"100vh"},children:[T.jsx("p",{className:"mb-3 text-center",style:{fontSize:"1.5rem"},children:"You are not in a group. Please join or create a group to see your tasks."}),T.jsx("button",{className:"btn btn-primary",onClick:x,children:"Join a Group"})]})}function UA(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(n)}function q6(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 400a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm128 256a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zM128 272a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0-128a48 48 0 1 0 48 48 48 48 0 0 0-48-48z"},child:[]}]})(n)}function H6(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"80",height:"80",x:"336",y:"336",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"272",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"64",height:"64",x:"416",y:"416",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"432",y:"272",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"48",x:"272",y:"432",rx:"8",ry:"8"},child:[]},{tag:"path",attr:{d:"M448 32H304a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zM208 32H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V64a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8zm32 104H64a32 32 0 0 0-32 32v144a32 32 0 0 0 32 32h144a32 32 0 0 0 32-32V304a32 32 0 0 0-32-32zm-32 136a8 8 0 0 1-8 8h-64a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8h64a8 8 0 0 1 8 8z"},child:[]}]})(n)}function jA(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.29 192.31a64 64 0 1 0 57.4 57.4 64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22 155.3 155.3 0 0 1-21.46-12.57 16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22 155.3 155.3 0 0 1 21.46 12.57 16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z"},child:[]}]})(n)}function G6(){const{currentUser:n}=La(),e=Oa(),[t,s]=C.useState(""),[a,l]=C.useState(!1),[c,d]=C.useState(""),[p,g]=C.useState(""),[E,b]=C.useState(!1),[A,I]=C.useState(null),[M,G]=C.useState([]);C.useEffect(()=>{if(!n)return;(async()=>{try{const k=await hy(n.uid);G(k)}catch(k){console.error("Error loading groups:",k)}})()},[n]);const P=()=>{console.log("Camera opened (mock)")},H=()=>{l(!0),g(Math.random().toString(36).substring(2,8).toUpperCase())},Z=async()=>{if(!(!n||!c.trim()))try{b(!0),I(null);const se=await lk(c,n.uid);localStorage.setItem("activeGroupId",se),l(!1),e("/health-quest")}catch(se){console.error("Error creating group:",se),I("Failed to create group. Please try again.")}finally{b(!1)}},Q=async()=>{if(!(!n||!t.trim()))try{b(!0),I(null);const se=await ck(t);if(!se){I("Invalid group code. Please check and try again.");return}if(se.members.includes(n.uid)){localStorage.setItem("activeGroupId",se.id),e("/health-quest");return}await hk(se.id,n.uid),localStorage.setItem("activeGroupId",se.id),e("/health-quest")}catch(se){console.error("Error joining group:",se),I("Failed to join group. Please try again.")}finally{b(!1)}},ae=()=>{l(!1),d("")},W=()=>{e("/health-quest")};return T.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[T.jsx("div",{className:"card mb-4",children:T.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[T.jsx(UA,{size:24,className:"text-primary",style:{cursor:"pointer"},onClick:W}),T.jsx("h2",{className:"m-0",children:"Join Group"}),T.jsx(jA,{size:24,className:"text-primary",style:{cursor:"pointer"}})]})}),A&&T.jsx("div",{className:"alert alert-danger mb-4",role:"alert",children:A}),M.length>0&&T.jsxs("div",{className:"card mb-4",children:[T.jsx("div",{className:"card-header bg-white",children:T.jsx("h5",{className:"mb-0",children:"Your Groups"})}),T.jsx("div",{className:"list-group list-group-flush",children:M.map(se=>T.jsxs("button",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",onClick:()=>{localStorage.setItem("activeGroupId",se.id),e("/health-quest")},children:[T.jsx("span",{children:se.name}),T.jsxs("span",{className:"badge bg-primary rounded-pill",children:[se.members.length," members"]})]},se.id))})]}),T.jsx("div",{className:"card mb-4",children:T.jsx("div",{className:"card-body",children:T.jsxs("div",{className:"input-group",children:[T.jsx("span",{className:"input-group-text",children:T.jsx(q6,{className:"text-primary"})}),T.jsx("input",{type:"text",className:"form-control",placeholder:"Enter group code",value:t,onChange:se=>s(se.target.value)}),T.jsx("button",{className:"btn btn-primary",onClick:Q,disabled:E||!t.trim(),children:E?"Joining...":"Submit"})]})})}),T.jsxs("div",{className:"position-relative text-center mb-4",children:[T.jsx("hr",{className:"position-absolute w-100 top-50"}),T.jsx("span",{className:"bg-white px-3 position-relative text-muted",children:"OR"})]}),T.jsx("div",{className:"card mb-4 text-center",children:T.jsxs("div",{className:"card-body",children:[T.jsx(H6,{size:100,className:"text-primary mb-3"}),T.jsx("h5",{children:"Scan QR Code"}),T.jsx("button",{className:"btn btn-primary w-100",onClick:P,children:"Open Camera"})]})}),T.jsx("div",{className:"card",children:T.jsxs("div",{className:"card-body text-center",children:[T.jsx("p",{className:"mb-3",children:"Don't have a group to join?"}),T.jsxs("button",{className:"btn btn-success w-100 d-flex align-items-center justify-content-center gap-2",onClick:H,disabled:E,children:[T.jsx(rC,{}),"Create New Group"]})]})}),T.jsxs(ot,{show:a,onHide:ae,children:[T.jsx(ot.Header,{closeButton:!0,children:T.jsx(ot.Title,{children:"Create New Group"})}),T.jsxs(ot.Body,{children:[T.jsxs("div",{className:"mb-3",children:[T.jsx("label",{htmlFor:"groupName",className:"form-label",children:"Group Name"}),T.jsx("input",{type:"text",id:"groupName",className:"form-control",placeholder:"Enter group name",value:c,onChange:se=>d(se.target.value)})]}),T.jsxs("div",{className:"alert alert-info",children:[T.jsx("strong",{children:"Generated Group Code:"})," ",p,T.jsx("p",{className:"small mt-2 mb-0",children:"Share this code with others to let them join your group"})]})]}),T.jsxs(ot.Footer,{children:[T.jsx(Ki,{variant:"secondary",onClick:ae,children:"Cancel"}),T.jsx(Ki,{variant:"primary",onClick:Z,disabled:E||!c.trim(),children:E?"Creating...":"Create Group"})]})]})]})}function $6(n){return Dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M104 96H56c-13.3 0-24 10.7-24 24v104H8c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h24v104c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm528 128h-24V120c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h24c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM456 32h-48c-13.3 0-24 10.7-24 24v168H256V56c0-13.3-10.7-24-24-24h-48c-13.3 0-24 10.7-24 24v400c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V288h128v168c0 13.3 10.7 24 24 24h48c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24z"},child:[]}]})(n)}function K6(n){return Dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(n)}function Q6(n){return Dt({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 0 0-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 0 0-44-44zM184 352V232h64v207.6a91.99 91.99 0 0 1-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"},child:[]}]})(n)}function Gf({size:n="md",color:e="primary"}){const t={sm:"spinner-border-sm",md:"",lg:"spinner-border-lg"};return T.jsx("div",{className:"d-flex justify-content-center align-items-center p-3",children:T.jsx("div",{className:`spinner-border text-${e} ${t[n]}`,role:"status",children:T.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}const Y6=["/health-quest/avatars/fitness-woman1.jpg","/health-quest/avatars/fitness-man1.jpg","/health-quest/avatars/fitness-woman2.jpg","/health-quest/avatars/fitness-man2.jpg"];function X6({show:n,onHide:e,currentName:t,currentUsername:s,currentAvatar:a,onUpdate:l}){const{currentUser:c}=La(),[d,p]=C.useState(t),[g,E]=C.useState(s),[b,A]=C.useState(a),[I,M]=C.useState(!1),[G,P]=C.useState(null),[H,Z]=C.useState({});C.useEffect(()=>{n&&(p(t),E(s),A(a),P(null),Z({}))},[n,t,s,a]);const Q=()=>{const W={};return d.trim()||(W.name="Name is required"),g.trim()?g.length<3?W.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(g)||(W.username="Username can only contain letters, numbers, and underscores"):W.username="Username is required",Z(W),Object.keys(W).length===0},ae=async()=>{if(c&&Q())try{M(!0),P(null);const W=Et(ut,"users",c.uid);await Ln(W,{name:d.trim(),username:g.trim(),avatarUrl:b}),l(),e()}catch(W){console.error("Error updating profile:",W),P("Failed to update profile. Please try again.")}finally{M(!1)}};return T.jsxs(ot,{show:n,onHide:e,centered:!0,children:[T.jsx(ot.Header,{closeButton:!0,children:T.jsx(ot.Title,{children:"Edit Profile"})}),T.jsxs(ot.Body,{children:[G&&T.jsx("div",{className:"alert alert-danger mb-3",children:G}),T.jsxs(jt,{children:[T.jsxs("div",{className:"text-center mb-4",children:[T.jsx("h6",{className:"mb-3",children:"Choose an Avatar"}),T.jsx("div",{className:"d-flex justify-content-center gap-3 flex-wrap",children:Y6.map((W,se)=>T.jsx("div",{className:`avatar-option ${b===W?"selected":""}`,onClick:()=>A(W),style:{cursor:"pointer",border:b===W?"3px solid #007bff":"3px solid transparent",borderRadius:"50%",padding:"2px",transition:"all 0.2s ease-in-out",transform:b===W?"scale(1.1)":"scale(1)",boxShadow:b===W?"0 0 10px rgba(0,123,255,0.5)":"none"},children:T.jsx("img",{src:W,alt:`Avatar ${se+1}`,style:{width:"70px",height:"70px",borderRadius:"50%",objectFit:"cover",transition:"all 0.2s ease-in-out",filter:b===W?"brightness(1.1)":"brightness(1)"}})},se))})]}),T.jsxs(jt.Group,{className:"mb-3",children:[T.jsx(jt.Label,{children:"Name"}),T.jsx(jt.Control,{type:"text",value:d,onChange:W=>p(W.target.value),placeholder:"Enter your name",isInvalid:!!H.name}),T.jsx(jt.Control.Feedback,{type:"invalid",children:H.name})]}),T.jsxs(jt.Group,{className:"mb-3",children:[T.jsx(jt.Label,{children:"Username"}),T.jsx(jt.Control,{type:"text",value:g,onChange:W=>E(W.target.value),placeholder:"Enter your username",isInvalid:!!H.username}),T.jsx(jt.Control.Feedback,{type:"invalid",children:H.username})]})]})]}),T.jsxs(ot.Footer,{children:[T.jsx(Ki,{variant:"secondary",onClick:e,children:"Cancel"}),T.jsx(Ki,{variant:"primary",onClick:ae,disabled:I,children:I?T.jsxs(T.Fragment,{children:[T.jsx(Gf,{size:"sm"})," Saving..."]}):"Save Changes"})]})]})}function W6({show:n,onHide:e}){const t=Oa(),[s,a]=C.useState(!1),[l,c]=C.useState(null),d=async()=>{try{a(!0),c(null),await dA(),t("/health-quest/login")}catch(p){console.error("Error logging out:",p),c("Failed to log out. Please try again.")}finally{a(!1)}};return T.jsxs(ot,{show:n,onHide:e,centered:!0,children:[T.jsx(ot.Header,{closeButton:!0,children:T.jsx(ot.Title,{children:"Settings"})}),T.jsxs(ot.Body,{children:[l&&T.jsx("div",{className:"alert alert-danger mb-3",children:l}),T.jsx("div",{className:"d-grid gap-2",children:T.jsx(Ki,{variant:"outline-danger",onClick:d,disabled:s,children:s?T.jsxs(T.Fragment,{children:[T.jsx(Gf,{size:"sm"})," Logging out..."]}):"Logout"})})]})]})}const Z6=n=>{const{healthyFats:e=0,veggies:t=0,cardio:s=0,strength:a=0,customGoals:l={}}=n,c=e+t+s+a,d=(e!==void 0?12:0)+(t!==void 0?16:0)+(s!==void 0?3:0)+(a!==void 0?3:0),p=Object.values(l).reduce((A,I)=>A+(I.current||0),0),g=Object.values(l).reduce((A,I)=>A+I.target,0),E=c+p,b=d+g;return b===0?0:Math.round(E/b*100)};function J6(){const{userData:n,currentUser:e}=La(),[t,s]=C.useState(!1),[a,l]=C.useState(!1),[c,d]=C.useState(null),[p,g]=C.useState([]),[E,b]=C.useState(!0);return C.useEffect(()=>{(async()=>{if(e)try{b(!0);const I=await nk(e.uid),M=await hy(e.uid);let G=0,P=0;for(const Z of M){const Q=await va(e.uid,Z.id);if(Q){G+=Z6(Q);const ae=[Q.healthyFats!==void 0,Q.veggies!==void 0,Q.cardio!==void 0,Q.strength!==void 0].filter(Boolean).length,W=Object.keys(Q.customGoals||{}).length;P+=ae+W}}const H=M.length>0?Math.round(G/M.length):0;I&&d({...I,activeGoals:P,completion:H}),g(M)}catch(I){console.error("Error loading user data:",I)}finally{b(!1)}})()},[e]),!n||!c?null:E?T.jsx(Gf,{size:"lg"}):T.jsxs("div",{className:"container mt-4 mb-5 pb-5",children:[T.jsx("div",{className:"card mb-4",children:T.jsxs("div",{className:"card-body d-flex justify-content-between align-items-center",children:[T.jsx(UA,{size:24,className:"text-primary",style:{cursor:"pointer"}}),T.jsx("h2",{className:"m-0",children:"Profile"}),T.jsx(jA,{size:24,className:"text-primary",style:{cursor:"pointer"},onClick:()=>l(!0)})]})}),T.jsx("div",{className:"card mb-4",children:T.jsxs("div",{className:"card-body text-center position-relative",children:[T.jsx("button",{className:"btn btn-link position-absolute top-0 end-0 mt-2 me-2",onClick:()=>s(!0),children:"Edit"}),T.jsx("img",{src:n.avatarUrl,alt:"Profile",className:"rounded-circle mb-3",width:100,height:100}),T.jsx("h3",{className:"mb-1",children:n.name}),T.jsx("p",{className:"text-primary",children:n.username})]})}),T.jsxs("div",{className:"row mb-4 g-3",children:[T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card h-100",children:T.jsxs("div",{className:"card-body text-center",children:[T.jsx("h3",{className:"text-success mb-2",children:c.activeGoals}),T.jsx("div",{className:"text-muted small",children:"Active Goals"})]})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card h-100",children:T.jsxs("div",{className:"card-body text-center",children:[T.jsxs("h3",{className:"text-primary mb-2",children:[c.completion,"%"]}),T.jsx("div",{className:"text-muted small",children:"Completion"})]})})}),T.jsx("div",{className:"col-4",children:T.jsx("div",{className:"card h-100",children:T.jsxs("div",{className:"card-body text-center",children:[T.jsx("h3",{className:"text-warning mb-2",children:c.totalGroups}),T.jsx("div",{className:"text-muted small",children:"Groups"})]})})})]}),T.jsxs("div",{className:"card mb-4",children:[T.jsx("div",{className:"card-header bg-white",children:T.jsx("h5",{className:"mb-0",children:"My Groups"})}),T.jsx("div",{className:"list-group list-group-flush",children:p.map(A=>T.jsxs("div",{className:"list-group-item d-flex justify-content-between align-items-center",children:[T.jsxs("div",{className:"d-flex align-items-center",children:[A.icon==="family"?T.jsx(eC,{size:24,className:"text-primary me-2"}):T.jsx($6,{size:24,className:"text-danger me-2"}),T.jsx("span",{children:A.name})]}),T.jsxs("div",{children:[T.jsxs("span",{className:"badge bg-primary me-2",children:[A.members.length," members"]}),T.jsx("span",{className:"badge bg-success",children:A.status})]})]},A.id))})]}),T.jsxs("div",{className:"card",children:[T.jsx("div",{className:"card-header bg-white",children:T.jsx("h5",{className:"mb-0",children:"Lifetime Stats"})}),T.jsxs("div",{className:"list-group list-group-flush",children:[T.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[T.jsx(Q6,{className:"text-warning me-3",size:28}),T.jsxs("div",{children:[T.jsx("div",{className:"fw-bold",children:"Goals Completed"}),T.jsx("div",{className:"text-success",children:c.goalsCompleted})]})]}),T.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[T.jsx(K6,{className:"text-danger me-3",size:28}),T.jsxs("div",{children:[T.jsx("div",{className:"fw-bold",children:"Workout Sessions"}),T.jsx("div",{className:"text-success",children:c.workoutSessions})]})]}),T.jsxs("div",{className:"list-group-item d-flex align-items-center",children:[T.jsx(sC,{className:"text-primary me-3",size:28}),T.jsxs("div",{children:[T.jsx("div",{className:"fw-bold",children:"Healthy Meals"}),T.jsx("div",{className:"text-success",children:c.healthyMeals})]})]})]})]}),T.jsx(X6,{show:t,onHide:()=>s(!1),currentName:n.name,currentUsername:n.username,currentAvatar:n.avatarUrl,onUpdate:()=>{window.location.reload()}}),T.jsx(W6,{show:a,onHide:()=>l(!1)})]})}function eV(n){return Dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",x2:"4",y1:"22",y2:"15"},child:[]}]})(n)}function tV(n){return Dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,13 C14.209139,13 16,11.209139 16,9 C16,6.790861 14.209139,5 12,5 C9.790861,5 8,6.790861 8,9 C8,11.209139 9.790861,13 12,13 Z M6,22 L6,19 C6,15.6862915 8.6862915,13 12,13 C15.3137085,13 18,15.6862915 18,19 L18,22 M13,5 C13.4037285,3.33566165 15.0151447,2 17,2 C19.172216,2 20.98052,3.790861 21,6 C20.98052,8.209139 19.172216,10 17,10 L16,10 L17,10 C20.287544,10 23,12.6862915 23,16 L23,18 M11,5 C10.5962715,3.33566165 8.98485529,2 7,2 C4.82778404,2 3.01948003,3.790861 3,6 C3.01948003,8.209139 4.82778404,10 7,10 L8,10 L7,10 C3.71245602,10 1,12.6862915 1,16 L1,18"},child:[]}]})(n)}function nV(n){return Dt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2.5a5.5 5.5 0 0 1 3.096 10.047 9.005 9.005 0 0 1 5.9 8.181.75.75 0 1 1-1.499.044 7.5 7.5 0 0 0-14.993 0 .75.75 0 0 1-1.5-.045 9.005 9.005 0 0 1 5.9-8.18A5.5 5.5 0 0 1 12 2.5ZM8 8a4 4 0 1 0 8 0 4 4 0 0 0-8 0Z"},child:[]}]})(n)}function iV({show:n,onHide:e,onConfirm:t}){return T.jsxs(ot,{show:n,onHide:e,centered:!0,children:[T.jsx(ot.Header,{closeButton:!0,children:T.jsx(ot.Title,{children:"Confirm Logout"})}),T.jsx(ot.Body,{children:"Are you sure you want to log out?"}),T.jsxs(ot.Footer,{children:[T.jsx(Ki,{variant:"secondary",onClick:e,children:"Cancel"}),T.jsx(Ki,{variant:"primary",onClick:t,children:"Logout"})]})]})}function rV(){var c,d;const[n,e]=C.useState(!1),t=Oa(),s=Pr(),a=/\/health-quest\/(\w+)/,l=async()=>{try{await dA(),t("/health-quest/login")}catch(p){console.error("Error logging out:",p)}};return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"container",children:T.jsxs("div",{className:"row navbar",children:[T.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{borderRight:"2px solid lightgray",color:((c=s.pathname.match(a))==null?void 0:c[1])=="profile"?"green":"black"},children:T.jsx(nV,{onClick:()=>{t("/health-quest/profile")},className:"navbar-icon"})}),T.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{borderRight:"2px solid lightgray",color:s.pathname=="/health-quest/"?"green":"black"},children:T.jsx(eV,{onClick:()=>{t("/health-quest/")},className:"navbar-icon"})}),T.jsx("div",{className:"col-4 text-center navbar-icon-container",style:{color:((d=s.pathname.match(a))==null?void 0:d[1])=="group"?"green":"black"},children:T.jsx(tV,{onClick:()=>{t("/health-quest/group")},className:"navbar-icon"})})]})}),T.jsx(iV,{show:n,onHide:()=>e(!1),onConfirm:()=>{l(),e(!1)}})]})}function sV(){const n=Oa(),[e,t]=C.useState(null),[s,a]=C.useState(!1),{isAuthenticated:l}=La();C.useEffect(()=>{l&&n("/health-quest")},[l,n]);const c=async()=>{try{t(null),a(!0),await ZM()}catch(d){console.error("Error logging in:",d),t("Failed to sign in. Please try again.")}finally{a(!1)}};return T.jsx("div",{className:"container mt-5",children:T.jsx("div",{className:"row justify-content-center",children:T.jsxs("div",{className:"col-md-6 text-center",children:[T.jsx("h2",{className:"mb-4",children:"Welcome to Health Quest"}),e&&T.jsx("div",{className:"alert alert-danger mb-3",role:"alert",children:e}),T.jsx("button",{className:"btn btn-primary",onClick:c,disabled:s,children:s?T.jsxs(T.Fragment,{children:[T.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Signing in..."]}):"Sign in with Google"})]})})})}function Tp({children:n}){const{isAuthenticated:e,loading:t}=La();return t?T.jsx(Gf,{size:"lg"}):e?T.jsx(T.Fragment,{children:n}):T.jsx(l2,{to:"/health-quest/login"})}function aV(){const{currentUser:n,loading:e}=La();return e?T.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:T.jsx("div",{className:"spinner-border text-primary",role:"status",children:T.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):T.jsxs(M2,{children:[T.jsxs(c2,{children:[T.jsx(mu,{path:"/health-quest/login",element:T.jsx(sV,{})}),T.jsx(mu,{path:"/health-quest",element:T.jsx(Tp,{children:T.jsx(F6,{})})}),T.jsx(mu,{path:"/health-quest/profile",element:T.jsx(Tp,{children:T.jsx(J6,{})})}),T.jsx(mu,{path:"/health-quest/group",element:T.jsx(Tp,{children:T.jsx(G6,{})})})]}),n&&T.jsx(rV,{})]})}_R.createRoot(document.getElementById("root")).render(T.jsx(vn.StrictMode,{children:T.jsx(ek,{children:T.jsx(aV,{})})}));
